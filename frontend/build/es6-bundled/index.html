<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes"><title>rapid-pbd</title><meta name="description" content="rapid-pbd description"><link rel="manifest" href="/manifest.json"><script>(function(){/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
'use strict';var nb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
(function(){function k(){var a=this;this.s={};this.g=document.documentElement;var b=new za;b.rules=[];this.h=y.set(this.g,new y(b));this.i=!1;this.b=this.a=null;ob(function(){a.c()})}function F(){this.customStyles=[];this.enqueued=!1}function pb(){}function ha(a){this.cache={};this.c=void 0===a?100:a}function p(){}function y(a,b,c,d,e){this.G=a||null;this.b=b||null;this.sa=c||[];this.P=null;this.Y=e||"";this.a=this.B=this.K=null}function r(){}function za(){this.end=this.start=0;this.rules=this.parent=
this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}function $c(a){function b(b,c){Object.defineProperty(b,"innerHTML",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(b){var d=this,e=void 0;n(this)&&(e=[],M(this,function(a){a!==d&&e.push(a)}));c.set.call(this,b);if(e)for(var f=0;f<e.length;f++){var g=e[f];1===g.__CE_state&&a.disconnectedCallback(g)}this.ownerDocument.__CE_hasRegistry?a.f(this):a.l(this);
return b}})}function c(b,c){t(b,"insertAdjacentElement",function(b,d){var e=n(d);b=c.call(this,b,d);e&&a.a(d);n(b)&&a.b(d);return b})}qb?t(Element.prototype,"attachShadow",function(a){return this.__CE_shadowRoot=a=qb.call(this,a)}):console.warn("Custom Elements: `Element#attachShadow` was not patched.");if(Aa&&Aa.get)b(Element.prototype,Aa);else if(Ba&&Ba.get)b(HTMLElement.prototype,Ba);else{var d=Ca.call(document,"div");a.v(function(a){b(a,{enumerable:!0,configurable:!0,get:function(){return rb.call(this,
!0).innerHTML},set:function(a){var b="template"===this.localName?this.content:this;for(d.innerHTML=a;0<b.childNodes.length;)Da.call(b,b.childNodes[0]);for(;0<d.childNodes.length;)ja.call(b,d.childNodes[0])}})})}t(Element.prototype,"setAttribute",function(b,c){if(1!==this.__CE_state)return sb.call(this,b,c);var d=Ea.call(this,b);sb.call(this,b,c);c=Ea.call(this,b);a.attributeChangedCallback(this,b,d,c,null)});t(Element.prototype,"setAttributeNS",function(b,c,d){if(1!==this.__CE_state)return tb.call(this,
b,c,d);var e=ka.call(this,b,c);tb.call(this,b,c,d);d=ka.call(this,b,c);a.attributeChangedCallback(this,c,e,d,b)});t(Element.prototype,"removeAttribute",function(b){if(1!==this.__CE_state)return ub.call(this,b);var c=Ea.call(this,b);ub.call(this,b);null!==c&&a.attributeChangedCallback(this,b,c,null,null)});t(Element.prototype,"removeAttributeNS",function(b,c){if(1!==this.__CE_state)return vb.call(this,b,c);var d=ka.call(this,b,c);vb.call(this,b,c);var e=ka.call(this,b,c);d!==e&&a.attributeChangedCallback(this,
c,d,e,b)});wb?c(HTMLElement.prototype,wb):xb?c(Element.prototype,xb):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched.");yb(a,Element.prototype,{La:ad,append:bd});cd(a,{lb:dd,kb:ed,vb:fd,remove:gd})}function cd(a,b){var c=Element.prototype;c.before=function(c){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];f=d.filter(function(a){return a instanceof Node&&n(a)});b.lb.apply(this,d);for(var g=0;g<f.length;g++)a.a(f[g]);if(n(this))for(f=0;f<d.length;f++)g=d[f],
g instanceof Element&&a.b(g)};c.after=function(c){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];f=d.filter(function(a){return a instanceof Node&&n(a)});b.kb.apply(this,d);for(var g=0;g<f.length;g++)a.a(f[g]);if(n(this))for(f=0;f<d.length;f++)g=d[f],g instanceof Element&&a.b(g)};c.replaceWith=function(c){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];f=d.filter(function(a){return a instanceof Node&&n(a)});var g=n(this);b.vb.apply(this,d);for(var h=0;h<f.length;h++)a.a(f[h]);
if(g)for(a.a(this),f=0;f<d.length;f++)g=d[f],g instanceof Element&&a.b(g)};c.remove=function(){var c=n(this);b.remove.call(this);c&&a.a(this)}}function hd(a){function b(b,d){Object.defineProperty(b,"textContent",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(b){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,b);else{var c=void 0;if(this.firstChild){var e=this.childNodes,h=e.length;if(0<h&&n(this)){c=Array(h);for(var m=0;m<h;m++)c[m]=e[m]}}d.set.call(this,b);if(c)for(b=0;b<c.length;b++)a.a(c[b])}}})}
t(Node.prototype,"insertBefore",function(b,d){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);b=zb.call(this,b,d);if(n(this))for(d=0;d<c.length;d++)a.b(c[d]);return b}c=n(b);d=zb.call(this,b,d);c&&a.a(b);n(this)&&a.b(b);return d});t(Node.prototype,"appendChild",function(b){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);b=ja.call(this,b);if(n(this))for(var e=0;e<c.length;e++)a.b(c[e]);return b}c=n(b);e=ja.call(this,b);c&&a.a(b);n(this)&&
a.b(b);return e});t(Node.prototype,"cloneNode",function(b){b=rb.call(this,b);this.ownerDocument.__CE_hasRegistry?a.f(b):a.l(b);return b});t(Node.prototype,"removeChild",function(b){var c=n(b),e=Da.call(this,b);c&&a.a(b);return e});t(Node.prototype,"replaceChild",function(b,d){if(b instanceof DocumentFragment){var c=Array.prototype.slice.apply(b.childNodes);b=Ab.call(this,b,d);if(n(this))for(a.a(d),d=0;d<c.length;d++)a.b(c[d]);return b}c=n(b);var f=Ab.call(this,b,d),g=n(this);g&&a.a(d);c&&a.a(b);g&&
a.b(b);return f});Fa&&Fa.get?b(Node.prototype,Fa):a.v(function(a){b(a,{enumerable:!0,configurable:!0,get:function(){for(var a=[],b=0;b<this.childNodes.length;b++)a.push(this.childNodes[b].textContent);return a.join("")},set:function(a){for(;this.firstChild;)Da.call(this,this.firstChild);ja.call(this,document.createTextNode(a))}})})}function id(a){t(Document.prototype,"createElement",function(b){if(this.__CE_hasRegistry){var c=a.c(b);if(c)return new c.constructor}b=Ca.call(this,b);a.g(b);return b});
t(Document.prototype,"importNode",function(b,c){b=jd.call(this,b,c);this.__CE_hasRegistry?a.f(b):a.l(b);return b});t(Document.prototype,"createElementNS",function(b,c){if(this.__CE_hasRegistry&&(null===b||"http://www.w3.org/1999/xhtml"===b)){var d=a.c(c);if(d)return new d.constructor}b=kd.call(this,b,c);a.g(b);return b});yb(a,Document.prototype,{La:ld,append:md})}function yb(a,b,c){b.prepend=function(b){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];f=d.filter(function(a){return a instanceof
Node&&n(a)});c.La.apply(this,d);for(var g=0;g<f.length;g++)a.a(f[g]);if(n(this))for(f=0;f<d.length;f++)g=d[f],g instanceof Element&&a.b(g)};b.append=function(b){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];f=d.filter(function(a){return a instanceof Node&&n(a)});c.append.apply(this,d);for(var g=0;g<f.length;g++)a.a(f[g]);if(n(this))for(f=0;f<d.length;f++)g=d[f],g instanceof Element&&a.b(g)}}function nd(a){window.HTMLElement=function(){function b(){var b=this.constructor,d=a.C(b);if(!d)throw Error("The custom element being constructed was not registered with `customElements`.");
var e=d.constructionStack;if(!e.length)return e=Ca.call(document,d.localName),Object.setPrototypeOf(e,b.prototype),e.__CE_state=1,e.__CE_definition=d,a.g(e),e;d=e.length-1;var f=e[d];if(f===Bb)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");e[d]=Bb;Object.setPrototypeOf(f,b.prototype);a.g(f);return f}b.prototype=od.prototype;return b}()}function q(a){this.c=!1;this.a=a;this.h=new Map;this.f=function(a){return a()};this.b=!1;this.g=
[];this.i=new Ga(a,document)}function Cb(){var a=this;this.b=this.a=void 0;this.c=new Promise(function(b){a.b=b;a.a&&b(a.a)})}function Ga(a,b){this.b=a;this.a=b;this.N=void 0;this.b.f(this.a);"loading"===this.a.readyState&&(this.N=new MutationObserver(this.f.bind(this)),this.N.observe(this.a,{childList:!0,subtree:!0}))}function A(){this.u=new Map;this.s=new Map;this.j=[];this.h=!1}function l(a,b,c){if(a!==Db)throw new TypeError("Illegal constructor");a=document.createDocumentFragment();a.__proto__=
l.prototype;a.D(b,c);return a}function la(a){if(!a.__shady||void 0===a.__shady.firstChild){a.__shady=a.__shady||{};a.__shady.firstChild=Ha(a);a.__shady.lastChild=Ia(a);Eb(a);for(var b=a.__shady.childNodes=S(a),c=0,d;c<b.length&&(d=b[c]);c++)d.__shady=d.__shady||{},d.__shady.parentNode=a,d.__shady.nextSibling=b[c+1]||null,d.__shady.previousSibling=b[c-1]||null,Fb(d)}}function pd(a){var b=a&&a.N;b&&(b.ba.delete(a.bb),b.ba.size||(a.gb.__shady.W=null))}function qd(a,b){a.__shady=a.__shady||{};a.__shady.W||
(a.__shady.W=new ma);a.__shady.W.ba.add(b);var c=a.__shady.W;return{bb:b,N:c,gb:a,takeRecords:function(){return c.takeRecords()}}}function ma(){this.a=!1;this.addedNodes=[];this.removedNodes=[];this.ba=new Set}function T(a){return a.__shady&&void 0!==a.__shady.firstChild}function B(a){return"ShadyRoot"===a.Xa}function Z(a){a=a.getRootNode();if(B(a))return a}function Ja(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length&&(e=c[d]);d++){var f=Object.getOwnPropertyDescriptor(b,e);f&&
Object.defineProperty(a,e,f)}}function Ka(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];for(d=0;d<c.length;d++)Ja(a,c[d]);return a}function rd(a,b){for(var c in b)a[c]=b[c]}function Gb(a){La.push(a);Ma.textContent=Hb++}function Ib(a){Na||(Na=!0,Gb(na));aa.push(a)}function na(){Na=!1;for(var a=!!aa.length;aa.length;)aa.shift()();return a}function sd(a,b){var c=b.getRootNode();return a.map(function(a){var b=c===a.target.getRootNode();if(b&&a.addedNodes){if(b=Array.from(a.addedNodes).filter(function(a){return c===
a.getRootNode()}),b.length)return a=Object.create(a),Object.defineProperty(a,"addedNodes",{value:b,configurable:!0}),a}else if(b)return a}).filter(function(a){return a})}function Jb(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function Kb(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function Oa(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):a.childNodes,e=0,f=d.length,g;e<f&&(g=d[e]);e++){a:{var h=
g;var m=a;var Q=b;switch(h.nodeType){case Node.ELEMENT_NODE:for(var k=h.localName,ia="<"+k,l=h.attributes,n=0;m=l[n];n++)ia+=" "+m.name+'="'+m.value.replace(td,Jb)+'"';ia+=">";h=ud[k]?ia:ia+Oa(h,Q)+"</"+k+">";break a;case Node.TEXT_NODE:h=h.data;h=m&&vd[m.localName]?h:h.replace(wd,Jb);break a;case Node.COMMENT_NODE:h="\x3c!--"+h.data+"--\x3e";break a;default:throw window.console.error(h),Error("not implemented");}}c+=h}return c}function U(a){v.currentNode=a;return v.parentNode()}function Ha(a){v.currentNode=
a;return v.firstChild()}function Ia(a){v.currentNode=a;return v.lastChild()}function Lb(a){v.currentNode=a;return v.previousSibling()}function Mb(a){v.currentNode=a;return v.nextSibling()}function S(a){var b=[];v.currentNode=a;for(a=v.firstChild();a;)b.push(a),a=v.nextSibling();return b}function Nb(a){C.currentNode=a;return C.parentNode()}function Ob(a){C.currentNode=a;return C.firstChild()}function Pb(a){C.currentNode=a;return C.lastChild()}function Qb(a){C.currentNode=a;return C.previousSibling()}
function Rb(a){C.currentNode=a;return C.nextSibling()}function Sb(a){var b=[];C.currentNode=a;for(a=C.firstChild();a;)b.push(a),a=C.nextSibling();return b}function Tb(a){return Oa(a,function(a){return S(a)})}function Ub(a){switch(a.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:a=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);for(var b="",c;c=a.nextNode();)b+=c.nodeValue;return b;default:return a.nodeValue}}function G(a,b,c){for(var d in b){var e=Object.getOwnPropertyDescriptor(a,
d);e&&e.configurable||!e&&c?Object.defineProperty(a,d,b[d]):c&&console.warn("Could not define",d,"on",a)}}function O(a){G(a,Vb);G(a,Pa);G(a,Qa)}function Wb(a,b,c){Fb(a);c=c||null;a.__shady=a.__shady||{};b.__shady=b.__shady||{};c&&(c.__shady=c.__shady||{});a.__shady.previousSibling=c?c.__shady.previousSibling:b.lastChild;var d=a.__shady.previousSibling;d&&d.__shady&&(d.__shady.nextSibling=a);(d=a.__shady.nextSibling=c)&&d.__shady&&(d.__shady.previousSibling=a);a.__shady.parentNode=b;c?c===b.__shady.firstChild&&
(b.__shady.firstChild=a):(b.__shady.lastChild=a,b.__shady.firstChild||(b.__shady.firstChild=a));b.__shady.childNodes=null}function Ra(a,b,c){if(b===a)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(c){var d=c.__shady&&c.__shady.parentNode;if(void 0!==d&&d!==a||void 0===d&&U(c)!==a)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.");}if(c===b)return b;b.parentNode&&
Sa(b.parentNode,b);d=Z(a);var e;if(e=d)a:{if(!b.__noInsertionPoint){var f;"slot"===b.localName?f=[b]:b.querySelectorAll&&(f=b.querySelectorAll("slot"));if(f&&f.length){e=f;break a}}e=void 0}f=e;d&&("slot"===a.localName||f)&&d.M();if(T(a)){e=c;Eb(a);a.__shady=a.__shady||{};void 0!==a.__shady.firstChild&&(a.__shady.childNodes=null);if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var g=b.childNodes,h=0;h<g.length;h++)Wb(g[h],a,e);b.__shady=b.__shady||{};e=void 0!==b.__shady.firstChild?null:void 0;b.__shady.firstChild=
b.__shady.lastChild=e;b.__shady.childNodes=e}else Wb(b,a,e);if(Ta(a)){a.__shady.root.M();var m=!0}else a.__shady.root&&(m=!0)}m||(m=B(a)?a.host:a,c?(c=Xb(c),Ua.call(m,b,c)):Yb.call(m,b));Zb(a,b);f&&d.ab(f);return b}function Sa(a,b){if(b.parentNode!==a)throw Error("The node to be removed is not a child of this node: "+b);var c=Z(b);if(T(a)){b.__shady=b.__shady||{};a.__shady=a.__shady||{};b===a.__shady.firstChild&&(a.__shady.firstChild=b.__shady.nextSibling);b===a.__shady.lastChild&&(a.__shady.lastChild=
b.__shady.previousSibling);var d=b.__shady.previousSibling;var e=b.__shady.nextSibling;d&&(d.__shady=d.__shady||{},d.__shady.nextSibling=e);e&&(e.__shady=e.__shady||{},e.__shady.previousSibling=d);b.__shady.parentNode=b.__shady.previousSibling=b.__shady.nextSibling=void 0;void 0!==a.__shady.childNodes&&(a.__shady.childNodes=null);if(Ta(a)){a.__shady.root.M();var f=!0}}$b(b);c&&((e=a&&"slot"===a.localName)&&(f=!0),((d=c.hb(b))||e)&&c.M());f||(f=B(a)?a.host:a,(!a.__shady.root&&"slot"!==b.localName||
f===U(b))&&ba.call(f,b));Zb(a,null,b);return b}function $b(a){if(a.__shady&&void 0!==a.__shady.ta)for(var b=a.childNodes,c=0,d=b.length,e;c<d&&(e=b[c]);c++)$b(e);a.__shady&&(a.__shady.ta=void 0)}function Xb(a){var b=a;a&&"slot"===a.localName&&(b=(b=a.__shady&&a.__shady.U)&&b.length?b[0]:Xb(a.nextSibling));return b}function Ta(a){return(a=a&&a.__shady&&a.__shady.root)&&a.Ba()}function ac(a,b){"slot"===b?(a=a.parentNode,Ta(a)&&a.__shady.root.M()):"slot"===a.localName&&"name"===b&&(b=Z(a))&&(b.jb(a),
b.M())}function Zb(a,b,c){if(a=a.__shady&&a.__shady.W)b&&a.addedNodes.push(b),c&&a.removedNodes.push(c),a.xb()}function bc(a){if(a&&a.nodeType){a.__shady=a.__shady||{};var b=a.__shady.ta;void 0===b&&(B(a)?b=a:b=(b=a.parentNode)?bc(b):a,document.documentElement.contains(a)&&(a.__shady.ta=b));return b}}function oa(a,b,c){var d=[];cc(a.childNodes,b,c,d);return d}function cc(a,b,c,d){for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){var h;if(h=g.nodeType===Node.ELEMENT_NODE){h=g;var m=b,Q=c,k=d,l=m(h);l&&k.push(h);
Q&&Q(l)?h=l:(cc(h.childNodes,m,Q,k),h=void 0)}if(h)break}}function dc(a){a=a.getRootNode();B(a)&&a.Ea()}function ec(a,b,c){pa||(pa=window.ShadyCSS&&window.ShadyCSS.ScopingShim);pa&&"class"===b?pa.setElementClass(a,c):(fc.call(a,b,c),ac(a,b))}function gc(a,b){if(a.ownerDocument!==document)return Va.call(document,a,b);var c=Va.call(document,a,!1);if(b){a=a.childNodes;b=0;for(var d;b<a.length;b++)d=gc(a[b],!0),c.appendChild(d)}return c}function Wa(a,b){var c=[],d=a;for(a=a===window?window:a.getRootNode();d;)c.push(d),
d=d.assignedSlot?d.assignedSlot:d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host&&(b||d!==a)?d.host:d.parentNode;c[c.length-1]===document&&c.push(window);return c}function hc(a,b){if(!B)return a;a=Wa(a,!0);for(var c=0,d,e,f,g;c<b.length;c++)if(d=b[c],f=d===window?window:d.getRootNode(),f!==e&&(g=a.indexOf(f),e=f),!B(f)||-1<g)return d}function Xa(a){function b(b,d){b=new a(b,d);b.ja=d&&!!d.composed;return b}rd(b,a);b.prototype=a.prototype;return b}function ic(a,b,c){if(c=b.__handlers&&b.__handlers[a.type]&&
b.__handlers[a.type][c])for(var d=0,e;(e=c[d])&&a.target!==a.relatedTarget&&(e.call(b,a),!a.Va);d++);}function xd(a){var b=a.composedPath();Object.defineProperty(a,"currentTarget",{get:function(){return d},configurable:!0});for(var c=b.length-1;0<=c;c--){var d=b[c];ic(a,d,"capture");if(a.ka)return}Object.defineProperty(a,"eventPhase",{get:function(){return Event.AT_TARGET}});var e;for(c=0;c<b.length;c++){d=b[c];var f=d.__shady&&d.__shady.root;if(!c||f&&f===e)if(ic(a,d,"bubble"),d!==window&&(e=d.getRootNode()),
a.ka)break}}function jc(a,b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g],m=h.type,Q=h.capture,k=h.once,l=h.passive;if(b===h.node&&c===m&&d===Q&&e===k&&f===l)return g}return-1}function kc(a,b,c){if(b){if("object"===typeof c){var d=!!c.capture;var e=!!c.once;var f=!!c.passive}else d=!!c,f=e=!1;var g=c&&c.la||this,h=b.Z;if(h){if(-1<jc(h,g,a,d,e,f))return}else b.Z=[];h=function(d){e&&this.removeEventListener(a,b,c);d.__target||lc(d);if(g!==this){var f=Object.getOwnPropertyDescriptor(d,"currentTarget");
Object.defineProperty(d,"currentTarget",{get:function(){return g},configurable:!0})}if(d.composed||-1<d.composedPath().indexOf(g))if(d.target===d.relatedTarget)d.eventPhase===Event.BUBBLING_PHASE&&d.stopImmediatePropagation();else if(d.eventPhase===Event.CAPTURING_PHASE||d.bubbles||d.target===g){var h="object"===typeof b&&b.handleEvent?b.handleEvent(d):b.call(g,d);g!==this&&(f?(Object.defineProperty(d,"currentTarget",f),f=null):delete d.currentTarget);return h}};b.Z.push({node:this,type:a,capture:d,
once:e,passive:f,Bb:h});Ya[a]?(this.__handlers=this.__handlers||{},this.__handlers[a]=this.__handlers[a]||{capture:[],bubble:[]},this.__handlers[a][d?"capture":"bubble"].push(h)):(this instanceof Window?mc:nc).call(this,a,h,c)}}function oc(a,b,c){if(b){if("object"===typeof c){var d=!!c.capture;var e=!!c.once;var f=!!c.passive}else d=!!c,f=e=!1;var g=c&&c.la||this,h=void 0;var m=null;try{m=b.Z}catch(Q){}m&&(e=jc(m,g,a,d,e,f),-1<e&&(h=m.splice(e,1)[0].Bb,m.length||(b.Z=void 0)));(this instanceof Window?
pc:qc).call(this,a,h||b,c);h&&Ya[a]&&this.__handlers&&this.__handlers[a]&&(a=this.__handlers[a][d?"capture":"bubble"],h=a.indexOf(h),-1<h&&a.splice(h,1))}}function yd(){for(var a in Ya)window.addEventListener(a,function(a){a.__target||(lc(a),xd(a))},!0)}function lc(a){a.__target=a.target;a.za=a.relatedTarget;if(D.V){var b=rc,c=Object.getPrototypeOf(a);if(!c.hasOwnProperty("__patchProto")){var d=Object.create(c);d.Db=c;Ja(d,b);c.__patchProto=d}a.__proto__=c.__patchProto}else Ja(a,rc)}function ca(a,
b){return{index:a,X:[],aa:b}}function zd(a,b,c,d){var e=0,f=0,g=0,h=0,m=Math.min(b-e,d-f);if(0==e&&0==f)a:{for(g=0;g<m;g++)if(a[g]!==c[g])break a;g=m}if(b==a.length&&d==c.length){h=a.length;for(var k=c.length,l=0;l<m-g&&Ad(a[--h],c[--k]);)l++;h=l}e+=g;f+=g;b-=h;d-=h;if(!(b-e||d-f))return[];if(e==b){for(b=ca(e,0);f<d;)b.X.push(c[f++]);return[b]}if(f==d)return[ca(e,b-e)];m=e;g=f;d=d-g+1;h=b-m+1;b=Array(d);for(k=0;k<d;k++)b[k]=Array(h),b[k][0]=k;for(k=0;k<h;k++)b[0][k]=k;for(k=1;k<d;k++)for(l=1;l<h;l++)if(a[m+
l-1]===c[g+k-1])b[k][l]=b[k-1][l-1];else{var n=b[k-1][l]+1,p=b[k][l-1]+1;b[k][l]=n<p?n:p}m=b.length-1;g=b[0].length-1;d=b[m][g];for(a=[];0<m||0<g;)m?g?(h=b[m-1][g-1],k=b[m-1][g],l=b[m][g-1],n=k<l?k<h?k:h:l<h?l:h,n==h?(h==d?a.push(0):(a.push(1),d=h),m--,g--):n==k?(a.push(3),m--,d=k):(a.push(2),g--,d=l)):(a.push(3),m--):(a.push(2),g--);a.reverse();b=void 0;m=[];for(g=0;g<a.length;g++)switch(a[g]){case 0:b&&(m.push(b),b=void 0);e++;f++;break;case 1:b||(b=ca(e,0));b.aa++;e++;b.X.push(c[f]);f++;break;
case 2:b||(b=ca(e,0));b.aa++;e++;break;case 3:b||(b=ca(e,0)),b.X.push(c[f]),f++}b&&m.push(b);return m}function Ad(a,b){return a===b}function sc(a){var b=[];do b.unshift(a);while(a=a.parentNode);return b}function tc(a){dc(a);return a.__shady&&a.__shady.assignedSlot||null}function I(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f.value?a[e]=f.value:Object.defineProperty(a,e,f)}}function Bd(){var a=window.customElements&&window.customElements.nativeHTMLElement||
HTMLElement;I(window.Node.prototype,Cd);I(window.Window.prototype,Dd);I(window.Text.prototype,Ed);I(window.DocumentFragment.prototype,Za);I(window.Element.prototype,uc);I(window.Document.prototype,vc);window.HTMLSlotElement&&I(window.HTMLSlotElement.prototype,wc);I(a.prototype,Fd);D.V&&(O(window.Node.prototype),O(window.Text.prototype),O(window.DocumentFragment.prototype),O(window.Element.prototype),O(a.prototype),O(window.Document.prototype),window.HTMLSlotElement&&O(window.HTMLSlotElement.prototype))}
function xc(a){var b=Gd.has(a);a=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(a);return!b&&a}function n(a){var b=a.isConnected;if(void 0!==b)return b;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}function $a(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}function M(a,b,c){c=c?c:new Set;for(var d=a;d;){if(d.nodeType===
Node.ELEMENT_NODE){var e=d;b(e);var f=e.localName;if("link"===f&&"import"===e.getAttribute("rel")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)M(d,b,c);d=$a(a,e);continue}else if("template"===f){d=$a(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)M(e,b,c)}d=d.firstChild?d.firstChild:$a(a,d)}}function t(a,b,c){a[b]=c}function ab(a){a=a.replace(J.nb,"").replace(J.port,"");var b=yc,c=a,d=new za;d.start=0;d.end=c.length;for(var e=
d,f=0,g=c.length;f<g;f++)if("{"===c[f]){e.rules||(e.rules=[]);var h=e,m=h.rules[h.rules.length-1]||null;e=new za;e.start=f+1;e.parent=h;e.previous=m;h.rules.push(e)}else"}"===c[f]&&(e.end=f+1,e=e.parent||d);return b(d,a)}function yc(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&((c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=Hd(c),c=c.replace(J.Ka," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=!c.indexOf("@"),
a.atRule)?c.indexOf("@media")?c.match(J.sb)&&(a.type=K.ia,a.keyframesName=a.selector.split(J.Ka).pop()):a.type=K.MEDIA_RULE:a.type=c.indexOf("--")?K.STYLE_RULE:K.va);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)yc(f,b);return a}function Hd(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})}function zc(a,b,c){c=void 0===c?"":c;var d="";if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));
if(f){f=0;for(var g=e.length,h;f<g&&(h=e[f]);f++)d=zc(h,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(J.Fa,"").replace(J.Ja,""),b=b.replace(J.tb,"").replace(J.zb,"")),(d=b.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" {\n"),c+=d,a.selector&&(c+="}\n\n"));return c}function Ac(a){w=a&&a.shimcssproperties?!1:u||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}function V(a,b){if(!a)return"";"string"===
typeof a&&(a=ab(a));b&&W(a,b);return zc(a,w)}function qa(a){!a.__cssRules&&a.textContent&&(a.__cssRules=ab(a.textContent));return a.__cssRules||null}function Bc(a){return!!a.parent&&a.parent.type===K.ia}function W(a,b,c,d){if(a){var e=!1,f=a.type;if(d&&f===K.MEDIA_RULE){var g=a.selector.match(Id);g&&(window.matchMedia(g[1]).matches||(e=!0))}f===K.STYLE_RULE?b(a):c&&f===K.ia?c(a):f===K.va&&(e=!0);if((a=a.rules)&&!e){e=0;f=a.length;for(var h;e<f&&(h=a[e]);e++)W(h,b,c,d)}}}function bb(a,b,c,d){var e=
document.createElement("style");b&&e.setAttribute("scope",b);e.textContent=a;Cc(e,c,d);return e}function Cc(a,b,c){b=b||document.head;b.insertBefore(a,c&&c.nextSibling||b.firstChild);P?a.compareDocumentPosition(P)===Node.DOCUMENT_POSITION_PRECEDING&&(P=a):P=a}function Dc(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");a:{var d=0;var e=c+3;for(var f=a.length;e<f;e++)if("("===a[e])d++;else if(")"===a[e]&&!--d)break a;e=-1}d=a.substring(c+4,e);c=a.substring(0,c);a=Dc(a.substring(e+1),b);
e=d.indexOf(",");return-1===e?b(c,d.trim(),"",a):b(c,d.substring(0,e).trim(),d.substring(e+1).trim(),a)}function ra(a,b){u?a.setAttribute("class",b):window.ShadyDOM.nativeMethods.setAttribute.call(a,"class",b)}function R(a){var b=a.localName,c="";b?-1<b.indexOf("-")||(c=b,b=a.getAttribute&&a.getAttribute("is")||""):(b=a.is,c=a.extends);return{is:b,Y:c}}function Ec(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.target!==document.documentElement&&c.target!==document.head)for(var d=0;d<c.addedNodes.length;d++){var e=
c.addedNodes[d];if(e.nodeType===Node.ELEMENT_NODE){var f=e.getRootNode();var g=e;var h=[];g.classList?h=Array.from(g.classList):g instanceof window.SVGElement&&g.hasAttribute("class")&&(h=g.getAttribute("class").split(/\s+/));g=h;h=g.indexOf(x.c);(g=-1<h?g[h+1]:"")&&f===e.ownerDocument?x.a(e,g,!0):f.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(f=f.host)&&(f=R(f).is,g!==f&&(g&&x.a(e,g,!0),x.a(e,f)))}}}}function Jd(a){if(a=sa[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=
a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function Fc(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function Kd(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a.b||(a.b=!0,Ld.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a.b=!1}))}function ob(a){requestAnimationFrame(function(){Gc?Gc(a):(cb||(cb=new Promise(function(a){db=a}),"complete"===document.readyState?db():document.addEventListener("readystatechange",
function(){"complete"===document.readyState&&db()})),cb.then(function(){a&&a()}))})}(function(){if(!function(){var a=document.createEvent("Event");a.initEvent("foo",!0,!0);a.preventDefault();return a.defaultPrevented}()){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var b=/Trident/.test(navigator.userAgent);if(!window.CustomEvent||b&&"function"!==
typeof window.CustomEvent)window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c},window.CustomEvent.prototype=window.Event.prototype;if(!window.Event||b&&"function"!==typeof window.Event){var c=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");c.initEvent(a,!!b.bubbles,!!b.cancelable);return c};if(c)for(var d in c)window.Event[d]=c[d];window.Event.prototype=c.prototype}if(!window.MouseEvent||
b&&"function"!==typeof window.MouseEvent){b=window.MouseEvent;window.MouseEvent=function(a,b){b=b||{};var c=document.createEvent("MouseEvent");c.initMouseEvent(a,!!b.bubbles,!!b.cancelable,b.view||window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);return c};if(b)for(d in b)window.MouseEvent[d]=b[d];window.MouseEvent.prototype=b.prototype}Array.from||(Array.from=function(a){return[].slice.call(a)});Object.assign||(Object.assign=
function(a,b){for(var c=[].slice.call(arguments,1),d=0,e;d<c.length;d++)if(e=c[d])for(var f=a,k=e,l=Object.getOwnPropertyNames(k),n=0;n<l.length;n++)e=l[n],f[e]=k[e];return a})})(window.WebComponents);(function(){function a(){}var b="undefined"===typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&function(){var a=Document.prototype.importNode;Document.prototype.importNode=function(){var b=a.apply(this,arguments);if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var c=this.createDocumentFragment();
c.appendChild(b);return c}return b}}();var c=Node.prototype.cloneNode,d=Document.prototype.createElement,e=Document.prototype.importNode,f=function(){if(!b){var a=document.createElement("template"),c=document.createElement("template");c.content.appendChild(document.createElement("div"));a.content.appendChild(c);a=a.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length||!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment)}}();
if(b){var g=function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case "\u00a0":return"&nbsp;"}},h=function(b){Object.defineProperty(b,"innerHTML",{get:function(){for(var a="",b=this.content.firstChild;b;b=b.nextSibling)a+=b.outerHTML||b.data.replace(r,g);return a},set:function(b){m.body.innerHTML=b;for(a.b(m);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;m.body.firstChild;)this.content.appendChild(m.body.firstChild)},configurable:!0})},
m=document.implementation.createHTMLDocument("template"),k=!0,l=document.createElement("style");l.textContent="template{display:none;}";var n=document.head;n.insertBefore(l,n.firstElementChild);a.prototype=Object.create(HTMLElement.prototype);var p=!document.createElement("div").hasOwnProperty("innerHTML");a.O=function(b){if(!b.content){b.content=m.createDocumentFragment();for(var c;c=b.firstChild;)b.content.appendChild(c);if(p)b.__proto__=a.prototype;else if(b.cloneNode=function(b){return a.a(this,
b)},k)try{h(b)}catch(z){k=!1}a.b(b.content)}};h(a.prototype);a.b=function(b){b=b.querySelectorAll("template");for(var c=0,d=b.length,e;c<d&&(e=b[c]);c++)a.O(e)};document.addEventListener("DOMContentLoaded",function(){a.b(document)});Document.prototype.createElement=function(){var b=d.apply(this,arguments);"template"===b.localName&&a.O(b);return b};var r=/[&\u00A0<>]/g}if(b||f)a.a=function(a,b){var d=c.call(a,!1);this.O&&this.O(d);b&&(d.content.appendChild(c.call(a.content,!0)),this.ra(d.content,a.content));
return d},a.prototype.cloneNode=function(b){return a.a(this,b)},a.ra=function(a,b){if(b.querySelectorAll){b=b.querySelectorAll("template");a=a.querySelectorAll("template");for(var c=0,d=a.length,e,f;c<d;c++)f=b[c],e=a[c],this.O&&this.O(f),e.parentNode.replaceChild(f.cloneNode(!0),e)}},Node.prototype.cloneNode=function(b){if(this instanceof DocumentFragment)if(b)var d=this.ownerDocument.importNode(this,!0);else return this.ownerDocument.createDocumentFragment();else d=c.call(this,b);b&&a.ra(d,this);
return d},Document.prototype.importNode=function(b,c){if("template"===b.localName)return a.a(b,c);var d=e.call(this,b,c);c&&a.ra(d,b);return d},f&&(window.HTMLTemplateElement.prototype.cloneNode=function(b){return a.a(this,b)});b&&(window.HTMLTemplateElement=a)})();!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.Gb?define(b):a.ES6Promise=b()}(window,function(){function a(a,b){B[v]=a;B[v+1]=b;v+=2;2===v&&(D?D(g):N())}function b(){return function(){return process.Jb(g)}}
function c(){return"undefined"!=typeof C?function(){C(g)}:f()}function d(){var a=0,b=new J(g),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function e(){var a=new MessageChannel;return a.port1.onmessage=g,function(){return a.port2.postMessage(0)}}function f(){var a=setTimeout;return function(){return a(g,1)}}function g(){for(var a=0;a<v;a+=2)(0,B[a])(B[a+1]),B[a]=void 0,B[a+1]=void 0;v=0}function h(){try{var a=require("vertx");return C=a.Lb||a.Kb,
c()}catch(Hc){return f()}}function m(b,c){var d=arguments,e=this,f=new this.constructor(l);void 0===f[K]&&Ic(f);var g=e.o;return g?!function(){var b=d[g-1];a(function(){return Jc(g,f,b,e.m)})}():w(e,f,b,c),f}function k(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=new this(l);return z(b,a),b}function l(){}function n(a){try{return a.then}catch(Hc){return M.error=Hc,M}}function p(a,b,c,d){try{a.call(b,c,d)}catch(Od){return Od}}function r(b,c,d){a(function(a){var b=!1,e=p(d,c,function(d){b||
(b=!0,c!==d?z(a,d):q(a,d))},function(c){b||(b=!0,L(a,c))});!b&&e&&(b=!0,L(a,e))},b)}function y(a,b){b.o===I?q(a,b.m):b.o===H?L(a,b.m):w(b,void 0,function(b){return z(a,b)},function(b){return L(a,b)})}function x(a,b,c){b.constructor===a.constructor&&c===m&&b.constructor.resolve===k?y(a,b):c===M?(L(a,M.error),M.error=null):void 0===c?q(a,b):"function"==typeof c?r(a,b,c):q(a,b)}function z(a,b){if(a===b)L(a,new TypeError("You cannot resolve a promise with itself"));else{var c=typeof b;null===b||"object"!==
c&&"function"!==c?q(a,b):x(a,b,n(b))}}function u(a){a.Ca&&a.Ca(a.m);X(a)}function q(b,c){b.o===G&&(b.m=c,b.o=I,0!==b.T.length&&a(X,b))}function L(b,c){b.o===G&&(b.o=H,b.m=c,a(u,b))}function w(b,c,d,e){var f=b.T,g=f.length;b.Ca=null;f[g]=c;f[g+I]=d;f[g+H]=e;0===g&&b.o&&a(X,b)}function X(a){var b=a.T,c=a.o;if(0!==b.length){for(var d,e,f=a.m,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?Jc(c,d,e,f):e(f);a.T.length=0}}function Kc(){this.error=null}function Jc(a,b,c,d){var e="function"==typeof c,f=void 0,g=void 0,
h=void 0,X=void 0;if(e){try{var k=c(d)}catch(Pd){k=(O.error=Pd,O)}if(f=k,f===O?(X=!0,g=f.error,f.error=null):h=!0,b===f)return void L(b,new TypeError("A promises callback cannot return that same promise."))}else f=d,h=!0;b.o!==G||(e&&h?z(b,f):X?L(b,g):a===I?q(b,f):a===H&&L(b,f))}function Lc(a,b){try{b(function(b){z(a,b)},function(b){L(a,b)})}catch(Md){L(a,Md)}}function Ic(a){a[K]=P++;a.o=void 0;a.m=void 0;a.T=[]}function da(a,b){this.fb=a;this.J=new a(l);this.J[K]||Ic(this.J);A(b)?(this.length=b.length,
this.$=b.length,this.m=Array(this.length),0===this.length?q(this.J,this.m):(this.length=this.length||0,this.eb(b),0===this.$&&q(this.J,this.m))):L(this.J,Error("Array Methods must be provided an Array"))}function E(a){this[K]=P++;this.m=this.o=void 0;this.T=[];if(l!==a){if("function"!=typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof E)Lc(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}var t=void 0,A=t=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},v=0,C=void 0,D=void 0,F=(t="undefined"!=typeof window?window:void 0)||{},J=F.MutationObserver||F.WebKitMutationObserver;F="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;var B=Array(1E3),N=void 0;N="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():J?d():F?e():t||"function"!=
typeof require?f():h();var K=Math.random().toString(36).substring(16),G=void 0,I=1,H=2,M=new Kc,O=new Kc,P=0;return da.prototype.eb=function(a){for(var b=0;this.o===G&&b<a.length;b++)this.cb(a[b],b)},da.prototype.cb=function(a,b){var c=this.fb,d=c.resolve;d===k?(d=n(a),d===m&&a.o!==G?this.oa(a.o,b,a.m):"function"!=typeof d?(this.$--,this.m[b]=a):c===E?(c=new c(l),x(c,a,d),this.pa(c,b)):this.pa(new c(function(b){return b(a)}),b)):this.pa(d(a),b)},da.prototype.oa=function(a,b,c){var d=this.J;d.o===
G&&(this.$--,a===H?L(d,c):this.m[b]=c);0===this.$&&q(d,this.m)},da.prototype.pa=function(a,b){var c=this;w(a,void 0,function(a){return c.oa(I,b,a)},function(a){return c.oa(H,b,a)})},E.g=function(a){return(new da(this,a)).J},E.h=function(a){var b=this;return new b(A(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})},E.resolve=k,E.i=function(a){var b=new this(l);return L(b,a),b},E.f=function(a){D=a},
E.c=function(b){a=b},E.b=a,E.prototype={constructor:E,then:m,"catch":function(a){return this.then(null,a)}},E.a=function(){var a=void 0;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(Nd){throw Error("polyfill failed because global object is unavailable in this environment");}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(Nd){}if("[object Promise]"===c&&!b.Hb)return}a.Promise=E},E.Promise=
E,E.a(),E});(function(a){function b(a,b){if("function"===typeof window.CustomEvent)return new CustomEvent(a,b);var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c}function c(a){if(n)return a.ownerDocument!==document?a.ownerDocument:null;var b=a.__importDoc;if(!b&&a.parentNode){b=a.parentNode;if("function"===typeof b.closest)b=b.closest("link[rel=import]");else for(;!h(b)&&(b=b.parentNode););a.__importDoc=b}return b}function d(a){var b=document.querySelectorAll("link[rel=import]:not(import-dependency)"),
c=b.length;c?l(b,function(b){return g(b,function(){--c||a()})}):a()}function e(a){function b(){"loading"!==document.readyState&&document.body&&(document.removeEventListener("readystatechange",b),a())}document.addEventListener("readystatechange",b);b()}function f(a){e(function(){return d(function(){return a&&a()})})}function g(a,b){if(a.__loaded)b&&b();else if("script"===a.localName&&!a.src||"style"===a.localName&&!a.firstChild)a.__loaded=!0,b&&b();else{var c=function(d){a.removeEventListener(d.type,
c);a.__loaded=!0;b&&b()};a.addEventListener("load",c);w&&"style"===a.localName||a.addEventListener("error",c)}}function h(a){return a.nodeType===Node.ELEMENT_NODE&&"link"===a.localName&&"import"===a.rel}function k(){var a=this;this.a={};this.b=0;this.f=new MutationObserver(function(b){return a.l(b)});this.f.observe(document.head,{childList:!0,subtree:!0});this.c(document)}function l(a,b,c){var d=a?a.length:0,e=c?-1:1;for(c=c?d-1:0;c<d&&0<=c;c+=e)b(a[c],c)}var n="import"in document.createElement("link"),
p=null;!1==="currentScript"in document&&Object.defineProperty(document,"currentScript",{get:function(){return p||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null)},configurable:!0});var q=/(^\/)|(^#)|(^[\w-\d]*:)/,r=/(url\()([^)]*)(\))/g,x=/(@import[\s]+(?!url\())([^;]*)(;)/g,y=/(<link[^>]*)(rel=['|"]?stylesheet['|"]?[^>]*>)/g,z={ob:function(a,b){a.href&&a.setAttribute("href",z.ua(a.getAttribute("href"),b));a.src&&a.setAttribute("src",z.ua(a.getAttribute("src"),b));
if("style"===a.localName){var c=z.Ma(a.textContent,b,r);a.textContent=z.Ma(c,b,x)}},Ma:function(a,b,c){return a.replace(c,function(a,c,d,e){a=d.replace(/["']/g,"");b&&(a=z.Na(a,b));return c+"'"+a+"'"+e})},ua:function(a,b){return a&&q.test(a)?a:z.Na(a,b)},Na:function(a,b){if(void 0===z.ma){z.ma=!1;try{var c=new URL("b","http://a");c.pathname="c%20d";z.ma="http://a/c%20d"===c.href}catch(Lc){}}if(z.ma)return(new URL(a,b)).href;c=z.$a;c||(c=document.implementation.createHTMLDocument("temp"),z.$a=c,c.xa=
c.createElement("base"),c.head.appendChild(c.xa),c.wa=c.createElement("a"));c.xa.href=b;c.wa.href=a;return c.wa.href||a}},v={async:!0,load:function(a,b,c){if(a)if(a.match(/^data:/)){a=a.split(",");var d=a[1];d=-1<a[0].indexOf(";base64")?atob(d):decodeURIComponent(d);b(d)}else{var e=new XMLHttpRequest;e.open("GET",a,v.async);e.onload=function(){var a=e.responseURL||e.getResponseHeader("Location");a&&!a.indexOf("/")&&(a=(location.origin||location.protocol+"//"+location.host)+a);var d=e.response||e.responseText;
304===e.status||!e.status||200<=e.status&&300>e.status?b(d,a):c(d)};e.send()}else c("error: href must be specified")}},w=/Trident/.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent);k.prototype.c=function(a){var b=this;a=a.querySelectorAll("link[rel=import]");l(a,function(a){return b.h(a)})};k.prototype.h=function(a){var b=this,c=a.href;if(void 0!==this.a[c]){var d=this.a[c];d&&d.__loaded&&(a.import=d,this.g(a))}else this.b++,this.a[c]="pending",v.load(c,function(a,d){a=b.s(a,d||c);
b.a[c]=a;b.b--;b.c(a);b.i()},function(){b.a[c]=null;b.b--;b.i()})};k.prototype.s=function(a,b){if(!a)return document.createDocumentFragment();w&&(a=a.replace(y,function(a,b,c){return-1===a.indexOf("type=")?b+" type=import-disable "+c:a}));var c=document.createElement("template");c.innerHTML=a;if(c.content)a=c.content;else for(a=document.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);if(c=a.querySelector("base"))b=z.ua(c.getAttribute("href"),b),c.removeAttribute("href");c=a.querySelectorAll('link[rel=import], link[rel=stylesheet][href][type=import-disable],\n    style:not([type]), link[rel=stylesheet][href]:not([type]),\n    script:not([type]), script[type="application/javascript"],\n    script[type="text/javascript"]');
var d=0;l(c,function(a){g(a);z.ob(a,b);a.setAttribute("import-dependency","");"script"===a.localName&&!a.src&&a.textContent&&(a.setAttribute("src","data:text/javascript;charset=utf-8,"+encodeURIComponent(a.textContent+("\n//# sourceURL="+b+(d?"-"+d:"")+".js\n"))),a.textContent="",d++)});return a};k.prototype.i=function(){var a=this;if(!this.b){this.f.disconnect();this.flatten(document);var b=!1,c=!1,d=function(){c&&b&&(a.c(document),a.b||(a.f.observe(document.head,{childList:!0,subtree:!0}),a.j()))};
this.v(function(){c=!0;d()});this.u(function(){b=!0;d()})}};k.prototype.flatten=function(a){var b=this;a=a.querySelectorAll("link[rel=import]");l(a,function(a){var c=b.a[a.href];(a.import=c)&&c.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(b.a[a.href]=a,a.readyState="loading",a.import=a,b.flatten(c),a.appendChild(c))})};k.prototype.u=function(a){function b(e){if(e<d){var f=c[e],h=document.createElement("script");f.removeAttribute("import-dependency");l(f.attributes,function(a){return h.setAttribute(a.name,
a.value)});p=h;f.parentNode.replaceChild(h,f);g(h,function(){p=null;b(e+1)})}else a()}var c=document.querySelectorAll("script[import-dependency]"),d=c.length;b(0)};k.prototype.v=function(a){var b=document.querySelectorAll("style[import-dependency],\n    link[rel=stylesheet][import-dependency]"),d=b.length;if(d){var e=w&&!!document.querySelector("link[rel=stylesheet][href][type=import-disable]");l(b,function(b){g(b,function(){b.removeAttribute("import-dependency");--d||a()});if(e&&b.parentNode!==document.head){var f=
document.createElement(b.localName);f.__appliedElement=b;f.setAttribute("type","import-placeholder");b.parentNode.insertBefore(f,b.nextSibling);for(f=c(b);f&&c(f);)f=c(f);f.parentNode!==document.head&&(f=null);document.head.insertBefore(b,f);b.removeAttribute("type")}})}else a()};k.prototype.j=function(){var a=this,b=document.querySelectorAll("link[rel=import]");l(b,function(b){return a.g(b)},!0)};k.prototype.g=function(a){a.__loaded||(a.__loaded=!0,a.import&&(a.import.readyState="complete"),a.dispatchEvent(b(a.import?
"load":"error",{bubbles:!1,cancelable:!1,detail:void 0})))};k.prototype.l=function(a){var b=this;l(a,function(a){return l(a.addedNodes,function(a){a&&a.nodeType===Node.ELEMENT_NODE&&(h(a)?b.h(a):b.c(a))})})};if(n){var u=document.querySelectorAll("link[rel=import]");l(u,function(a){a.import&&"loading"===a.import.readyState||(a.__loaded=!0)});u=function(a){a=a.target;h(a)&&(a.__loaded=!0)};document.addEventListener("load",u,!0);document.addEventListener("error",u,!0)}else{var t=Object.getOwnPropertyDescriptor(Node.prototype,
"baseURI");Object.defineProperty((!t||t.configurable?Node:Element).prototype,"baseURI",{get:function(){var a=h(this)?this:c(this);return a?a.href:t&&t.get?t.get.call(this):(document.querySelector("base")||window.location).href},configurable:!0,enumerable:!0});e(function(){return new k})}f(function(){return document.dispatchEvent(b("HTMLImportsLoaded",{cancelable:!0,bubbles:!0,detail:void 0}))});a.useNative=n;a.whenReady=f;a.importForElement=c})(window.HTMLImports=window.HTMLImports||{});(function(){window.WebComponents=
window.WebComponents||{flags:{}};var a=document.querySelector('script[src*="webcomponents-lite.js"]'),b=/wc-(.+)/,c={};if(!c.noOpts){location.search.slice(1).split("&").forEach(function(a){a=a.split("=");var d;a[0]&&(d=a[0].match(b))&&(c[d[1]]=a[1]||!0)});if(a)for(var d=0,e;e=a.attributes[d];d++)"src"!==e.name&&(c[e.name]=e.value||!0);c.log&&c.log.split?(a=c.log.split(","),c.log={},a.forEach(function(a){c.log[a]=!0})):c.log={}}window.WebComponents.flags=c;if(a=c.shadydom)window.ShadyDOM=window.ShadyDOM||
{},window.ShadyDOM.force=a;(a=c.register||c.ce)&&window.customElements&&(window.customElements.forcePolyfill=a)})();var D=window.ShadyDOM||{};D.pb=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var eb=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");D.V=!!(eb&&eb.configurable&&eb.get);D.Ia=D.force||!D.pb;var Y=Element.prototype,Mc=Y.matches||Y.matchesSelector||Y.mozMatchesSelector||Y.msMatchesSelector||Y.oMatchesSelector||Y.webkitMatchesSelector,Ma=document.createTextNode(""),
Hb=0,La=[];(new MutationObserver(function(){for(;La.length;)try{La.shift()()}catch(a){throw Ma.textContent=Hb++,a;}})).observe(Ma,{characterData:!0});var aa=[],Na;na.list=aa;ma.prototype.xb=function(){var a=this;this.a||(this.a=!0,Gb(function(){a.b()}))};ma.prototype.b=function(){if(this.a){this.a=!1;var a=this.takeRecords();a.length&&this.ba.forEach(function(b){b(a)})}};ma.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var a=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];
this.addedNodes=[];this.removedNodes=[];return a}return[]};var Yb=Element.prototype.appendChild,Ua=Element.prototype.insertBefore,ba=Element.prototype.removeChild,fc=Element.prototype.setAttribute,Nc=Element.prototype.removeAttribute,fb=Element.prototype.cloneNode,Va=Document.prototype.importNode,nc=Element.prototype.addEventListener,qc=Element.prototype.removeEventListener,mc=Window.prototype.addEventListener,pc=Window.prototype.removeEventListener,gb=Element.prototype.dispatchEvent,Qd=Object.freeze({appendChild:Yb,
insertBefore:Ua,removeChild:ba,setAttribute:fc,removeAttribute:Nc,cloneNode:fb,importNode:Va,addEventListener:nc,removeEventListener:qc,Mb:mc,Nb:pc,dispatchEvent:gb,querySelector:Element.prototype.querySelector,querySelectorAll:Element.prototype.querySelectorAll}),td=/[&\u00A0"]/g,wd=/[&\u00A0<>]/g,ud=Kb("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),vd=Kb("style script xmp iframe noembed noframes plaintext noscript".split(" ")),v=document.createTreeWalker(document,
NodeFilter.SHOW_ALL,null,!1),C=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Rd=Object.freeze({parentNode:U,firstChild:Ha,lastChild:Ia,previousSibling:Lb,nextSibling:Mb,childNodes:S,parentElement:Nb,firstElementChild:Ob,lastElementChild:Pb,previousElementSibling:Qb,nextElementSibling:Rb,children:Sb,innerHTML:Tb,textContent:Ub}),hb=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML")||Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML"),ta=document.implementation.createHTMLDocument("inert").createElement("div"),
ib=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),Vb={parentElement:{get:function(){var a=this.__shady&&this.__shady.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE&&(a=null);return void 0!==a?a:Nb(this)},configurable:!0},parentNode:{get:function(){var a=this.__shady&&this.__shady.parentNode;return void 0!==a?a:U(this)},configurable:!0},nextSibling:{get:function(){var a=this.__shady&&this.__shady.nextSibling;return void 0!==a?a:Mb(this)},configurable:!0},previousSibling:{get:function(){var a=
this.__shady&&this.__shady.previousSibling;return void 0!==a?a:Lb(this)},configurable:!0},className:{get:function(){return this.getAttribute("class")||""},set:function(a){this.setAttribute("class",a)},configurable:!0},nextElementSibling:{get:function(){if(this.__shady&&void 0!==this.__shady.nextSibling){for(var a=this.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return Rb(this)},configurable:!0},previousElementSibling:{get:function(){if(this.__shady&&void 0!==this.__shady.previousSibling){for(var a=
this.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return Qb(this)},configurable:!0}},Pa={childNodes:{get:function(){if(T(this)){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(var a=this.firstChild;a;a=a.nextSibling)this.__shady.childNodes.push(a)}var b=this.__shady.childNodes}else b=S(this);b.item=function(a){return b[a]};return b},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var a=
this.__shady&&this.__shady.firstChild;return void 0!==a?a:Ha(this)},configurable:!0},lastChild:{get:function(){var a=this.__shady&&this.__shady.lastChild;return void 0!==a?a:Ia(this)},configurable:!0},textContent:{get:function(){if(T(this)){for(var a=[],b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&a.push(d.textContent);return a.join("")}return Ub(this)},set:function(a){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);
this.appendChild(document.createTextNode(a));break;default:this.nodeValue=a}},configurable:!0},firstElementChild:{get:function(){if(this.__shady&&void 0!==this.__shady.firstChild){for(var a=this.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return Ob(this)},configurable:!0},lastElementChild:{get:function(){if(this.__shady&&void 0!==this.__shady.lastChild){for(var a=this.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return Pb(this)},configurable:!0},
children:{get:function(){var a;T(this)?a=Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):a=Sb(this);a.item=function(b){return a[b]};return a},configurable:!0},innerHTML:{get:function(){var a="template"===this.localName?this.content:this;return T(this)?Oa(a):Tb(a)},set:function(a){for(var b="template"===this.localName?this.content:this;b.firstChild;)b.removeChild(b.firstChild);for(hb&&hb.set?hb.set.call(ta,a):ta.innerHTML=a;ta.firstChild;)b.appendChild(ta.firstChild)},
configurable:!0}},Oc={shadowRoot:{get:function(){return this.__shady&&this.__shady.ub||null},configurable:!0}},Qa={activeElement:{get:function(){var a=ib&&ib.get?ib.get.call(document):D.V?void 0:document.activeElement;if(a&&a.nodeType){var b=!!B(this);if(this===document||b&&this.host!==a&&this.host.contains(a)){for(b=Z(a);b&&b!==this;)a=b.host,b=Z(a);a=this===document?b?null:a:b===this?a:null}else a=null}else a=null;return a},set:function(){},configurable:!0}},Fb=D.V?function(){}:function(a){a.__shady&&
a.__shady.Ya||(a.__shady=a.__shady||{},a.__shady.Ya=!0,G(a,Vb,!0))},Eb=D.V?function(){}:function(a){a.__shady&&a.__shady.Wa||(a.__shady=a.__shady||{},a.__shady.Wa=!0,G(a,Pa,!0),G(a,Oc,!0))},pa=null,Sd={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,
touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},rc={get composed(){!1!==this.isTrusted&&void 0===this.ja&&(this.ja=Sd[this.type]);return this.ja||!1},composedPath:function(){this.ya||(this.ya=Wa(this.__target,this.composed));return this.ya},
get target(){return hc(this.currentTarget,this.composedPath())},get relatedTarget(){if(!this.za)return null;this.Aa||(this.Aa=Wa(this.za,!0));return hc(this.currentTarget,this.Aa)},stopPropagation:function(){Event.prototype.stopPropagation.call(this);this.ka=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this);this.ka=this.Va=!0}},Ya={focus:!0,blur:!0},Td=Xa(window.Event),Ud=Xa(window.CustomEvent),Vd=Xa(window.MouseEvent),Db={};l.prototype=Object.create(DocumentFragment.prototype);
l.prototype.D=function(a,b){this.Xa="ShadyRoot";la(a);la(this);this.host=a;this.L=b&&b.mode;a.__shady=a.__shady||{};a.__shady.root=this;a.__shady.ub="closed"!==this.L?this:null;this.S=!1;this.b=[];this.a=null;b=S(a);for(var c=0,d=b.length;c<d;c++)ba.call(a,b[c])};l.prototype.M=function(){var a=this;this.S||(this.S=!0,Ib(function(){return a.Ea()}))};l.prototype.C=function(){for(var a=this,b=this;b;)b.S&&(a=b),b=b.ib();return a};l.prototype.ib=function(){var a=this.host.getRootNode();if(B(a))for(var b=
this.host.childNodes,c=0,d;c<b.length;c++)if(d=b[c],this.h(d))return a};l.prototype.Ea=function(){this.S&&this.C()._renderRoot()};l.prototype._renderRoot=function(){this.S=!1;this.v();this.s()};l.prototype.v=function(){for(var a=0,b;a<this.b.length;a++)b=this.b[a],this.l(b);for(b=this.host.firstChild;b;b=b.nextSibling)this.f(b);for(a=0;a<this.b.length;a++){b=this.b[a];if(!b.__shady.assignedNodes.length)for(var c=b.firstChild;c;c=c.nextSibling)this.f(c,b);c=b.parentNode;(c=c.__shady&&c.__shady.root)&&
c.Ba()&&c._renderRoot();this.c(b.__shady.U,b.__shady.assignedNodes);if(c=b.__shady.Da){for(var d=0;d<c.length;d++)c[d].__shady.na=null;b.__shady.Da=null;c.length>b.__shady.assignedNodes.length&&(b.__shady.qa=!0)}b.__shady.qa&&(b.__shady.qa=!1,this.g(b))}};l.prototype.f=function(a,b){a.__shady=a.__shady||{};var c=a.__shady.na;a.__shady.na=null;b||(b=(b=this.a[a.slot||"__catchall"])&&b[0]);b?(b.__shady.assignedNodes.push(a),a.__shady.assignedSlot=b):a.__shady.assignedSlot=void 0;c!==a.__shady.assignedSlot&&
a.__shady.assignedSlot&&(a.__shady.assignedSlot.__shady.qa=!0)};l.prototype.l=function(a){var b=a.__shady.assignedNodes;a.__shady.assignedNodes=[];a.__shady.U=[];if(a.__shady.Da=b)for(var c=0;c<b.length;c++){var d=b[c];d.__shady.na=d.__shady.assignedSlot;d.__shady.assignedSlot===a&&(d.__shady.assignedSlot=null)}};l.prototype.c=function(a,b){for(var c=0,d;c<b.length&&(d=b[c]);c++)"slot"==d.localName?this.c(a,d.__shady.assignedNodes):a.push(b[c])};l.prototype.g=function(a){gb.call(a,new Event("slotchange"));
a.__shady.assignedSlot&&this.g(a.__shady.assignedSlot)};l.prototype.s=function(){for(var a=this.b,b=[],c=0;c<a.length;c++){var d=a[c].parentNode;d.__shady&&d.__shady.root||!(0>b.indexOf(d))||b.push(d)}for(a=0;a<b.length;a++)c=b[a],this.I(c===this?this.host:c,this.u(c))};l.prototype.u=function(a){var b=[];a=a.childNodes;for(var c=0;c<a.length;c++){var d=a[c];if(this.h(d)){d=d.__shady.U;for(var e=0;e<d.length;e++)b.push(d[e])}else b.push(d)}return b};l.prototype.h=function(a){return"slot"==a.localName};
l.prototype.I=function(a,b){for(var c=S(a),d=zd(b,b.length,c,c.length),e=0,f=0,g;e<d.length&&(g=d[e]);e++){for(var h=0,k;h<g.X.length&&(k=g.X[h]);h++)U(k)===a&&ba.call(a,k),c.splice(g.index+f,1);f-=g.aa}for(e=0;e<d.length&&(g=d[e]);e++)for(f=c[g.index],h=g.index;h<g.index+g.aa;h++)k=b[h],Ua.call(a,k,f),c.splice(h,0,k)};l.prototype.ab=function(a){this.a=this.a||{};this.b=this.b||[];for(var b=0;b<a.length;b++){var c=a[b];c.__shady=c.__shady||{};la(c);la(c.parentNode);var d=this.i(c);if(this.a[d]){var e=
e||{};e[d]=!0;this.a[d].push(c)}else this.a[d]=[c];this.b.push(c)}if(e)for(var f in e)this.a[f]=this.j(this.a[f])};l.prototype.i=function(a){var b=a.name||a.getAttribute("name")||"__catchall";return a.Za=b};l.prototype.j=function(a){return a.sort(function(a,c){a=sc(a);for(var b=sc(c),e=0;e<a.length;e++){c=a[e];var f=b[e];if(c!==f)return a=Array.from(c.parentNode.childNodes),a.indexOf(c)-a.indexOf(f)}})};l.prototype.hb=function(a){this.a=this.a||{};this.b=this.b||[];var b=this.a,c;for(c in b)for(var d=
b[c],e=0;e<d.length;e++){var f=d[e],g;a:{for(g=f;g;){if(g==a){g=!0;break a}g=g.parentNode}g=void 0}if(g){d.splice(e,1);var h=this.b.indexOf(f);0<=h&&this.b.splice(h,1);e--;this.H(f);h=!0}}return h};l.prototype.jb=function(a){var b=a.Za,c=this.i(a);if(c!==b){b=this.a[b];var d=b.indexOf(a);0<=d&&b.splice(d,1);b=this.a[c]||(this.a[c]=[]);b.push(a);1<b.length&&(this.a[c]=this.j(b))}};l.prototype.H=function(a){if(a=a.__shady.U)for(var b=0;b<a.length;b++){var c=a[b],d=U(c);d&&ba.call(d,c)}};l.prototype.Ba=
function(){return!!this.b.length};l.prototype.addEventListener=function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.la=this;this.host.addEventListener(a,b,c)};l.prototype.removeEventListener=function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.la=this;this.host.removeEventListener(a,b,c)};l.prototype.getElementById=function(a){return oa(this,function(b){return b.id==a},function(a){return!!a})[0]||null};(function(a){G(a,Pa,!0);G(a,Qa,!0)})(l.prototype);var Dd={addEventListener:kc.bind(window),
removeEventListener:oc.bind(window)},Cd={addEventListener:kc,removeEventListener:oc,appendChild:function(a){return Ra(this,a)},insertBefore:function(a,b){return Ra(this,a,b)},removeChild:function(a){return Sa(this,a)},replaceChild:function(a,b){Ra(this,a,b);Sa(this,b);return a},cloneNode:function(a){if("template"==this.localName)var b=fb.call(this,a);else if(b=fb.call(this,!1),a){a=this.childNodes;for(var c=0,d;c<a.length;c++)d=a[c].cloneNode(!0),b.appendChild(d)}return b},getRootNode:function(){return bc(this)},
get isConnected(){var a=this.ownerDocument;if(a&&a.contains&&a.contains(this)||(a=a.documentElement)&&a.contains&&a.contains(this))return!0;for(a=this;a&&!(a instanceof Document);)a=a.parentNode||(a instanceof l?a.host:void 0);return!!(a&&a instanceof Document)},dispatchEvent:function(a){na();return gb.call(this,a)}},Ed={get assignedSlot(){return tc(this)}},Za={querySelector:function(a){return oa(this,function(b){return Mc.call(b,a)},function(a){return!!a})[0]||null},querySelectorAll:function(a){return oa(this,
function(b){return Mc.call(b,a)})}},wc={assignedNodes:function(a){if("slot"===this.localName)return dc(this),this.__shady?(a&&a.flatten?this.__shady.U:this.__shady.assignedNodes)||[]:[]}},uc=Ka({setAttribute:function(a,b){ec(this,a,b)},removeAttribute:function(a){Nc.call(this,a);ac(this,a)},attachShadow:function(a){if(!this)throw"Must provide a host.";if(!a)throw"Not enough arguments.";return new l(Db,this,a)},get slot(){return this.getAttribute("slot")},set slot(a){ec(this,"slot",a)},get assignedSlot(){return tc(this)}},
Za,wc);Object.defineProperties(uc,Oc);var vc=Ka({importNode:function(a,b){return gc(a,b)},getElementById:function(a){return oa(this,function(b){return b.id==a},function(a){return!!a})[0]||null}},Za);Object.defineProperties(vc,{_activeElement:Qa.activeElement});var Wd=HTMLElement.prototype.blur,Fd=Ka({blur:function(){var a=this.__shady&&this.__shady.root;(a=a&&a.activeElement)?a.blur():Wd.call(this)}});D.Ia&&(window.ShadyDOM={inUse:D.Ia,patch:function(a){return a},isShadyRoot:B,enqueue:Ib,flush:na,
settings:D,filterMutations:sd,observeChildren:qd,unobserveChildren:pd,nativeMethods:Qd,nativeTree:Rd},window.Event=Td,window.CustomEvent=Ud,window.MouseEvent=Vd,yd(),Bd(),window.ShadowRoot=l);var Gd=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));A.prototype.D=function(a,b){this.u.set(a,b);this.s.set(b.constructor,b)};A.prototype.c=function(a){return this.u.get(a)};A.prototype.C=function(a){return this.s.get(a)};
A.prototype.v=function(a){this.h=!0;this.j.push(a)};A.prototype.l=function(a){var b=this;this.h&&M(a,function(a){return b.g(a)})};A.prototype.g=function(a){if(this.h&&!a.__CE_patched){a.__CE_patched=!0;for(var b=0;b<this.j.length;b++)this.j[b](a)}};A.prototype.b=function(a){var b=[];M(a,function(a){return b.push(a)});for(a=0;a<b.length;a++){var c=b[a];1===c.__CE_state?this.connectedCallback(c):this.i(c)}};A.prototype.a=function(a){var b=[];M(a,function(a){return b.push(a)});for(a=0;a<b.length;a++){var c=
b[a];1===c.__CE_state&&this.disconnectedCallback(c)}};A.prototype.f=function(a,b){var c=this;b=b?b:{};var d=b.Ab||new Set,e=b.Oa||function(a){return c.i(a)},f=[];M(a,function(a){if("link"===a.localName&&"import"===a.getAttribute("rel")){var b=a.import;b instanceof Node&&"complete"===b.readyState?(b.__CE_isImportDocument=!0,b.__CE_hasRegistry=!0):a.addEventListener("load",function(){var b=a.import;b.__CE_documentLoadHandled||(b.__CE_documentLoadHandled=!0,b.__CE_isImportDocument=!0,b.__CE_hasRegistry=
!0,d.delete(b),c.f(b,{Ab:d,Oa:e}))})}else f.push(a)},d);if(this.h)for(a=0;a<f.length;a++)this.g(f[a]);for(a=0;a<f.length;a++)e(f[a])};A.prototype.i=function(a){if(void 0===a.__CE_state){var b=this.c(a.localName);if(b){b.constructionStack.push(a);var c=b.constructor;try{try{if(new c!==a)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{b.constructionStack.pop()}}catch(f){throw a.__CE_state=2,f;}a.__CE_state=1;a.__CE_definition=b;if(b.attributeChangedCallback)for(b=
b.observedAttributes,c=0;c<b.length;c++){var d=b[c],e=a.getAttribute(d);null!==e&&this.attributeChangedCallback(a,d,null,e,null)}n(a)&&this.connectedCallback(a)}}};A.prototype.connectedCallback=function(a){var b=a.__CE_definition;b.connectedCallback&&b.connectedCallback.call(a)};A.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;b.disconnectedCallback&&b.disconnectedCallback.call(a)};A.prototype.attributeChangedCallback=function(a,b,c,d,e){var f=a.__CE_definition;f.attributeChangedCallback&&
-1<f.observedAttributes.indexOf(b)&&f.attributeChangedCallback.call(a,b,c,d,e)};Ga.prototype.c=function(){this.N&&this.N.disconnect()};Ga.prototype.f=function(a){var b=this.a.readyState;"interactive"!==b&&"complete"!==b||this.c();for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,d=0;d<c.length;d++)this.b.f(c[d])};Cb.prototype.resolve=function(a){if(this.a)throw Error("Already resolved.");this.a=a;this.b&&this.b(a)};q.prototype.define=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError("Custom element constructors must be functions.");
if(!xc(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(this.a.c(a))throw Error("A custom element with name '"+a+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var d=function(a){var b=e[a];if(void 0!==b&&!(b instanceof Function))throw Error("The '"+a+"' callback must be a function.");return b},e=b.prototype;if(!(e instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");
var f=d("connectedCallback");var g=d("disconnectedCallback");var h=d("adoptedCallback");var k=d("attributeChangedCallback");var l=b.observedAttributes||[]}catch(le){return}finally{this.c=!1}b={localName:a,constructor:b,connectedCallback:f,disconnectedCallback:g,adoptedCallback:h,attributeChangedCallback:k,observedAttributes:l,constructionStack:[]};this.a.D(a,b);this.g.push(b);this.b||(this.b=!0,this.f(function(){return c.j()}))};q.prototype.j=function(){var a=this;if(!1!==this.b){this.b=!1;for(var b=
this.g,c=[],d=new Map,e=0;e<b.length;e++)d.set(b[e].localName,[]);this.a.f(document,{Oa:function(b){if(void 0===b.__CE_state){var e=b.localName,f=d.get(e);f?f.push(b):a.a.c(e)&&c.push(b)}}});for(e=0;e<c.length;e++)this.a.i(c[e]);for(;0<b.length;){var f=b.shift();e=f.localName;f=d.get(f.localName);for(var g=0;g<f.length;g++)this.a.i(f[g]);(e=this.h.get(e))&&e.resolve(void 0)}}};q.prototype.get=function(a){if(a=this.a.c(a))return a.constructor};q.prototype.whenDefined=function(a){if(!xc(a))return Promise.reject(new SyntaxError("'"+
a+"' is not a valid custom element name."));var b=this.h.get(a);if(b)return b.c;b=new Cb;this.h.set(a,b);this.a.c(a)&&!this.g.some(function(b){return b.localName===a})&&b.resolve(void 0);return b.c};q.prototype.l=function(a){this.i.c();var b=this.f;this.f=function(c){return a(function(){return b(c)})}};window.CustomElementRegistry=q;q.prototype.define=q.prototype.define;q.prototype.get=q.prototype.get;q.prototype.whenDefined=q.prototype.whenDefined;q.prototype.polyfillWrapFlushCallback=q.prototype.l;
var Ca=window.Document.prototype.createElement,kd=window.Document.prototype.createElementNS,jd=window.Document.prototype.importNode,ld=window.Document.prototype.prepend,md=window.Document.prototype.append,rb=window.Node.prototype.cloneNode,ja=window.Node.prototype.appendChild,zb=window.Node.prototype.insertBefore,Da=window.Node.prototype.removeChild,Ab=window.Node.prototype.replaceChild,Fa=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),qb=window.Element.prototype.attachShadow,
Aa=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Ea=window.Element.prototype.getAttribute,sb=window.Element.prototype.setAttribute,ub=window.Element.prototype.removeAttribute,ka=window.Element.prototype.getAttributeNS,tb=window.Element.prototype.setAttributeNS,vb=window.Element.prototype.removeAttributeNS,xb=window.Element.prototype.insertAdjacentElement,ad=window.Element.prototype.prepend,bd=window.Element.prototype.append,dd=window.Element.prototype.before,ed=window.Element.prototype.after,
fd=window.Element.prototype.replaceWith,gd=window.Element.prototype.remove,od=window.HTMLElement,Ba=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),wb=window.HTMLElement.prototype.insertAdjacentElement,Bb=new function(){},ua=window.customElements;if(!ua||ua.forcePolyfill||"function"!=typeof ua.define||"function"!=typeof ua.get){var ea=new A;nd(ea);id(ea);hd(ea);$c(ea);document.__CE_hasRegistry=!0;var Xd=new q(ea);Object.defineProperty(window,"customElements",{configurable:!0,
enumerable:!0,value:Xd})}var K={STYLE_RULE:1,ia:7,MEDIA_RULE:4,va:1E3},J={nb:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,Fa:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Ja:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,tb:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,zb:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,sb:/^@[^\s]*keyframes/,Ka:/\s+/g},u=!(window.ShadyDOM&&window.ShadyDOM.inUse);if(window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss)var w=window.ShadyCSS.nativeCss;
else window.ShadyCSS?(Ac(window.ShadyCSS),window.ShadyCSS=void 0):Ac(window.WebComponents&&window.WebComponents.flags);var va=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,wa=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Yd=/(--[\w-]+)\s*([:,;)]|$)/gi,Zd=/(animation\s*:)|(animation-name\s*:)/,Id=/@media\s(.*)/,$d=/\{[^}]*\}/g,P=null;r.prototype.a=function(a,b,c){a.__styleScoped?a.__styleScoped=null:this.i(a,b||"",c)};r.prototype.i=
function(a,b,c){a.nodeType===Node.ELEMENT_NODE&&this.v(a,b,c);if(a="template"===a.localName?(a.content||a.Eb).childNodes:a.children||a.childNodes)for(var d=0;d<a.length;d++)this.i(a[d],b,c)};r.prototype.v=function(a,b,c){if(b)if(a.classList)c?(a.classList.remove("style-scope"),a.classList.remove(b)):(a.classList.add("style-scope"),a.classList.add(b));else if(a.getAttribute){var d=a.getAttribute(ae);c?d&&(b=d.replace("style-scope","").replace(b,""),ra(a,b)):ra(a,(d?d+" ":"")+"style-scope "+b)}};r.prototype.b=
function(a,b,c){var d=a.__cssBuild;u||"shady"===d?b=V(b,c):(a=R(a),b=this.H(b,a.is,a.Y,c)+"\n\n");return b.trim()};r.prototype.H=function(a,b,c,d){var e=this.f(b,c);b=this.h(b);var f=this;return V(a,function(a){a.c||(f.R(a,b,e),a.c=!0);d&&d(a,b,e)})};r.prototype.h=function(a){return a?be+a:""};r.prototype.f=function(a,b){return b?"[is="+a+"]":a};r.prototype.R=function(a,b,c){this.j(a,this.g,b,c)};r.prototype.j=function(a,b,c,d){a.selector=a.A=this.l(a,b,c,d)};r.prototype.l=function(a,b,c,d){var e=
a.selector.split(Pc);if(!Bc(a)){a=0;for(var f=e.length,g;a<f&&(g=e[a]);a++)e[a]=b.call(this,g,c,d)}return e.join(Pc)};r.prototype.g=function(a,b,c){var d=this,e=!1;a=a.trim();a=a.replace(ce,function(a,b,c){return":"+b+"("+c.replace(/\s/g,"")+")"});a=a.replace(de,jb+" $1");return a=a.replace(ee,function(a,g,h){e||(a=d.C(h,g,b,c),e=e||a.stop,g=a.mb,h=a.value);return g+h})};r.prototype.C=function(a,b,c,d){var e=a.indexOf(kb);0<=a.indexOf(jb)?a=this.L(a,d):0!==e&&(a=c?this.s(a,c):a);c=!1;0<=e&&(b="",
c=!0);if(c){var f=!0;c&&(a=a.replace(fe,function(a,b){return" > "+b}))}a=a.replace(ge,function(a,b,c){return'[dir="'+c+'"] '+b+", "+b+'[dir="'+c+'"]'});return{value:a,mb:b,stop:f}};r.prototype.s=function(a,b){a=a.split(Qc);a[0]+=b;return a.join(Qc)};r.prototype.L=function(a,b){var c=a.match(Rc);return(c=c&&c[2].trim()||"")?c[0].match(Sc)?a.replace(Rc,function(a,c,f){return b+f}):c.split(Sc)[0]===b?c:he:a.replace(jb,b)};r.prototype.I=function(a){a.selector=a.parsedSelector;this.u(a);this.j(a,this.D)};
r.prototype.u=function(a){a.selector===ie&&(a.selector="html")};r.prototype.D=function(a){return a.match(kb)?this.g(a,Tc):this.s(a.trim(),Tc)};nb.Object.defineProperties(r.prototype,{c:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var ce=/:(nth[-\w]+)\(([^)]+)\)/,Tc=":not(.style-scope)",Pc=",",ee=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Sc=/[[.:#*]/,jb=":host",ie=":root",kb="::slotted",de=new RegExp("^("+kb+")"),Rc=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,fe=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,
ge=/(.*):dir\((?:(ltr|rtl))\)/,be=".",Qc=":",ae="class",he="should_not_match",x=new r;y.get=function(a){return a?a.__styleInfo:null};y.set=function(a,b){return a.__styleInfo=b};y.prototype.c=function(){return this.G};y.prototype._getStyleRules=y.prototype.c;var Uc=function(a){return a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}(window.Element.prototype),je=navigator.userAgent.match("Trident");p.prototype.R=function(a){var b=this,
c={},d=[],e=0;W(a,function(a){b.c(a);a.index=e++;b.I(a.w.cssText,c)},function(a){d.push(a)});a.b=d;a=[];for(var f in c)a.push(f);return a};p.prototype.c=function(a){if(!a.w){var b={},c={};this.b(a,c)&&(b.F=c,a.rules=null);b.cssText=this.H(a);a.w=b}};p.prototype.b=function(a,b){var c=a.w;if(c){if(c.F)return Object.assign(b,c.F),!0}else{c=a.parsedCssText;for(var d;a=va.exec(c);){d=(a[2]||a[3]).trim();if("inherit"!==d||"unset"!==d)b[a[1].trim()]=d;d=!0}return d}};p.prototype.H=function(a){return this.L(a.parsedCssText)};
p.prototype.L=function(a){return a.replace($d,"").replace(va,"")};p.prototype.I=function(a,b){for(var c;c=Yd.exec(a);){var d=c[1];":"!==c[2]&&(b[d]=!0)}};p.prototype.fa=function(a){for(var b=Object.getOwnPropertyNames(a),c=0,d;c<b.length;c++)d=b[c],a[d]=this.a(a[d],a)};p.prototype.a=function(a,b){if(a)if(0<=a.indexOf(";"))a=this.f(a,b);else{var c=this;a=Dc(a,function(a,e,f,g){if(!e)return a+g;(e=c.a(b[e],b))&&"initial"!==e?"apply-shim-inherit"===e&&(e="inherit"):e=c.a(b[f]||f,b)||f;return a+(e||"")+
g})}return a&&a.trim()||""};p.prototype.f=function(a,b){a=a.split(";");for(var c=0,d,e;c<a.length;c++)if(d=a[c]){wa.lastIndex=0;if(e=wa.exec(d))d=this.a(b[e[1]],b);else if(e=d.indexOf(":"),-1!==e){var f=d.substring(e);f=f.trim();f=this.a(f,b)||f;d=d.substring(0,e)+f}a[c]=d&&d.lastIndexOf(";")===d.length-1?d.slice(0,-1):d||""}return a.join(";")};p.prototype.D=function(a,b){var c="";a.w||this.c(a);a.w.cssText&&(c=this.f(a.w.cssText,b));a.cssText=c};p.prototype.C=function(a,b){var c=a.cssText,d=a.cssText;
null==a.Ha&&(a.Ha=Zd.test(c));if(a.Ha)if(null==a.ca){a.ca=[];for(var e in b)d=b[e],d=d(c),c!==d&&(c=d,a.ca.push(e))}else{for(e=0;e<a.ca.length;++e)d=b[a.ca[e]],c=d(c);d=c}a.cssText=d};p.prototype.ea=function(a,b){var c={},d=this,e=[];W(a,function(a){a.w||d.c(a);var f=a.A||a.parsedSelector;b&&a.w.F&&f&&Uc.call(b,f)&&(d.b(a,c),a=a.index,f=parseInt(a/32,10),e[f]=(e[f]||0)|1<<a%32)},null,!0);return{F:c,key:e}};p.prototype.ha=function(a,b,c,d){b.w||this.c(b);if(b.w.F){var e=R(a);a=e.is;e=e.Y;e=a?x.f(a,
e):"html";var f=b.parsedSelector,g=":host > *"===f||"html"===f,h=0===f.indexOf(":host")&&!g;"shady"===c&&(g=f===e+" > *."+e||-1!==f.indexOf("html"),h=!g&&0===f.indexOf(e));"shadow"===c&&(g=":host > *"===f||"html"===f,h=h&&!g);if(g||h)c=e,h&&(u&&!b.A&&(b.A=x.l(b,x.g,x.h(a),e)),c=b.A||e),d({yb:c,rb:h,Ib:g})}};p.prototype.da=function(a,b){var c={},d={},e=this,f=b&&b.__cssBuild;W(b,function(b){e.ha(a,b,f,function(f){Uc.call(a.Fb||a,f.yb)&&(f.rb?e.b(b,c):e.b(b,d))})},null,!0);return{wb:d,qb:c}};p.prototype.ga=
function(a,b,c){var d=this,e=R(a),f=x.f(e.is,e.Y),g=new RegExp("(?:^|[^.#[:])"+(a.extends?"\\"+f.slice(0,-1)+"\\]":f)+"($|[.:[\\s>+~])");e=y.get(a).G;var h=this.h(e,c);return x.b(a,e,function(a){d.D(a,b);u||Bc(a)||!a.cssText||(d.C(a,h),d.l(a,g,f,c))})};p.prototype.h=function(a,b){a=a.b;var c={};if(!u&&a)for(var d=0,e=a[d];d<a.length;e=a[++d])this.j(e,b),c[e.keyframesName]=this.i(e);return c};p.prototype.i=function(a){return function(b){return b.replace(a.f,a.a)}};p.prototype.j=function(a,b){a.f=new RegExp(a.keyframesName,
"g");a.a=a.keyframesName+"-"+b;a.A=a.A||a.selector;a.selector=a.A.replace(a.keyframesName,a.a)};p.prototype.l=function(a,b,c,d){a.A=a.A||a.selector;d="."+d;for(var e=a.A.split(","),f=0,g=e.length,h;f<g&&(h=e[f]);f++)e[f]=h.match(b)?h.replace(c,d):d+" "+h;a.selector=e.join(",")};p.prototype.u=function(a,b,c){var d=a.getAttribute("class")||"",e=d;c&&(e=d.replace(new RegExp("\\s*x-scope\\s*"+c+"\\s*","g")," "));e+=(e?" ":"")+"x-scope "+b;d!==e&&ra(a,e)};p.prototype.v=function(a,b,c,d){b=d?d.textContent||
"":this.ga(a,b,c);var e=y.get(a),f=e.a;f&&!u&&f!==d&&(f._useCount--,0>=f._useCount&&f.parentNode&&f.parentNode.removeChild(f));u?e.a?(e.a.textContent=b,d=e.a):b&&(d=bb(b,c,a.shadowRoot,e.b)):d?d.parentNode||(je&&-1<b.indexOf("@media")&&(d.textContent=b),Cc(d,null,e.b)):b&&(d=bb(b,c,null,e.b));d&&(d._useCount=d._useCount||0,e.a!=d&&d._useCount++,e.a=d);return d};p.prototype.s=function(a,b){var c=qa(a),d=this;a.textContent=V(c,function(a){var c=a.cssText=a.parsedCssText;a.w&&a.w.cssText&&(c=c.replace(J.Fa,
"").replace(J.Ja,""),a.cssText=d.f(c,b))})};nb.Object.defineProperties(p.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var H=new p,lb={},xa=window.customElements;if(xa&&!u){var ke=xa.define;xa.define=function(a,b,c){var d=document.createComment(" Shady DOM styles for "+a+" "),e=document.head;e.insertBefore(d,(P?P.nextSibling:null)||e.firstChild);P=d;lb[a]=d;return ke.call(xa,a,b,c)}}ha.prototype.a=function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];if(a.F[e]!==
b[e])return!1}return!0};ha.prototype.b=function(a,b,c,d){var e=this.cache[a]||[];e.push({F:b,styleElement:c,B:d});e.length>this.c&&e.shift();this.cache[a]=e};ha.prototype.fetch=function(a,b,c){if(a=this.cache[a])for(var d=a.length-1;0<=d;d--){var e=a[d];if(this.a(e,b,c))return e}};if(!u){var Vc=new MutationObserver(Ec),Wc=function(a){Vc.observe(a,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Wc(document);else{var mb=function(){Wc(document.body)};
window.HTMLImports?window.HTMLImports.whenReady(mb):requestAnimationFrame(function(){if("loading"===document.readyState){var a=function(){mb();document.removeEventListener("readystatechange",a)};document.addEventListener("readystatechange",a)}else mb()})}pb=function(){Ec(Vc.takeRecords())}}var sa={},Ld=Promise.resolve(),cb=null,Gc=window.HTMLImports&&window.HTMLImports.whenReady||null,db,ya=null,fa=null;F.prototype.Ga=function(){!this.enqueued&&fa&&(this.enqueued=!0,ob(fa))};F.prototype.b=function(a){a.__seenByShadyCSS||
(a.__seenByShadyCSS=!0,this.customStyles.push(a),this.Ga())};F.prototype.a=function(a){return a.__shadyCSSCachedStyle?a.__shadyCSSCachedStyle:a.getStyle?a.getStyle():a};F.prototype.c=function(){for(var a=this.customStyles,b=0;b<a.length;b++){var c=a[b];if(!c.__shadyCSSCachedStyle){var d=this.a(c);d&&(d=d.__appliedElement||d,ya&&ya(d),c.__shadyCSSCachedStyle=d)}}return a};F.prototype.addCustomStyle=F.prototype.b;F.prototype.getStyleForCustomStyle=F.prototype.a;F.prototype.processStyles=F.prototype.c;
Object.defineProperties(F.prototype,{transformCallback:{get:function(){return ya},set:function(a){ya=a}},validateCallback:{get:function(){return fa},set:function(a){var b=!1;fa||(b=!0);fa=a;b&&this.Ga()}}});var Xc=new ha;k.prototype.C=function(){pb()};k.prototype.da=function(a){var b=this.s[a]=(this.s[a]||0)+1;return a+"-"+b};k.prototype.Sa=function(a){return qa(a)};k.prototype.Ua=function(a){return V(a)};k.prototype.R=function(a){a=a.content.querySelectorAll("style");for(var b=[],c=0;c<a.length;c++){var d=
a[c];b.push(d.textContent);d.parentNode.removeChild(d)}return b.join("").trim()};k.prototype.fa=function(a){return(a=a.content.querySelector("style"))?a.getAttribute("css-build")||"":""};k.prototype.prepareTemplate=function(a,b,c){if(!a.f){a.f=!0;a.name=b;a.extends=c;sa[b]=a;var d=this.fa(a),e=this.R(a);c={is:b,extends:c,Cb:d};u||x.a(a.content,b);this.c();var f=wa.test(e)||va.test(e);wa.lastIndex=0;va.lastIndex=0;e=ab(e);f&&w&&this.a&&this.a.transformRules(e,b);a._styleAst=e;a.g=d;d=[];w||(d=H.R(a._styleAst));
if(!d.length||w)b=this.ea(c,a._styleAst,u?a.content:null,lb[b]),a.a=b;a.c=d}};k.prototype.ea=function(a,b,c,d){b=x.b(a,b);if(b.length)return bb(b,a.is,c,d)};k.prototype.ha=function(a){var b=R(a),c=b.is;b=b.Y;var d=lb[c];c=sa[c];if(c){var e=c._styleAst;var f=c.c}return y.set(a,new y(e,d,f,0,b))};k.prototype.H=function(){!this.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(this.a=window.ShadyCSS.ApplyShim,this.a.invalidCallback=Jd)};k.prototype.I=function(){var a=this;!this.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&
(this.b=window.ShadyCSS.CustomStyleInterface,this.b.transformCallback=function(b){a.v(b)},this.b.validateCallback=function(){requestAnimationFrame(function(){(a.b.enqueued||a.i)&&a.f()})})};k.prototype.c=function(){this.H();this.I()};k.prototype.f=function(){this.c();if(this.b){var a=this.b.processStyles();this.b.enqueued&&(w?this.Qa(a):(this.u(this.g,this.h),this.D(a)),this.b.enqueued=!1,this.i&&!w&&this.styleDocument())}};k.prototype.styleElement=function(a,b){var c=R(a).is,d=y.get(a);d||(d=this.ha(a));
this.j(a)||(this.i=!0);b&&(d.P=d.P||{},Object.assign(d.P,b));if(w){if(d.P){b=d.P;for(var e in b)null===e?a.style.removeProperty(e):a.style.setProperty(e,b[e])}if(((e=sa[c])||this.j(a))&&e&&e.a&&!Fc(e)){if(Fc(e)||e._applyShimValidatingVersion!==e._applyShimNextVersion)this.c(),this.a&&this.a.transformRules(e._styleAst,c),e.a.textContent=x.b(a,d.G),Kd(e);u&&(c=a.shadowRoot)&&(c.querySelector("style").textContent=x.b(a,d.G));d.G=e._styleAst}}else this.u(a,d),d.sa&&d.sa.length&&this.L(a,d)};k.prototype.l=
function(a){return(a=a.getRootNode().host)?y.get(a)?a:this.l(a):this.g};k.prototype.j=function(a){return a===this.g};k.prototype.L=function(a,b){var c=R(a).is,d=Xc.fetch(c,b.K,b.sa),e=d?d.styleElement:null,f=b.B;b.B=d&&d.B||this.da(c);e=H.v(a,b.K,b.B,e);u||H.u(a,b.B,f);d||Xc.b(c,b.K,e,b.B)};k.prototype.u=function(a,b){var c=this.l(a),d=y.get(c);c=Object.create(d.K||null);var e=H.da(a,b.G);a=H.ea(d.G,a).F;Object.assign(c,e.qb,a,e.wb);this.ga(c,b.P);H.fa(c);b.K=c};k.prototype.ga=function(a,b){for(var c in b){var d=
b[c];if(d||0===d)a[c]=d}};k.prototype.styleDocument=function(a){this.styleSubtree(this.g,a)};k.prototype.styleSubtree=function(a,b){var c=a.shadowRoot;(c||this.j(a))&&this.styleElement(a,b);if(b=c&&(c.children||c.childNodes))for(a=0;a<b.length;a++)this.styleSubtree(b[a]);else if(a=a.children||a.childNodes)for(b=0;b<a.length;b++)this.styleSubtree(a[b])};k.prototype.Qa=function(a){for(var b=0;b<a.length;b++){var c=this.b.getStyleForCustomStyle(a[b]);c&&this.Pa(c)}};k.prototype.D=function(a){for(var b=
0;b<a.length;b++){var c=this.b.getStyleForCustomStyle(a[b]);c&&H.s(c,this.h.K)}};k.prototype.v=function(a){var b=this,c=qa(a);W(c,function(a){u?x.u(a):x.I(a);w&&(b.c(),b.a&&b.a.transformRule(a))});w?a.textContent=V(c):this.h.G.rules.push(c)};k.prototype.Pa=function(a){if(w&&this.a){var b=qa(a);this.c();this.a.transformRules(b);a.textContent=V(b)}};k.prototype.getComputedStyleValue=function(a,b){var c;w||(c=(y.get(a)||y.get(this.l(a))).K[b]);return(c=c||window.getComputedStyle(a).getPropertyValue(b))?
c.trim():""};k.prototype.Ta=function(a,b){var c=a.getRootNode();b=b?b.split(/\s/):[];c=c.host&&c.host.localName;if(!c){var d=a.getAttribute("class");if(d){d=d.split(/\s/);for(var e=0;e<d.length;e++)if(d[e]===x.c){c=d[e+1];break}}}c&&b.push(x.c,c);w||(c=y.get(a))&&c.B&&b.push(H.g,c.B);ra(a,b.join(" "))};k.prototype.Ra=function(a){return y.get(a)};k.prototype.flush=k.prototype.C;k.prototype.prepareTemplate=k.prototype.prepareTemplate;k.prototype.styleElement=k.prototype.styleElement;k.prototype.styleDocument=
k.prototype.styleDocument;k.prototype.styleSubtree=k.prototype.styleSubtree;k.prototype.getComputedStyleValue=k.prototype.getComputedStyleValue;k.prototype.setElementClass=k.prototype.Ta;k.prototype._styleInfoForNode=k.prototype.Ra;k.prototype.transformCustomStyleForDocument=k.prototype.v;k.prototype.getStyleAst=k.prototype.Sa;k.prototype.styleAstToString=k.prototype.Ua;k.prototype.flushCustomStyles=k.prototype.f;Object.defineProperties(k.prototype,{nativeShadow:{get:function(){return u}},nativeCss:{get:function(){return w}}});
var N=new k;if(window.ShadyCSS){var Yc=window.ShadyCSS.ApplyShim;var Zc=window.ShadyCSS.CustomStyleInterface}window.ShadyCSS={ScopingShim:N,prepareTemplate:function(a,b,c){N.f();N.prepareTemplate(a,b,c)},styleSubtree:function(a,b){N.f();N.styleSubtree(a,b)},styleElement:function(a){N.f();N.styleElement(a)},styleDocument:function(a){N.f();N.styleDocument(a)},getComputedStyleValue:function(a,b){return N.getComputedStyleValue(a,b)},nativeCss:w,nativeShadow:u};Yc&&(window.ShadyCSS.ApplyShim=Yc);Zc&&(window.ShadyCSS.CustomStyleInterface=
Zc);(function(){var a=window.customElements,b=window.HTMLImports;window.WebComponents=window.WebComponents||{};if(a&&a.polyfillWrapFlushCallback){var c,d=function(){if(c){var a=c;c=null;a();return!0}},e=b.whenReady;a.polyfillWrapFlushCallback(function(a){c=a;e(d)});b.whenReady=function(a){e(function(){d()?b.whenReady(a):a()})}}b.whenReady(function(){requestAnimationFrame(function(){window.WebComponents.ready=!0;document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})})();(function(){var a=
document.createElement("style");a.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var b=document.querySelector("head");b.insertBefore(a,b.firstChild)})()})();}).call(this);

//# sourceMappingURL=webcomponents-lite.js.map
</script></head><body><div hidden="" by-polymer-bundler=""><script>(function(){"use strict";function i(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function j(mb){mb=mb.replace(Qa,"").replace(Ra,"");var ob=mb,pb=new i;pb.start=0,pb.end=ob.length;for(var qb=pb,rb=0,sb=ob.length;rb<sb;rb++)if("{"===ob[rb]){qb.rules||(qb.rules=[]);var tb=qb,ub=tb.rules[tb.rules.length-1]||null,qb=new i;qb.start=rb+1,qb.parent=tb,qb.previous=ub,tb.rules.push(qb)}else"}"===ob[rb]&&(qb.end=rb+1,qb=qb.parent||pb);return o(pb,mb)}function o(mb,nb){var ob=nb.substring(mb.start,mb.end-1);if(mb.parsedCssText=mb.cssText=ob.trim(),mb.parent&&((ob=nb.substring(mb.previous?mb.previous.end:mb.parent.start,mb.start-1),ob=s(ob),ob=ob.replace(Xa," "),ob=ob.substring(ob.lastIndexOf(";")+1),ob=mb.parsedSelector=mb.selector=ob.trim(),mb.atRule=!ob.indexOf("@"),mb.atRule)?ob.indexOf("@media")?ob.match(Wa)&&(mb.type=Na,mb.keyframesName=mb.selector.split(Xa).pop()):mb.type=Oa:mb.type=ob.indexOf("--")?Ma:Pa),ob=mb.rules)for(var rb,pb=0,qb=ob.length;pb<qb&&(rb=ob[pb]);pb++)o(rb,nb);return mb}function s(mb){return mb.replace(/\\([0-9a-f]{1,6})\s/gi,function(nb,ob){for(nb=ob,ob=6-nb.length;ob--;)nb="0"+nb;return"\\"+nb})}function $(mb,nb,ob){ob=void 0===ob?"":ob;var pb="";if(mb.cssText||mb.rules){var rb,qb=mb.rules;if((rb=qb)&&(rb=qb[0],rb=!(rb&&rb.selector&&0===rb.selector.indexOf("--"))),rb){rb=0;for(var tb,sb=qb.length;rb<sb&&(tb=qb[rb]);rb++)pb=$(tb,nb,pb)}else nb?nb=mb.cssText:(nb=mb.cssText,nb=nb.replace(Sa,"").replace(Ta,""),nb=nb.replace(Ua,"").replace(Va,"")),(pb=nb.trim())&&(pb="  "+pb+"\n")}return pb&&(mb.selector&&(ob+=mb.selector+" {\n"),ob+=pb,mb.selector&&(ob+="}\n\n")),ob}function _(mb){(mb=La[mb])&&(mb._applyShimCurrentVersion=mb._applyShimCurrentVersion||0,mb._applyShimValidatingVersion=mb._applyShimValidatingVersion||0,mb._applyShimNextVersion=(mb._applyShimNextVersion||0)+1)}function ta(mb){return mb._applyShimCurrentVersion===mb._applyShimNextVersion}function ua(mb){mb._applyShimValidatingVersion=mb._applyShimNextVersion,mb.a||(mb.a=!0,Ya.then(function(){mb._applyShimCurrentVersion=mb._applyShimNextVersion,mb.a=!1}))}function va(mb){bb=mb&&mb.shimcssproperties?!1:ab||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function wa(mb){return mb?("string"===typeof mb&&(mb=j(mb)),$(mb,cb)):""}function xa(mb){return!mb.__cssRules&&mb.textContent&&(mb.__cssRules=j(mb.textContent)),mb.__cssRules||null}function ya(mb,nb,ob,pb){if(mb){var qb=!1,rb=mb.type;if(pb&&rb===Oa){var sb=mb.selector.match(_a);sb&&(window.matchMedia(sb[1]).matches||(qb=!0))}if(rb===Ma?nb(mb):ob&&rb===Na?ob(mb):rb===Pa&&(qb=!0),(mb=mb.rules)&&!qb)for(var tb,qb=0,rb=mb.length;qb<rb&&(tb=mb[qb]);qb++)ya(tb,nb,ob,pb)}}function za(mb,nb){var ob=mb.indexOf("var(");if(-1===ob)return nb(mb,"","","");a:{for(var pb=0,qb=ob+3,rb=mb.length;qb<rb;qb++)if("("===mb[qb])pb++;else if(")"===mb[qb]&&! --pb)break a;qb=-1}return pb=mb.substring(ob+4,qb),ob=mb.substring(0,ob),mb=za(mb.substring(qb+1),nb),qb=pb.indexOf(","),-1===qb?nb(ob,pb.trim(),"",mb):nb(ob,pb.substring(0,qb).trim(),pb.substring(qb+1).trim(),mb)}function Aa(){this.a={}}function Ba(){this.b=this.c=null,this.a=new Aa}function Ca(mb,nb){return nb=nb.replace(Za,function(ob,pb,qb,rb){return Ga(mb,ob,pb,qb,rb)}),Da(mb,nb)}function Da(mb,nb){for(var ob;ob=$a.exec(nb);){var pb=ob[0],qb=ob[1];ob=ob.index;var rb=nb.slice(0,ob+pb.indexOf("@apply"));nb=nb.slice(ob+pb.length);var sb=Ea(mb,rb),pb=void 0,tb=mb,qb=qb.replace(db,""),ub=[],vb=tb.a.get(qb);if(vb||(tb.a.set(qb,{}),vb=tb.a.get(qb)),vb)for(pb in tb.c&&(vb.i[tb.c]=!0),vb.h)tb=sb&&sb[pb],vb=[pb,": var(",qb,"_-_",pb],tb&&vb.push(",",tb),vb.push(")"),ub.push(vb.join(""));pb=ub.join("; "),nb=""+rb+pb+nb,$a.lastIndex=ob+pb.length}return nb}function Ea(mb,nb){nb=nb.split(";");for(var ob,pb,sb,qb={},rb=0;rb<nb.length;rb++)if((ob=nb[rb])&&(sb=ob.split(":"),1<sb.length)){ob=sb[0].trim();var tb=mb;pb=ob,sb=sb.slice(1).join(":");var ub=eb.exec(sb);ub&&(ub[1]?(tb.b||(tb.b=document.createElement("meta"),tb.b.setAttribute("apply-shim-measure",""),tb.b.style.all="initial",document.head.appendChild(tb.b)),pb=window.getComputedStyle(tb.b).getPropertyValue(pb)):pb="apply-shim-inherit",sb=pb),pb=sb,qb[ob]=pb}return qb}function Fa(mb,nb){if(fb)for(var ob in nb.i)ob!==mb.c&&fb(ob)}function Ga(mb,nb,ob,pb,qb){if(pb&&za(pb,function(Ab,Bb){Bb&&mb.a.get(Bb)&&(qb="@apply "+Bb+";")}),!qb)return nb;var rb=Da(mb,qb),sb=nb.slice(0,nb.indexOf("--")),tb=rb=Ea(mb,rb),ub=mb.a.get(ob),vb=ub&&ub.h;vb?tb=Object.assign(Object.create(vb),rb):mb.a.set(ob,tb);var xb,wb=[],yb=!1;for(xb in tb){var zb=rb[xb];void 0===zb&&(zb="initial"),!vb||xb in vb||(yb=!0),wb.push(""+ob+"_-_"+xb+": "+zb)}return yb&&Fa(mb,ub),ub&&(ub.h=tb),pb&&(sb=nb+";"+sb),""+sb+wb.join("; ")+";"}function Ha(mb){requestAnimationFrame(function(){hb?hb(mb):(gb||(gb=new Promise(function(nb){ib=nb}),"complete"===document.readyState?ib():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&ib()})),gb.then(function(){mb&&mb()}))})}function Ia(){var mb=this;this.a=null,Ha(function(){Ja(mb)}),jb.invalidCallback=_}function Ja(mb){mb.a||(mb.a=window.ShadyCSS.CustomStyleInterface,mb.a&&(mb.a.transformCallback=function(nb){jb.f(nb)},mb.a.validateCallback=function(){requestAnimationFrame(function(){mb.a.enqueued&&Ka(mb)})}))}function Ka(mb){if(Ja(mb),mb.a){var nb=mb.a.processStyles();if(mb.a.enqueued){for(var pb,ob=0;ob<nb.length;ob++)pb=mb.a.getStyleForCustomStyle(nb[ob]),pb&&jb.f(pb);mb.a.enqueued=!1}}}var La={},Ma=1,Na=7,Oa=4,Pa=1E3,Qa=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Ra=/@import[^;]*;/gim,Sa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Ta=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,Ua=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Va=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Wa=/^@[^\s]*keyframes/,Xa=/\s+/g,Ya=Promise.resolve(),Za=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,$a=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,_a=/@media\s(.*)/,ab=!(window.ShadyDOM&&window.ShadyDOM.inUse),bb;window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?bb=window.ShadyCSS.nativeCss:window.ShadyCSS?(va(window.ShadyCSS),window.ShadyCSS=void 0):va(window.WebComponents&&window.WebComponents.flags);var cb=bb,db=/;\s*/m,eb=/^\s*(initial)|(inherit)\s*$/;Aa.prototype.set=function(mb,nb){mb=mb.trim(),this.a[mb]={h:nb,i:{}}},Aa.prototype.get=function(mb){return mb=mb.trim(),this.a[mb]||null};var fb=null;Ba.prototype.o=function(mb){return mb=$a.test(mb)||Za.test(mb),$a.lastIndex=0,Za.lastIndex=0,mb},Ba.prototype.m=function(mb,nb){mb=mb.content.querySelector("style");var ob=null;return mb&&(ob=this.j(mb,nb)),ob},Ba.prototype.j=function(mb,nb){nb=void 0===nb?"":nb;var ob=xa(mb);return this.l(ob,nb),mb.textContent=wa(ob),ob},Ba.prototype.f=function(mb){var nb=this,ob=xa(mb);return ya(ob,function(pb){":root"===pb.selector&&(pb.selector="html"),nb.g(pb)}),mb.textContent=wa(ob),ob},Ba.prototype.l=function(mb,nb){var ob=this;this.c=nb,ya(mb,function(pb){ob.g(pb)}),this.c=null},Ba.prototype.g=function(mb){mb.cssText=Ca(this,mb.parsedCssText),":root"===mb.selector&&(mb.selector=":host > *")},Ba.prototype.detectMixin=Ba.prototype.o,Ba.prototype.transformStyle=Ba.prototype.j,Ba.prototype.transformCustomStyle=Ba.prototype.f,Ba.prototype.transformRules=Ba.prototype.l,Ba.prototype.transformRule=Ba.prototype.g,Ba.prototype.transformTemplate=Ba.prototype.m,Ba.prototype._separator="_-_",Object.defineProperty(Ba.prototype,"invalidCallback",{get:function(){return fb},set:function(mb){fb=mb}});var ib,gb=null,hb=window.HTMLImports&&window.HTMLImports.whenReady||null,jb=new Ba;if(Ia.prototype.prepareTemplate=function(mb,nb){Ja(this),La[nb]=mb,nb=jb.m(mb,nb),mb._styleAst=nb},Ia.prototype.styleSubtree=function(mb,nb){if(Ja(this),nb)for(var ob in nb)null===ob?mb.style.removeProperty(ob):mb.style.setProperty(ob,nb[ob]);if(mb.shadowRoot)for(this.styleElement(mb),mb=mb.shadowRoot.children||mb.shadowRoot.childNodes,nb=0;nb<mb.length;nb++)this.styleSubtree(mb[nb]);else for(mb=mb.children||mb.childNodes,nb=0;nb<mb.length;nb++)this.styleSubtree(mb[nb])},Ia.prototype.styleElement=function(mb){Ja(this);var ob,nb=mb.localName;ob=nb?-1<nb.indexOf("-")?nb:mb.getAttribute&&mb.getAttribute("is")||"":mb.is,(nb=La[ob])&&!ta(nb)&&((ta(nb)||nb._applyShimValidatingVersion!==nb._applyShimNextVersion)&&(this.prepareTemplate(nb,ob),ua(nb)),(mb=mb.shadowRoot)&&(mb=mb.querySelector("style"))&&(mb.__cssRules=nb._styleAst,mb.textContent=wa(nb._styleAst)))},Ia.prototype.styleDocument=function(mb){Ja(this),this.styleSubtree(document.body,mb)},!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var kb=new Ia,lb=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(mb,nb){Ka(kb),kb.prepareTemplate(mb,nb)},styleSubtree:function(mb,nb){Ka(kb),kb.styleSubtree(mb,nb)},styleElement:function(mb){Ka(kb),kb.styleElement(mb)},styleDocument:function(mb){Ka(kb),kb.styleDocument(mb)},getComputedStyleValue:function(mb,nb){return(mb=window.getComputedStyle(mb).getPropertyValue(nb))?mb.trim():""},nativeCss:cb,nativeShadow:ab},lb&&(window.ShadyCSS.CustomStyleInterface=lb)}window.ShadyCSS.ApplyShim=jb}).call(this);</script><script>(function(){'use strict';const a=window.Polymer;window.Polymer=function(b){return window.Polymer._polymerFn(b)},a&&Object.assign(Polymer,a),window.Polymer._polymerFn=function(){throw new Error('Load polymer.html to use the Polymer() function.')},window.Polymer.version='2.0.1',window.JSCompiler_renameProperty=function(b){return b}})();</script><script>(function(){'use strict';function a(i,j){if(i&&f.test(i))return i;if(void 0===g){g=!1;try{const k=new URL('b','http://a');k.pathname='c%20d',g='http://a/c%20d'===k.href}catch(k){}}return(j||(j=document.baseURI||window.location.href),g)?new URL(i,j).href:(h||(h=document.implementation.createHTMLDocument('temp'),h.base=h.createElement('base'),h.head.appendChild(h.base),h.anchor=h.createElement('a'),h.body.appendChild(h.anchor)),h.base.href=j,h.anchor.href=i,h.anchor.href||i)}let d=/(url\()([^)]*)(\))/g,f=/(^\/)|(^#)|(^[\w-\d]*:)/,g,h;Polymer.ResolveUrl={resolveCss:function(i,j){return i.replace(d,function(k,l,n,o){return l+'\''+a(n.replace(/["']/g,''),j)+'\''+o})},resolveUrl:a,pathFromUrl:function(i){return i.substring(0,i.lastIndexOf('/')+1)}}})();</script><script>(function(){'use strict';const a=Polymer.Settings||{};a.useShadow=!window.ShadyDOM,a.useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),a.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback,Polymer.Settings=a;let b=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.rootPath=b,Polymer.setRootPath=function(c){Polymer.rootPath=c}})();</script><script>(function(){'use strict';function a(){}let b=0;a.prototype.__mixinApplications,a.prototype.__mixinSet,Polymer.dedupingMixin=function(c){let e=c.__mixinApplications;e||(e=new WeakMap,c.__mixinApplications=e);let f=b++;return function(g){let h=g.__mixinSet;if(h&&h[f])return g;let i=e,j=i.get(g);j||(j=c(g),i.set(g,j));let k=Object.create(j.__mixinSet||h||null);return k[f]=!0,j.__mixinSet=k,j}}})();</script><script>(function(){'use strict';const a={},b=/-[a-z]/g,c=/([A-Z])/g,d={dashToCamelCase(e){return a[e]||(a[e]=0>e.indexOf('-')?e:e.replace(b,f=>f[1].toUpperCase()))},camelToDashCase(e){return a[e]||(a[e]=e.replace(c,'-$1').toLowerCase())}};Polymer.CaseMap=d})();</script><script>(function(){'use strict';function a(g){return Polymer.DomModule?Polymer.DomModule.import(g):null}const f={cssFromModules(g){let h=g.trim().split(' '),j='';for(let k=0;k<h.length;k++)j+=this.cssFromModule(h[k]);return j},cssFromModule(g){let h=a(g);if(h&&void 0===h._cssText){let j='',k=h.querySelector('template');k&&(j+=this.cssFromTemplate(k,h.assetpath)),j+=this.cssFromModuleImports(g),h._cssText=j||null}return h||console.warn('Could not find style data in module named',g),h&&h._cssText||''},cssFromTemplate(g,h){let j='',k=g.content.querySelectorAll('style');for(let l=0;l<k.length;l++){let n=k[l],o=n.getAttribute('include');o&&(j+=this.cssFromModules(o)),n.parentNode.removeChild(n),j+=h?Polymer.ResolveUrl.resolveCss(n.textContent,h):n.textContent}return j},cssFromModuleImports(g){let h='',j=a(g);if(!j)return h;let k=j.querySelectorAll('link[rel=import][type~=css]');for(let n,l=0;l<k.length;l++)if(n=k[l],n.import){let o=n.import,q=o.body?o.body:o;h+=Polymer.ResolveUrl.resolveCss(q.textContent,o.baseURI)}return h}};Polymer.StyleGather=f})();</script><script>(function(){'use strict';function a(f){return c[f]||d[f.toLowerCase()]}function b(f){f.querySelector('style')&&console.warn('dom-module %s has style outside template',f.id)}let c={},d={};class e extends HTMLElement{static get observedAttributes(){return['id']}static import(f,g){if(f){let h=a(f);return h&&g?h.querySelector(g):h}return null}attributeChangedCallback(f,g,h){g!==h&&this.register()}get assetpath(){if(!this.__assetpath){const f=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,g=Polymer.ResolveUrl.resolveUrl(this.getAttribute('assetpath')||'',f.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(g)}return this.__assetpath}register(f){f=f||this.id,f&&(this.id=f,c[f]=this,d[f.toLowerCase()]=this,b(this))}}e.prototype.modules=c,customElements.define('dom-module',e),Polymer.DomModule=e})();</script><script>(function(){'use strict';const a={isPath:function(b){return 0<=b.indexOf('.')},root:function(b){let c=b.indexOf('.');return-1===c?b:b.slice(0,c)},isAncestor:function(b,c){return 0===b.indexOf(c+'.')},isDescendant:function(b,c){return 0===c.indexOf(b+'.')},translate:function(b,c,d){return c+d.slice(b.length)},matches:function(b,c){return b===c||this.isAncestor(b,c)||this.isDescendant(b,c)},normalize:function(b){if(Array.isArray(b)){let c=[];for(let e,d=0;d<b.length;d++){e=b[d].toString().split('.');for(let f=0;f<e.length;f++)c.push(e[f])}return c.join('.')}return b},split:function(b){return Array.isArray(b)?this.normalize(b).split('.'):b.toString().split('.')},get:function(b,c,d){let e=b,f=this.split(c);for(let g=0;g<f.length;g++){if(!e)return;let h=f[g];e=e[h]}return d&&(d.path=f.join('.')),e},set:function(b,c,d){let e=b,f=this.split(c),g=f[f.length-1];if(1<f.length){for(let k,h=0;h<f.length-1;h++)if(k=f[h],e=e[k],!e)return;e[g]=d}else e[c]=d;return f.join('.')}};a.isDeep=a.isPath,Polymer.Path=a})();</script><script>(function(){'use strict';let c=0,d=0,f=[],g=0,h=document.createTextNode('');new window.MutationObserver(function(){const j=f.length;for(let l,k=0;k<j;k++)if(l=f[k],l)try{l()}catch(m){setTimeout(()=>{throw m})}f.splice(0,j),d+=j}).observe(h,{characterData:!0}),Polymer.Async={timeOut:{after(j){return{run(k){return setTimeout(k,j)},cancel:window.clearTimeout.bind(window)}},run:window.setTimeout.bind(window),cancel:window.clearTimeout.bind(window)},animationFrame:{run:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)},idlePeriod:{run(j){return window.requestIdleCallback?window.requestIdleCallback(j):window.setTimeout(j,16)},cancel(j){window.cancelIdleCallback?window.cancelIdleCallback(j):window.clearTimeout(j)}},microTask:{run(j){return h.textContent=g++,f.push(j),c++},cancel(j){const k=j-d;if(0<=k){if(!f[k])throw new Error('invalid async handle: '+j);f[k]=null}}}}})();</script><script>(function(){'use strict';function a(f,g){if(!d[g]){let h=f[g];h!==void 0&&(f.__data?f._setPendingProperty(g,h):(f.__dataProto?!f.hasOwnProperty(JSCompiler_renameProperty('__dataProto',f))&&(f.__dataProto=Object.create(f.__dataProto)):f.__dataProto={},f.__dataProto[g]=h))}}let b=Polymer.CaseMap,c=Polymer.Async.microTask;const d={};for(let f,e=HTMLElement.prototype;e;){f=Object.getOwnPropertyNames(e);for(let g=0;g<f.length;g++)d[f[g]]=!0;e=Object.getPrototypeOf(e)}Polymer.PropertyAccessors=Polymer.dedupingMixin(f=>{return class extends f{static createPropertiesForAttributes(){let h=this.observedAttributes;for(let j=0;j<h.length;j++)this.prototype._createPropertyAccessor(b.dashToCamelCase(h[j]))}constructor(){super(),this.__serializing,this.__dataCounter,this.__dataEnabled,this.__dataReady,this.__dataInvalid,this.__data,this.__dataPending,this.__dataOld,this.__dataProto,this.__dataHasAccessor,this.__dataInstanceProps,this._initializeProperties()}attributeChangedCallback(h,j,k){j!==k&&this._attributeToProperty(h,k)}_initializeProperties(){for(let h in this.__serializing=!1,this.__dataCounter=0,this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),this.__dataHasAccessor)this.hasOwnProperty(h)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[h]=this[h],delete this[h])}_initializeProtoProperties(h){for(let j in h)this._setProperty(j,h[j])}_initializeInstanceProperties(h){Object.assign(this,h)}_ensureAttribute(h,j){this.hasAttribute(h)||this._valueToNodeAttribute(this,j,h)}_attributeToProperty(h,j,k){if(!this.__serializing){let l=b.dashToCamelCase(h);this[l]=this._deserializeValue(j,k)}}_propertyToAttribute(h,j,k){this.__serializing=!0,k=3>arguments.length?this[h]:k,this._valueToNodeAttribute(this,k,j||b.camelToDashCase(h)),this.__serializing=!1}_valueToNodeAttribute(h,j,k){let l=this._serializeValue(j);l===void 0?h.removeAttribute(k):h.setAttribute(k,l)}_serializeValue(h){switch(typeof h){case'boolean':return h?'':void 0;case'object':if(h instanceof Date)return h.toString();if(h)try{return JSON.stringify(h)}catch(j){return''}default:return null==h?void 0:h.toString();}}_deserializeValue(h,j){let k;switch(j){case Number:k=+h;break;case Boolean:k=null!==h;break;case Object:try{k=JSON.parse(h)}catch(l){}break;case Array:try{k=JSON.parse(h)}catch(l){k=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${h}`)}break;case Date:k=new Date(h);break;case String:default:k=h;}return k}_createPropertyAccessor(h,j){this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[h]||(this.__dataHasAccessor[h]=!0,a(this,h),Object.defineProperty(this,h,{get:function(){return this.__data[h]},set:j?function(){}:function(k){this._setProperty(h,k)}}))}_hasAccessor(h){return this.__dataHasAccessor&&this.__dataHasAccessor[h]}_setProperty(h,j){this._setPendingProperty(h,j)&&this._invalidateProperties()}_setPendingProperty(h,j){let k=this.__data[h],l=this._shouldPropertyChange(h,j,k);return l&&(!this.__dataPending&&(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(h in this.__dataOld)&&(this.__dataOld[h]=k),this.__data[h]=j,this.__dataPending[h]=j),l}_isPropertyPending(h){return!!(this.__dataPending&&h in this.__dataPending)}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,c.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){if(this.__dataPending&&this.__dataOld){let h=this.__dataPending;this.__dataPending=null,this.__dataCounter++,this._propertiesChanged(this.__data,h,this.__dataOld),this.__dataCounter--}}ready(){this.__dataReady=!0,this._flushProperties()}_propertiesChanged(){}_shouldPropertyChange(h,j,k){return k!==j&&(k===k||j===j)}}})})();</script><script>(function(){'use strict';function b(m){let o=m.getAttribute('is');if(o&&k[o]){let p=m;for(p.removeAttribute('is'),m=p.ownerDocument.createElement(o),p.parentNode.replaceChild(m,p),m.appendChild(p);p.attributes.length;)m.setAttribute(p.attributes[0].name,p.attributes[0].value),p.removeAttribute(p.attributes[0].name)}return m}function c(m,o){let p=o.parentInfo&&c(m,o.parentInfo);if(p){for(let q=p.firstChild,r=0;q;q=q.nextSibling)if(o.parentIndex===r++)return q;}else return m}function d(m,o,p,q){q.id&&(o[q.id]=p)}function f(m,o,p){if(p.events&&p.events.length)for(let s,q=0,r=p.events;q<r.length&&(s=r[q]);q++)m._addMethodEventListenerToNode(o,s.name,s.value,m)}function g(m,o,p){p.templateInfo&&(o._templateInfo=p.templateInfo)}function h(m,o,p){m=m._methodHost||m;return function(r){m[p]?m[p](r,r.detail):console.warn('listener method `'+p+'` not defined')}}const k={"dom-if":!0,"dom-repeat":!0};Polymer.TemplateStamp=Polymer.dedupingMixin(m=>{return class extends m{static _parseTemplate(p,q){if(!p._templateInfo){let r=p._templateInfo={};r.nodeInfoList=[],r.stripWhiteSpace=q&&q.stripWhiteSpace||p.hasAttribute('strip-whitespace'),this._parseTemplateContent(p,r,{parent:null})}return p._templateInfo}static _parseTemplateContent(p,q,r){return this._parseTemplateNode(p.content,q,r)}static _parseTemplateNode(p,q,r){let s,u=p;return'template'!=u.localName||u.hasAttribute('preserve-content')?'slot'===u.localName&&(q.hasInsertionPoint=!0):s=this._parseTemplateNestedTemplate(u,q,r)||s,u.firstChild&&(s=this._parseTemplateChildNodes(u,q,r)||s),u.hasAttributes&&u.hasAttributes()&&(s=this._parseTemplateNodeAttributes(u,q,r)||s),s}static _parseTemplateChildNodes(p,q,r){for(let v,s=p.firstChild,u=0;s;s=v){if('template'==s.localName&&(s=b(s)),v=s.nextSibling,s.nodeType===Node.TEXT_NODE){for(let x=v;x&&x.nodeType===Node.TEXT_NODE;)s.textContent+=x.textContent,v=x.nextSibling,p.removeChild(x),x=v;if(q.stripWhiteSpace&&!s.textContent.trim()){p.removeChild(s);continue}}let w={parentIndex:u,parentInfo:r};this._parseTemplateNode(s,q,w)&&(w.infoIndex=q.nodeInfoList.push(w)-1),s.parentNode&&u++}}static _parseTemplateNestedTemplate(p,q,r){let s=this._parseTemplate(p,q),u=s.content=p.content.ownerDocument.createDocumentFragment();return u.appendChild(p.content),r.templateInfo=s,!0}static _parseTemplateNodeAttributes(p,q,r){let s=!1,u=Array.from(p.attributes);for(let w,v=u.length-1;w=u[v];v--)s=this._parseTemplateNodeAttribute(p,q,r,w.name,w.value)||s;return s}static _parseTemplateNodeAttribute(p,q,r,s,u){return'on-'===s.slice(0,3)?(p.removeAttribute(s),r.events=r.events||[],r.events.push({name:s.slice(3),value:u}),!0):!('id'!==s)&&(r.id=u,!0)}static _contentForTemplate(p){let q=p._templateInfo;return q&&q.content||p.content}_stampTemplate(p){p&&!p.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(p);let q=this.constructor._parseTemplate(p),r=q.nodeInfoList,s=q.content||p.content,u=document.importNode(s,!0);u.__noInsertionPoint=!q.hasInsertionPoint;let v=u.nodeList=Array(r.length);u.$={};for(let y,z,w=0,x=r.length;w<x&&(y=r[w]);w++)z=v[w]=c(u,y),d(this,u.$,z,y),g(this,z,y),f(this,z,y);return u}_addMethodEventListenerToNode(p,q,r,s){s=s||p;let u=h(s,q,r);return this._addEventListenerToNode(p,q,u),u}_addEventListenerToNode(p,q,r){p.addEventListener(q,r)}_removeEventListenerFromNode(p,q,r){p.removeEventListener(q,r)}}})})();</script><script>(function(){'use strict';function t(he,ue){let fe=he[ue];if(!fe)fe=he[ue]={};else if(!he.hasOwnProperty(ue))for(let Pe in fe=he[ue]=Object.create(he[ue]),fe){let ge=fe[Pe],ce=fe[Pe]=Array(ge.length);for(let me=0;me<ge.length;me++)ce[me]=ge[me]}return fe}function r(he,ue,fe,Pe,ge,ce){if(ue){let me=!1,ye=q++;for(let Ee in fe)o(he,ue,ye,Ee,fe,Pe,ge,ce)&&(me=!0);return me}return!1}function o(he,ue,fe,Pe,ge,ce,me,ye){let Ee=!1,Ce=me?Polymer.Path.root(Pe):Pe,Te=ue[Ce];if(Te)for(let be,Oe=0,Ne=Te.length;Oe<Ne&&(be=Te[Oe]);Oe++)be.info&&be.info.lastRun===fe||me&&!d(Pe,be.trigger)||(be.info&&(be.info.lastRun=fe),be.fn(he,Pe,ge,ce,be.info,me,ye),Ee=!0);return Ee}function d(he,ue){if(ue){let fe=ue.name;return fe==he||ue.structured&&Polymer.Path.isAncestor(fe,he)||ue.wildcard&&Polymer.Path.isDescendant(fe,he)}return!0}function _(he,ue,fe,Pe,ge){let ce=he[ge.methodName],me=ge.property;ce?ce.call(he,he.__data[me],Pe[me]):!ge.dynamicFn&&console.warn('observer method `'+ge.methodName+'` not defined')}function h(he,ue,fe,Pe,ge){let ce=he[$.NOTIFY],me,ye=q++;for(let Ce in ue)ue[Ce]&&(ce&&o(he,ce,ye,Ce,fe,Pe,ge)?me=!0:ge&&u(he,Ce,fe)&&(me=!0));let Ee;me&&(Ee=he.__dataHost)&&Ee._invalidateProperties&&Ee._invalidateProperties()}function u(he,ue,fe){let Pe=Polymer.Path.root(ue);if(Pe!==ue){let ge=Polymer.CaseMap.camelToDashCase(Pe)+'-changed';return f(he,ge,fe[ue],ue),!0}return!1}function f(he,ue,fe,Pe){let ge={value:fe,queueProperty:!0};Pe&&(ge.path=Pe),he.dispatchEvent(new CustomEvent(ue,{detail:ge}))}function P(he,ue,fe,Pe,ge,ce){let me=ce?Polymer.Path.root(ue):ue,ye=me==ue?null:ue,Ee=ye?Polymer.Path.get(he,ye):he.__data[ue];ye&&Ee===void 0&&(Ee=fe[ue]),f(he,ge.eventName,Ee,ye)}function g(he,ue,fe,Pe,ge){let ce,me=he.detail,ye=me&&me.path;ye?(Pe=Polymer.Path.translate(fe,Pe,ye),ce=me&&me.value):ce=he.target[fe],ce=ge?!ce:ce,ue[$.READ_ONLY]&&ue[$.READ_ONLY][Pe]||!ue._setPendingPropertyOrPath(Pe,ce,!0,!!ye)||me&&me.queueProperty||ue._invalidateProperties()}function c(he,ue,fe,Pe,ge){let ce=he.__data[ue];Polymer.sanitizeDOMValue&&(ce=Polymer.sanitizeDOMValue(ce,ge.attrName,'attribute',he)),he._propertyToAttribute(ue,ge.attrName,ce)}function y(he,ue,fe,Pe){let ge=he[$.COMPUTE];if(ge)for(let ce=ue;r(he,ge,ce,fe,Pe);)Object.assign(fe,he.__dataOld),Object.assign(ue,he.__dataPending),ce=he.__dataPending,he.__dataPending=null}function E(he,ue,fe,Pe,ge){let ce=H(he,ue,fe,Pe,ge),me=ge.methodInfo;he.__dataHasAccessor&&he.__dataHasAccessor[me]?he._setPendingProperty(me,ce,!0):he[me]=ce}function C(he,ue,fe){let Pe=he.__dataLinkedPaths;if(Pe){let ge;for(let ce in Pe){let me=Pe[ce];Polymer.Path.isDescendant(ce,ue)?(ge=Polymer.Path.translate(ce,me,ue),he._setPendingPropertyOrPath(ge,fe,!0,!0)):Polymer.Path.isDescendant(me,ue)&&(ge=Polymer.Path.translate(me,ce,ue),he._setPendingPropertyOrPath(ge,fe,!0,!0))}}}function T(he,ue,fe,Pe,ge,ce,me){fe.bindings=fe.bindings||[];let ye={kind:Pe,target:ge,parts:ce,literal:me,isCompound:1!==ce.length};if(fe.bindings.push(ye),L(ye)){let{event:Ce,negate:Te}=ye.parts[0];ye.listenerEvent=Ce||U.camelToDashCase(ge)+'-changed',ye.listenerNegate=Te}let Ee=ue.nodeInfoList.length;for(let Te,Ce=0;Ce<ye.parts.length;Ce++)Te=ye.parts[Ce],Te.compoundIndex=Ce,O(he,ue,ye,Te,Ee)}function O(he,ue,fe,Pe,ge){if(!Pe.literal)if('attribute'===fe.kind&&'-'===fe.target[0])console.warn('Cannot set attribute '+fe.target+' because "-" is not a valid attribute starting character');else{let ce=Pe.dependencies,me={index:ge,binding:fe,part:Pe,evaluator:he};for(let Ee,ye=0;ye<ce.length;ye++)Ee=ce[ye],'string'==typeof Ee&&(Ee=S(Ee),Ee.wildcard=!0),he._addTemplatePropertyEffect(ue,Ee.rootProperty,{fn:N,info:me,trigger:Ee})}}function N(he,ue,fe,Pe,ge,ce,me){let ye=me[ge.index],Ee=ge.binding,Ce=ge.part;if(ce&&Ce.source&&ue.length>Ce.source.length&&'property'==Ee.kind&&!Ee.isCompound&&ye.__dataHasAccessor&&ye.__dataHasAccessor[Ee.target]){let Te=fe[ue];ue=Polymer.Path.translate(Ce.source,Ee.target,ue),ye._setPendingPropertyOrPath(ue,Te,!1,!0)&&he._enqueueClient(ye)}else{let Te=ge.evaluator._evaluateBinding(he,Ce,ue,fe,Pe,ce);I(he,ye,Ee,Ce,Te)}}function I(he,ue,fe,Pe,ge){if(ge=A(ue,ge,fe,Pe),Polymer.sanitizeDOMValue&&(ge=Polymer.sanitizeDOMValue(ge,fe.target,fe.kind,ue)),'attribute'==fe.kind)he._valueToNodeAttribute(ue,ge,fe.target);else{let ce=fe.target;ue.__dataHasAccessor&&ue.__dataHasAccessor[ce]?(!ue[$.READ_ONLY]||!ue[$.READ_ONLY][ce])&&ue._setPendingProperty(ce,ge)&&he._enqueueClient(ue):he._setUnmanagedPropertyToNode(ue,ce,ge)}}function A(he,ue,fe,Pe){if(fe.isCompound){let ge=he.__dataCompoundStorage[fe.target];ge[Pe.compoundIndex]=ue,ue=ge.join('')}return'attribute'!==fe.kind&&('textContent'===fe.target||'input'==he.localName&&'value'==fe.target)&&(ue=void 0==ue?'':ue),ue}function L(he){return!!he.target&&'attribute'!=he.kind&&'text'!=he.kind&&!he.isCompound&&'{'===he.parts[0].mode}function R(he,ue){let{nodeList:fe,nodeInfoList:Pe}=ue;if(Pe.length)for(let ge=0;ge<Pe.length;ge++){let ce=Pe[ge],me=fe[ge],ye=ce.bindings;if(ye)for(let Ce,Ee=0;Ee<ye.length;Ee++)Ce=ye[Ee],x(me,Ce),k(me,he,Ce);me.__dataHost=he}}function x(he,ue){if(ue.isCompound){let fe=he.__dataCompoundStorage||(he.__dataCompoundStorage={}),Pe=ue.parts,ge=Array(Pe.length);for(let me=0;me<Pe.length;me++)ge[me]=Pe[me].literal;let ce=ue.target;fe[ce]=ge,ue.literal&&'property'==ue.kind&&(he[ce]=ue.literal)}}function k(he,ue,fe){if(fe.listenerEvent){let Pe=fe.parts[0];he.addEventListener(fe.listenerEvent,function(ge){g(ge,ue,fe.target,Pe.source,Pe.negate)})}}function D(he,ue,fe,Pe,ge,ce){ce=ue.static||ce&&('object'!==typeof ce||ce[ue.methodName]);let me={methodName:ue.methodName,args:ue.args,methodInfo:ge,dynamicFn:ce};for(let Ee,ye=0;ye<ue.args.length&&(Ee=ue.args[ye]);ye++)Ee.literal||he._addPropertyEffect(Ee.rootProperty,fe,{fn:Pe,info:me,trigger:Ee});ce&&he._addPropertyEffect(ue.methodName,fe,{fn:Pe,info:me})}function H(he,ue,fe,Pe,ge){let ce=he._methodHost||he,me=ce[ge.methodName];if(me){let ye=w(he.__data,ge.args,ue,fe);return me.apply(ce,ye)}ge.dynamicFn||console.warn('method `'+ge.methodName+'` not defined')}function Y(he){let ue='';for(let Pe,fe=0;fe<he.length;fe++)Pe=he[fe].literal,ue+=Pe||'';return ue}function F(he){let ue=he.match(/([^\s]+?)\(([\s\S]*)\)/);if(ue){let fe=ue[1],Pe={methodName:fe,static:!0,args:Q};if(ue[2].trim()){let ge=ue[2].replace(/\\,/g,'&comma;').split(',');return M(ge,Pe)}return Pe}return null}function M(he,ue){return ue.args=he.map(function(fe){let Pe=S(fe);return Pe.literal||(ue.static=!1),Pe},this),ue}function S(he){let ue=he.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),fe={name:ue,value:'',literal:!1},Pe=ue[0];return'-'===Pe&&(Pe=ue[1]),'0'<=Pe&&'9'>=Pe&&(Pe='#'),'\''===Pe||'"'===Pe?(fe.value=ue.slice(1,-1),fe.literal=!0):'#'===Pe?(fe.value=+ue,fe.literal=!0):void 0,(fe.literal||(fe.rootProperty=Polymer.Path.root(ue),fe.structured=Polymer.Path.isPath(ue),fe.structured&&(fe.wildcard='.*'==ue.slice(-2),fe.wildcard&&(fe.name=ue.slice(0,-2)))),fe)}function w(he,ue,fe,Pe){let ge=[];for(let ce=0,me=ue.length;ce<me;ce++){let Ce,ye=ue[ce],Ee=ye.name;if(ye.literal?Ce=ye.value:ye.structured?(Ce=Polymer.Path.get(he,Ee),void 0===Ce&&(Ce=Pe[Ee])):Ce=he[Ee],ye.wildcard){let Te=0===Ee.indexOf(fe+'.'),Oe=0===fe.indexOf(Ee)&&!Te;ge[ce]={path:Oe?fe:Ee,value:Oe?Pe[fe]:Ce,base:Ce}}else ge[ce]=Ce}return ge}function z(he,ue,fe,Pe){let ge=fe+'.splices';he.notifyPath(ge,{indexSplices:Pe}),he.notifyPath(fe+'.length',ue.length),he.__data[ge]={indexSplices:null}}function B(he,ue,fe,Pe,ge,ce){z(he,ue,fe,[{index:Pe,addedCount:ge,removed:ce,object:ue,type:'splice'}])}function V(he){return he[0].toUpperCase()+he.substring(1)}const U=Polymer.CaseMap;let q=0;const $={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'};let Z;const Q=[],K='(?:[a-zA-Z_$][\\w.:$\\-*]*)',ae='(?:('+K+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+')\\s*)',_e=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*)(?:,\s*(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*))*)?)\)\s*)?)(?:]]|}})/g;Polymer.PropertyEffects=Polymer.dedupingMixin(he=>{const ue=Polymer.TemplateStamp(Polymer.PropertyAccessors(he));class fe extends ue{constructor(){super(),this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__dataCounter,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return $}_initializeProperties(){super._initializeProperties(),le.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(Pe){this.__data=Object.create(Pe),this.__dataPending=Object.create(Pe),this.__dataOld={}}_initializeInstanceProperties(Pe){let ge=this[$.READ_ONLY];for(let ce in Pe)ge&&ge[ce]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[ce]=this.__dataPending[ce]=Pe[ce])}_addPropertyEffect(Pe,ge,ce){this._createPropertyAccessor(Pe,ge==$.READ_ONLY);let me=t(this,ge)[Pe];me||(me=this[ge][Pe]=[]),me.push(ce)}_removePropertyEffect(Pe,ge,ce){let me=t(this,ge)[Pe],ye=me.indexOf(ce);0<=ye&&me.splice(ye,1)}_hasPropertyEffect(Pe,ge){let ce=this[ge];return!!(ce&&ce[Pe])}_hasReadOnlyEffect(Pe){return this._hasPropertyEffect(Pe,$.READ_ONLY)}_hasNotifyEffect(Pe){return this._hasPropertyEffect(Pe,$.NOTIFY)}_hasReflectEffect(Pe){return this._hasPropertyEffect(Pe,$.REFLECT)}_hasComputedEffect(Pe){return this._hasPropertyEffect(Pe,$.COMPUTE)}_setPendingPropertyOrPath(Pe,ge,ce,me){if(me||Polymer.Path.root(Array.isArray(Pe)?Pe[0]:Pe)!==Pe){if(!me){let ye=Polymer.Path.get(this,Pe);if(Pe=Polymer.Path.set(this,Pe,ge),!Pe||!super._shouldPropertyChange(Pe,ge,ye))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(Pe,ge,ce))return C(this,Pe,ge),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[Pe])return this._setPendingProperty(Pe,ge,ce);this[Pe]=ge}return!1}_setUnmanagedPropertyToNode(Pe,ge,ce){(ce!==Pe[ge]||'object'==typeof ce)&&(Pe[ge]=ce)}_setPendingProperty(Pe,ge,ce){let me=this.__dataHasPaths&&Polymer.Path.isPath(Pe),ye=me?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(Pe,ge,ye[Pe])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),Pe in this.__dataOld||(this.__dataOld[Pe]=this.__data[Pe]),me?this.__dataTemp[Pe]=ge:this.__data[Pe]=ge,this.__dataPending[Pe]=ge,(me||this[$.NOTIFY]&&this[$.NOTIFY][Pe])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[Pe]=ce),!0)}_setProperty(Pe,ge){this._setPendingProperty(Pe,ge,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(Pe){this.__dataPendingClients=this.__dataPendingClients||[],Pe!==this&&this.__dataPendingClients.push(Pe)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let Pe=this.__dataPendingClients;if(Pe){this.__dataPendingClients=null;for(let ce,ge=0;ge<Pe.length;ge++)ce=Pe[ge],ce.__dataEnabled?ce.__dataPending&&ce._flushProperties():ce._enableProperties()}}_readyClients(){this.__enableOrFlushClients()}setProperties(Pe,ge){for(let ce in Pe)!ge&&this[$.READ_ONLY]&&this[$.READ_ONLY][ce]||this._setPendingPropertyOrPath(ce,Pe[ce],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(Pe,ge,ce){let me=this.__dataHasPaths;this.__dataHasPaths=!1,y(this,ge,ce,me);let ye=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(ge,ce,me),this._flushClients(),r(this,this[$.REFLECT],ge,ce,me),r(this,this[$.OBSERVE],ge,ce,me),ye&&h(this,ye,ge,ce,me),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(Pe,ge,ce){this[$.PROPAGATE]&&r(this,this[$.PROPAGATE],Pe,ge,ce);for(let me=this.__templateInfo;me;)r(this,me.propertyEffects,Pe,ge,ce,me.nodeList),me=me.nextTemplateInfo}linkPaths(Pe,ge){Pe=Polymer.Path.normalize(Pe),ge=Polymer.Path.normalize(ge),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[Pe]=ge}unlinkPaths(Pe){Pe=Polymer.Path.normalize(Pe),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[Pe]}notifySplices(Pe,ge){let ce={path:''},me=Polymer.Path.get(this,Pe,ce);z(this,me,ce.path,ge)}get(Pe,ge){return Polymer.Path.get(ge||this,Pe)}set(Pe,ge,ce){ce?Polymer.Path.set(ce,Pe,ge):(!this[$.READ_ONLY]||!this[$.READ_ONLY][Pe])&&this._setPendingPropertyOrPath(Pe,ge,!0)&&this._invalidateProperties()}push(Pe,...ge){let ce={path:''},me=Polymer.Path.get(this,Pe,ce),ye=me.length,Ee=me.push(...ge);return ge.length&&B(this,me,ce.path,ye,ge.length,[]),Ee}pop(Pe){let ge={path:''},ce=Polymer.Path.get(this,Pe,ge),me=!!ce.length,ye=ce.pop();return me&&B(this,ce,ge.path,ce.length,0,[ye]),ye}splice(Pe,ge,ce,...me){let ye={path:''},Ee=Polymer.Path.get(this,Pe,ye);ge=0>ge?Ee.length-Math.floor(-ge):Math.floor(ge),ge||(ge=0);let Ce=Ee.splice(ge,ce,...me);return(me.length||Ce.length)&&B(this,Ee,ye.path,ge,me.length,Ce),Ce}shift(Pe){let ge={path:''},ce=Polymer.Path.get(this,Pe,ge),me=!!ce.length,ye=ce.shift();return me&&B(this,ce,ge.path,0,0,[ye]),ye}unshift(Pe,...ge){let ce={path:''},me=Polymer.Path.get(this,Pe,ce),ye=me.unshift(...ge);return ge.length&&B(this,me,ce.path,0,ge.length,[]),ye}notifyPath(Pe,ge){let ce;if(1==arguments.length){let me={path:''};ge=Polymer.Path.get(this,Pe,me),ce=me.path}else ce=Array.isArray(Pe)?Polymer.Path.normalize(Pe):Pe;this._setPendingPropertyOrPath(ce,ge,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(Pe,ge){this._addPropertyEffect(Pe,$.READ_ONLY),ge&&(this['_set'+V(Pe)]=function(ce){this._setProperty(Pe,ce)})}_createPropertyObserver(Pe,ge,ce){let me={property:Pe,methodName:ge,dynamicFn:!!ce};this._addPropertyEffect(Pe,$.OBSERVE,{fn:_,info:me,trigger:{name:Pe}}),ce&&this._addPropertyEffect(ge,$.OBSERVE,{fn:_,info:me,trigger:{name:ge}})}_createMethodObserver(Pe,ge){let ce=F(Pe);if(!ce)throw new Error('Malformed observer expression \''+Pe+'\'');D(this,ce,$.OBSERVE,H,null,ge)}_createNotifyingProperty(Pe){this._addPropertyEffect(Pe,$.NOTIFY,{fn:P,info:{eventName:U.camelToDashCase(Pe)+'-changed',property:Pe}})}_createReflectedProperty(Pe){let ge=U.camelToDashCase(Pe);'-'===ge[0]?console.warn('Property '+Pe+' cannot be reflected to attribute '+ge+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.'):this._addPropertyEffect(Pe,$.REFLECT,{fn:c,info:{attrName:ge}})}_createComputedProperty(Pe,ge,ce){let me=F(ge);if(!me)throw new Error('Malformed computed expression \''+ge+'\'');D(this,me,$.COMPUTE,E,Pe,ce)}static addPropertyEffect(Pe,ge,ce){this.prototype._addPropertyEffect(Pe,ge,ce)}static createPropertyObserver(Pe,ge,ce){this.prototype._createPropertyObserver(Pe,ge,ce)}static createMethodObserver(Pe,ge){this.prototype._createMethodObserver(Pe,ge)}static createNotifyingProperty(Pe){this.prototype._createNotifyingProperty(Pe)}static createReadOnlyProperty(Pe,ge){this.prototype._createReadOnlyProperty(Pe,ge)}static createReflectedProperty(Pe){this.prototype._createReflectedProperty(Pe)}static createComputedProperty(Pe,ge,ce){this.prototype._createComputedProperty(Pe,ge,ce)}static bindTemplate(Pe){return this.prototype._bindTemplate(Pe)}_bindTemplate(Pe,ge){let ce=this.constructor._parseTemplate(Pe),me=this.__templateInfo==ce;if(!me)for(let ye in ce.propertyEffects)this._createPropertyAccessor(ye);if(ge&&(ce=Object.create(ce),ce.wasPreBound=me,!me&&this.__templateInfo)){let ye=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=ye.nextTemplateInfo=ce,ce.previousTemplateInfo=ye,ce}return this.__templateInfo=ce}static _addTemplatePropertyEffect(Pe,ge,ce){let me=Pe.hostProps=Pe.hostProps||{};me[ge]=!0;let ye=Pe.propertyEffects=Pe.propertyEffects||{},Ee=ye[ge]=ye[ge]||[];Ee.push(ce)}_stampTemplate(Pe){le.beginHosting(this);let ge=super._stampTemplate(Pe);le.endHosting(this);let ce=this._bindTemplate(Pe,!0);if(ce.nodeList=ge.nodeList,!ce.wasPreBound){let me=ce.childNodes=[];for(let ye=ge.firstChild;ye;ye=ye.nextSibling)me.push(ye)}return ge.templateInfo=ce,R(this,ce),this.__dataReady&&r(this,ce.propertyEffects,this.__data,null,!1,ce.nodeList),ge}_removeBoundDom(Pe){let ge=Pe.templateInfo;ge.previousTemplateInfo&&(ge.previousTemplateInfo.nextTemplateInfo=ge.nextTemplateInfo),ge.nextTemplateInfo&&(ge.nextTemplateInfo.previousTemplateInfo=ge.previousTemplateInfo),this.__templateInfoLast==ge&&(this.__templateInfoLast=ge.previousTemplateInfo),ge.previousTemplateInfo=ge.nextTemplateInfo=null;let ce=ge.childNodes;for(let ye,me=0;me<ce.length;me++)ye=ce[me],ye.parentNode.removeChild(ye)}static _parseTemplateNode(Pe,ge,ce){let me=super._parseTemplateNode(Pe,ge,ce);if(Pe.nodeType===Node.TEXT_NODE){let ye=this._parseBindings(Pe.textContent,ge);ye&&(Pe.textContent=Y(ye)||' ',T(this,ge,ce,'text','textContent',ye),me=!0)}return me}static _parseTemplateNodeAttribute(Pe,ge,ce,me,ye){let Ee=this._parseBindings(ye,ge);if(Ee){let Ce=me,Te='property';'$'==me[me.length-1]&&(me=me.slice(0,-1),Te='attribute');let Oe=Y(Ee);return Oe&&'attribute'==Te&&Pe.setAttribute(me,Oe),'input'===Pe.localName&&'value'===Ce&&Pe.setAttribute(Ce,''),Pe.removeAttribute(Ce),'property'===Te&&(me=Polymer.CaseMap.dashToCamelCase(me)),T(this,ge,ce,Te,me,Ee,Oe),!0}return super._parseTemplateNodeAttribute(Pe,ge,ce,me,ye)}static _parseTemplateNestedTemplate(Pe,ge,ce){let me=super._parseTemplateNestedTemplate(Pe,ge,ce),ye=ce.templateInfo.hostProps;for(let Ce in ye){T(this,ge,ce,'property','_host_'+Ce,[{mode:'{',source:Ce,dependencies:[Ce]}])}return me}static _parseBindings(Pe,ge){let ye,ce=[],me=0;for(;null!==(ye=_e.exec(Pe));){ye.index>me&&ce.push({literal:Pe.slice(me,ye.index)});let Ee=ye[1][0],Ce=!!ye[2],Te=ye[3].trim(),Oe=!1,Ne='',be=-1;'{'==Ee&&0<(be=Te.indexOf('::'))&&(Ne=Te.substring(be+2),Te=Te.substring(0,be),Oe=!0);let ve=F(Te),Ie=[];if(ve){let{args:Ae,methodName:Le}=ve;for(let ke,xe=0;xe<Ae.length;xe++)ke=Ae[xe],ke.literal||Ie.push(ke);let Re=ge.dynamicFns;(Re&&Re[Le]||ve.static)&&(Ie.push(Le),ve.dynamicFn=!0)}else Ie.push(Te);ce.push({source:Te,mode:Ee,negate:Ce,customEvent:Oe,signature:ve,dependencies:Ie,event:Ne}),me=_e.lastIndex}if(me&&me<Pe.length){let Ee=Pe.substring(me);Ee&&ce.push({literal:Ee})}return ce.length?ce:null}static _evaluateBinding(Pe,ge,ce,me,ye,Ee){let Ce;return Ce=ge.signature?H(Pe,ce,me,ye,ge.signature):ce==ge.source?Ee&&Polymer.Path.isPath(ce)?Polymer.Path.get(Pe,ce):Pe.__data[ce]:Polymer.Path.get(Pe,ge.source),ge.negate&&(Ce=!Ce),Ce}}return Z=fe,fe});let le={stack:[],registerHost(he){if(this.stack.length){let ue=this.stack[this.stack.length-1];ue._enqueueClient(he)}},beginHosting(he){this.stack.push(he)},endHosting(he){let ue=this.stack.length;ue&&this.stack[ue-1]==he&&this.stack.pop()}}})();</script><script>(function(){'use strict';Polymer.ElementMixin=Polymer.dedupingMixin(a=>{function b(u){return u.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',u))||(u.__ownProperties=u.hasOwnProperty(JSCompiler_renameProperty('properties',u))?u.properties:{}),u.__ownProperties}function c(u){return u.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',u))||(u.__ownObservers=u.hasOwnProperty(JSCompiler_renameProperty('observers',u))?u.observers:[]),u.__ownObservers}function d(u,v){for(let w in v){let x=v[w];'function'==typeof x&&(x={type:x}),u[w]=x}return u}function e(u){if(!u.hasOwnProperty(JSCompiler_renameProperty('__classProperties',u))){u.__classProperties=d({},b(u));let v=Object.getPrototypeOf(u.prototype).constructor;v.prototype instanceof s&&(u.__classProperties=Object.assign(Object.create(e(v)),u.__classProperties))}return u.__classProperties}function f(u){if(!u.hasOwnProperty(JSCompiler_renameProperty('__classPropertyDefaults',u))){u.__classPropertyDefaults=null;let v=e(u);for(let w in v){let x=v[w];'value'in x&&(u.__classPropertyDefaults=u.__classPropertyDefaults||{},u.__classPropertyDefaults[w]=x)}}return u.__classPropertyDefaults}function g(u){return u.hasOwnProperty(JSCompiler_renameProperty('__finalized',u))}function h(u){let v=u.prototype,w=Object.getPrototypeOf(v).constructor;w.prototype instanceof s&&w.finalize(),j(u)}function j(u){u.__finalized=!0;let v=u.prototype;u.hasOwnProperty(JSCompiler_renameProperty('is',u))&&u.is&&Polymer.telemetry.register(v);let w=b(u);w&&k(v,w);let x=c(u);x&&l(v,x,w);let y=u.template;if(y){if('string'===typeof y){let z=document.createElement('template');z.innerHTML=y,y=z}else y=y.cloneNode(!0);v._template=y}}function k(u,v){for(let w in v)m(u,w,v[w],v)}function l(u,v,w){for(let x=0;x<v.length;x++)u._createMethodObserver(v[x],w)}function m(u,v,w,x){w.computed&&(w.readOnly=!0),w.computed&&!u._hasReadOnlyEffect(v)&&u._createComputedProperty(v,w.computed,x),w.readOnly&&!u._hasReadOnlyEffect(v)&&u._createReadOnlyProperty(v,!w.computed),w.reflectToAttribute&&!u._hasReflectEffect(v)&&u._createReflectedProperty(v),w.notify&&!u._hasNotifyEffect(v)&&u._createNotifyingProperty(v),w.observer&&u._createPropertyObserver(v,w.observer,x[w.observer])}function n(u,v,w,x,y){let z=Polymer.StyleGather.cssFromTemplate(v,w)+Polymer.StyleGather.cssFromModuleImports(x);if(z){let A=document.createElement('style');A.textContent=z,v.content.insertBefore(A,v.content.firstChild)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(v,x,y),u._bindTemplate(v)}const q=Polymer.PropertyEffects(a);let r=Polymer.CaseMap;class s extends q{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes',this))){let u=[],v=e(this);for(let w in v)u.push(Polymer.CaseMap.camelToDashCase(w));this.__observedAttributes=u}return this.__observedAttributes}static finalize(){g(this)||h(this)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty('_template',this))||(this._template=Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){const u=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=u?u.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}_initializeProperties(){Polymer.telemetry.instanceCount++,this.constructor.finalize();const u=this.constructor.importPath;if(this._template&&!this._template.__polymerFinalized){this._template.__polymerFinalized=!0;const w=u?Polymer.ResolveUrl.resolveUrl(u):'';n(this.__proto__,this._template,w,this.localName)}super._initializeProperties(),this.rootPath=Polymer.rootPath,this.importPath=u;let v=f(this.constructor);if(v)for(let w in v){let x=v[w];if(!this.hasOwnProperty(w)){let y='function'==typeof x.value?x.value.call(this):x.value;this._hasAccessor(w)?this._setPendingProperty(w,y,!0):this[w]=y}}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),this._enableProperties()}disconnectedCallback(){}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(u){if(this.attachShadow)return u?(this.shadowRoot||this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(u),this.shadowRoot):null;throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.')}attributeChangedCallback(u,v,w){if(v!==w){let x=r.dashToCamelCase(u),y=e(this.constructor)[x].type;this._hasReadOnlyEffect(x)||this._attributeToProperty(u,w,y)}}updateStyles(u){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,u)}resolveUrl(u,v){return!v&&this.importPath&&(v=Polymer.ResolveUrl.resolveUrl(this.importPath)),Polymer.ResolveUrl.resolveUrl(u,v)}static _parseTemplateContent(u,v,w){return v.dynamicFns=v.dynamicFns||e(this),super._parseTemplateContent(u,v,w)}}return s}),Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(a){console.log('['+a.is+']: registered')},register:function(a){this.registrations.push(a),Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Polymer.updateStyles=function(a){window.ShadyCSS&&window.ShadyCSS.styleDocument(a)}})();</script><script>(function(){'use strict';class b{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(c,d){this._asyncModule=c,this._callback=d,this._timer=this._asyncModule.run(()=>{this._timer=null,this._callback()})}cancel(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(c,d,e){return c instanceof b?c.cancel():c=new b,c.setConfig(d,e),c}}Polymer.Debouncer=b})();</script><script>(function(){'use strict';function a(G){let H=B?['click']:v;for(let J,I=0;I<H.length;I++)J=H[I],G?document.addEventListener(J,D,!0):document.removeEventListener(J,D,!0)}function c(G){let H=G.type;if(-1===v.indexOf(H))return!1;if('mousemove'===H){let I=void 0===G.buttons?1:G.buttons;return G instanceof window.MouseEvent&&!z&&(I=w[G.which]||0),!!(1&I)}let I=void 0===G.button?0:G.button;return 0===I}function d(G){if('click'===G.type){if(0===G.detail)return!0;let H=F._findOriginalTarget(G);if(!H.nodeType||H.nodeType!==Node.ELEMENT_NODE)return!0;let I=H.getBoundingClientRect(),J=G.pageX,K=G.pageY;return!(J>=I.left&&J<=I.right&&K>=I.top&&K<=I.bottom)}return!1}function f(G){let H='auto',I=G.composedPath&&G.composedPath();if(I)for(let K,J=0;J<I.length;J++)if(K=I[J],K[o]){H=K[o];break}return H}function g(G,H,I){G.movefn=H,G.upfn=I,document.addEventListener('mousemove',H),document.addEventListener('mouseup',I)}function h(G){document.removeEventListener('mousemove',G.movefn),document.removeEventListener('mouseup',G.upfn),G.movefn=null,G.upfn=null}let k='string'===typeof document.head.style.touchAction,l='__polymerGestures',m='__polymerGesturesHandled',o='__polymerGesturesTouchAction',p=25,q=5,v=['mousedown','mousemove','mouseup','click'],w=[0,1,4,2],z=function(){try{return 1===new MouseEvent('test',{buttons:1}).buttons}catch(G){return!1}}(),A=!1;(function(){try{let G=Object.defineProperty({},'passive',{get:function(){A=!0}});window.addEventListener('test',null,G),window.removeEventListener('test',null,G)}catch(G){}})();let B=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),C=function(){};C.prototype.reset=function(){},C.prototype.mousedown,C.prototype.mousemove,C.prototype.mouseup,C.prototype.touchstart,C.prototype.touchmove,C.prototype.touchend,C.prototype.click;let D=function(G){let H=G.sourceCapabilities;if((!H||H.firesTouchEvents)&&(G[m]={skip:!0},'click'===G.type)){let I=G.composedPath&&G.composedPath();if(I)for(let J=0;J<I.length;J++)if(I[J]===E.mouse.target)return;G.preventDefault(),G.stopPropagation()}},E={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener('touchend',function(G){E.mouse.mouseIgnoreJob||a(!0);E.mouse.target=G.composedPath()[0],E.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(E.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){a(),E.mouse.target=null,E.mouse.mouseIgnoreJob=null})},!!A&&{passive:!0});const F={gestures:{},recognizers:[],deepTargetFind:function(G,H){let I=document.elementFromPoint(G,H),J=I;for(;J&&J.shadowRoot&&!window.ShadyDOM;){let K=J;if(J=J.shadowRoot.elementFromPoint(G,H),K===J)break;J&&(I=J)}return I},_findOriginalTarget:function(G){return G.composedPath?G.composedPath()[0]:G.target},_handleNative:function(G){let H,I=G.type,J=G.currentTarget,K=J[l];if(K){let L=K[I];if(L){if(!G[m]&&(G[m]={},'touch'===I.slice(0,5))){G=G;let N=G.changedTouches[0];if('touchstart'===I&&1===G.touches.length&&(E.touch.id=N.identifier),E.touch.id!==N.identifier)return;k||'touchstart'!==I&&'touchmove'!==I||F._handleTouchAction(G)}if(H=G[m],!H.skip){let M=F.recognizers;for(let O,N=0;N<M.length;N++)O=M[N],L[O.name]&&!H[O.name]&&O.flow&&-1<O.flow.start.indexOf(G.type)&&O.reset&&O.reset();for(let O,N=0;N<M.length;N++)O=M[N],L[O.name]&&!H[O.name]&&(H[O.name]=!0,O[I](G))}}}},_handleTouchAction:function(G){let H=G.changedTouches[0],I=G.type;if('touchstart'===I)E.touch.x=H.clientX,E.touch.y=H.clientY,E.touch.scrollDecided=!1;else if('touchmove'===I){if(E.touch.scrollDecided)return;E.touch.scrollDecided=!0;let J=f(G),K=!1,L=Math.abs(E.touch.x-H.clientX),M=Math.abs(E.touch.y-H.clientY);G.cancelable&&('none'===J?K=!0:'pan-x'===J?K=M>L:'pan-y'===J&&(K=L>M)),K?G.preventDefault():F.prevent('track')}},addListener:function(G,H,I){return!!this.gestures[H]&&(this._add(G,H,I),!0)},removeListener:function(G,H,I){return!!this.gestures[H]&&(this._remove(G,H,I),!0)},_add:function(G,H,I){let J=this.gestures[H],K=J.deps,L=J.name,M=G[l];M||(G[l]=M={});for(let O,P,N=0;N<K.length;N++)(O=K[N],!(B&&-1<v.indexOf(O)&&'click'!==O))&&(P=M[O],P||(M[O]=P={_count:0}),0===P._count&&G.addEventListener(O,this._handleNative),P[L]=(P[L]||0)+1,P._count=(P._count||0)+1);G.addEventListener(H,I),J.touchAction&&this.setTouchAction(G,J.touchAction)},_remove:function(G,H,I){let J=this.gestures[H],K=J.deps,L=J.name,M=G[l];if(M)for(let O,P,N=0;N<K.length;N++)O=K[N],P=M[O],P&&P[L]&&(P[L]=(P[L]||1)-1,P._count=(P._count||1)-1,0===P._count&&G.removeEventListener(O,this._handleNative));G.removeEventListener(H,I)},register:function(G){this.recognizers.push(G);for(let H=0;H<G.emits.length;H++)this.gestures[G.emits[H]]=G},_findRecognizerByEvent:function(G){for(let I,H=0;H<this.recognizers.length;H++){I=this.recognizers[H];for(let K,J=0;J<I.emits.length;J++)if(K=I.emits[J],K===G)return I}return null},setTouchAction:function(G,H){k&&(G.style.touchAction=H),G[o]=H},_fire:function(G,H,I){let J=new Event(H,{bubbles:!0,cancelable:!0,composed:!0});if(J.detail=I,G.dispatchEvent(J),J.defaultPrevented){let K=I.preventer||I.sourceEvent;K&&K.preventDefault&&K.preventDefault()}},prevent:function(G){let H=this._findRecognizerByEvent(G);H.info&&(H.info.prevent=!0)},resetMouseCanceller:function(){E.mouse.mouseIgnoreJob&&E.mouse.mouseIgnoreJob.flush()}};F.register({name:'downup',deps:['mousedown','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['down','up'],info:{movefn:null,upfn:null},reset:function(){h(this.info)},mousedown:function(G){if(c(G)){let H=F._findOriginalTarget(G),I=this;g(this.info,function(M){c(M)||(I._fire('up',H,M),h(I.info))},function(M){c(M)&&I._fire('up',H,M),h(I.info)}),this._fire('down',H,G)}},touchstart:function(G){this._fire('down',F._findOriginalTarget(G),G.changedTouches[0],G)},touchend:function(G){this._fire('up',F._findOriginalTarget(G),G.changedTouches[0],G)},_fire:function(G,H,I,J){F._fire(H,G,{x:I.clientX,y:I.clientY,sourceEvent:I,preventer:J,prevent:function(K){return F.prevent(K)}})}}),F.register({name:'track',touchAction:'none',deps:['mousedown','touchstart','touchmove','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['track'],info:{x:0,y:0,state:'start',started:!1,moves:[],addMove:function(G){this.moves.length>2&&this.moves.shift(),this.moves.push(G)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state='start',this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,h(this.info)},hasMovedEnough:function(G,H){if(this.info.prevent)return!1;if(this.info.started)return!0;let I=Math.abs(this.info.x-G),J=Math.abs(this.info.y-H);return I>=q||J>=q},mousedown:function(G){if(c(G)){let H=F._findOriginalTarget(G),I=this,J=function(M){let N=M.clientX,O=M.clientY;I.hasMovedEnough(N,O)&&(I.info.state=I.info.started?'mouseup'===M.type?'end':'track':'start','start'===I.info.state&&F.prevent('tap'),I.info.addMove({x:N,y:O}),!c(M)&&(I.info.state='end',h(I.info)),I._fire(H,M),I.info.started=!0)};g(this.info,J,function(M){I.info.started&&J(M),h(I.info)}),this.info.x=G.clientX,this.info.y=G.clientY}},touchstart:function(G){let H=G.changedTouches[0];this.info.x=H.clientX,this.info.y=H.clientY},touchmove:function(G){let H=F._findOriginalTarget(G),I=G.changedTouches[0],J=I.clientX,K=I.clientY;this.hasMovedEnough(J,K)&&('start'===this.info.state&&F.prevent('tap'),this.info.addMove({x:J,y:K}),this._fire(H,I),this.info.state='track',this.info.started=!0)},touchend:function(G){let H=F._findOriginalTarget(G),I=G.changedTouches[0];this.info.started&&(this.info.state='end',this.info.addMove({x:I.clientX,y:I.clientY}),this._fire(H,I,G))},_fire:function(G,H){let I=this.info.moves[this.info.moves.length-2],J=this.info.moves[this.info.moves.length-1],K=J.x-this.info.x,L=J.y-this.info.y,M,N=0;I&&(M=J.x-I.x,N=J.y-I.y),F._fire(G,'track',{state:this.info.state,x:H.clientX,y:H.clientY,dx:K,dy:L,ddx:M,ddy:N,sourceEvent:H,hover:function(){return F.deepTargetFind(H.clientX,H.clientY)}})}}),F.register({name:'tap',deps:['mousedown','click','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['click','touchend']},emits:['tap'],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(G){this.info.x=G.clientX,this.info.y=G.clientY},mousedown:function(G){c(G)&&this.save(G)},click:function(G){c(G)&&this.forward(G)},touchstart:function(G){this.save(G.changedTouches[0],G)},touchend:function(G){this.forward(G.changedTouches[0],G)},forward:function(G,H){let I=Math.abs(G.clientX-this.info.x),J=Math.abs(G.clientY-this.info.y),K=F._findOriginalTarget(G);(isNaN(I)||isNaN(J)||I<=p&&J<=p||d(G))&&!this.info.prevent&&F._fire(K,'tap',{x:G.clientX,y:G.clientY,sourceEvent:G,preventer:H})}}),F.findOriginalTarget=F._findOriginalTarget,F.add=F.addListener,F.remove=F.removeListener,Polymer.Gestures=F})();</script><script>(function(){'use strict';const a=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(b=>{return class extends b{_addEventListenerToNode(d,e,f){a.addListener(d,e,f)||super._addEventListenerToNode(d,e,f)}_removeEventListenerFromNode(d,e,f){a.removeListener(d,e,f)||super._removeEventListenerFromNode(d,e,f)}}})})();</script><script>(function(){'use strict';function a(b){window.HTMLImports?HTMLImports.whenReady(b):b()}Polymer.importHref=function(b,c,d,e){let f=document.head.querySelector('link[href="'+b+'"][import-href]');f||(f=document.createElement('link'),f.rel='import',f.href=b,f.setAttribute('import-href','')),e&&f.setAttribute('async','');let g=function(){f.removeEventListener('load',h),f.removeEventListener('error',i)},h=function(j){g(),f.__dynamicImportLoaded=!0,c&&a(()=>{c(j)})},i=function(j){g(),f.parentNode&&f.parentNode.removeChild(f),d&&a(()=>{d(j)})};return f.addEventListener('load',h),f.addEventListener('error',i),null==f.parentNode?document.head.appendChild(f):f.__dynamicImportLoaded&&f.dispatchEvent(new Event('load')),f}})();</script><script>(function(){'use strict';function a(){g=!0,requestAnimationFrame(function(){g=!1,b(h),setTimeout(function(){c(j)})})}function b(k){for(;k.length;)d(k.shift())}function c(k){for(let m=0,n=k.length;m<n;m++)d(k.shift())}function d(k){const m=k[0],n=k[1],o=k[2];try{n.apply(m,o)}catch(p){setTimeout(()=>{throw p})}}let g=!1,h=[],j=[];Polymer.RenderStatus={beforeNextRender:function(k,m,n){g||a(),h.push([k,m,n])},afterNextRender:function(k,m,n){g||a(),j.push([k,m,n])},flush:function(){for(;h.length||j.length;)b(h),b(j);g=!1}}})();</script><script>(function(){'use strict';function a(){document.body.removeAttribute('unresolved')}window.WebComponents?window.addEventListener('WebComponentsReady',a):'interactive'===document.readyState||'complete'===document.readyState?a():window.addEventListener('DOMContentLoaded',a)})();</script><script>(function(){'use strict';function a(o,p,q){return{index:o,removed:p,addedCount:q}}function b(o,p,q,r,s,t){let u=t-s+1,v=q-p+1,w=Array(u);for(let x=0;x<u;x++)w[x]=Array(v),w[x][0]=x;for(let x=0;x<v;x++)w[0][x]=x;for(let x=1;x<u;x++)for(let y=1;y<v;y++)if(h(o[p+y-1],r[s+x-1]))w[x][y]=w[x-1][y-1];else{let z=w[x-1][y]+1,A=w[x][y-1]+1;w[x][y]=z<A?z:A}return w}function c(o){let p=o.length-1,q=o[0].length-1,r=o[p][q],s=[];for(;0<p||0<q;){if(0==p){s.push(m),q--;continue}if(0==q){s.push(n),p--;continue}let w,t=o[p-1][q-1],u=o[p-1][q],v=o[p][q-1];w=u<v?u<t?u:t:v<t?v:t,w==t?(t==r?s.push(k):(s.push(l),r=t),p--,q--):w==u?(s.push(n),p--,r=u):(s.push(m),q--,r=v)}return s.reverse(),s}function d(o,p,q,r,s,t){let w,u=0,v=0,x=Math.min(q-p,t-s);if(0==p&&0==s&&(u=e(o,r,x)),q==o.length&&t==r.length&&(v=f(o,r,x-u)),p+=u,s+=u,q-=v,t-=v,0==q-p&&0==t-s)return[];if(p==q){for(w=a(p,[],0);s<t;)w.removed.push(r[s++]);return[w]}if(s==t)return[a(p,[],q-p)];let y=c(b(o,p,q,r,s,t));w=void 0;let z=[],A=p,B=s;for(let C=0;C<y.length;C++)switch(y[C]){case k:w&&(z.push(w),w=void 0),A++,B++;break;case l:w||(w=a(A,[],0)),w.addedCount++,A++,w.removed.push(r[B]),B++;break;case m:w||(w=a(A,[],0)),w.addedCount++,A++;break;case n:w||(w=a(A,[],0)),w.removed.push(r[B]),B++;}return w&&z.push(w),z}function e(o,p,q){for(let r=0;r<q;r++)if(!h(o[r],p[r]))return r;return q}function f(o,p,q){let r=o.length,s=p.length,t=0;for(;t<q&&h(o[--r],p[--s]);)t++;return t}function h(o,p){return o===p}const k=0,l=1,m=2,n=3;Polymer.ArraySplice={calculateSplices:function(o,p){return d(o,0,o.length,p,0,p.length)}}})();</script><script>(function(){'use strict';function c(e){return'slot'===e.localName}Polymer.FlattenedNodesObserver=class{static getFlattenedNodes(e){return c(e)?e.assignedNodes({flatten:!0}):Array.from(e.childNodes).map(f=>{return c(f)?f.assignedNodes({flatten:!0}):[f]}).reduce((f,g)=>f.concat(g),[])}constructor(e,f){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=f,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){c(this._target)?this._listenSlots([this._target]):(this._listenSlots(this._target.children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,e=>{this._processMutations(e)}):(this._nativeChildrenObserver=new MutationObserver(e=>{this._processMutations(e)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){c(this._target)?this._unlistenSlots([this._target]):(this._unlistenSlots(this._target.children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,Polymer.Async.microTask.run(()=>this.flush()))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let g,f=0;f<e.length;f++)g=e[f],g.addedNodes&&this._listenSlots(g.addedNodes),g.removedNodes&&this._unlistenSlots(g.removedNodes)}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},f=this.constructor.getFlattenedNodes(this._target),g=Polymer.ArraySplice.calculateSplices(f,this._effectiveNodes);for(let l,k=0;k<g.length&&(l=g[k]);k++)for(let o,m=0;m<l.removed.length&&(o=l.removed[m]);m++)e.removedNodes.push(o);for(let l,k=0;k<g.length&&(l=g[k]);k++)for(let m=l.index;m<l.index+l.addedCount;m++)e.addedNodes.push(f[m]);this._effectiveNodes=f;let h=!1;return(e.addedNodes.length||e.removedNodes.length)&&(h=!0,this.callback.call(this._target,e)),h}_listenSlots(e){for(let g,f=0;f<e.length;f++)g=e[f],c(g)&&g.addEventListener('slotchange',this._boundSchedule)}_unlistenSlots(e){for(let g,f=0;f<e.length;f++)g=e[f],c(g)&&g.removeEventListener('slotchange',this._boundSchedule)}}})();</script><script>(function(){'use strict';function a(){const c=!!b.length;for(;b.length;)try{b.shift().flush()}catch(d){setTimeout(()=>{throw d})}return c}let b=[];Polymer.enqueueDebouncer=function(c){b.push(c)},Polymer.flush=function(){let c,d;do c=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),d=a();while(c||d)}})();</script><script>(function(){'use strict';const e=Element.prototype,f=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,g=function(k,m){return f.call(k,m)};class h{constructor(k){this.node=k}observeNodes(k){return new Polymer.FlattenedNodesObserver(this.node,k)}unobserveNodes(k){k.disconnect()}notifyObserver(){}deepContains(k){if(this.node.contains(k))return!0;let m=k,o=k.ownerDocument;for(;m&&m!==o&&m!==this.node;)m=m.parentNode||m.host;return m===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return'slot'===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let k=[],m=this.node.assignedSlot;for(;m;)k.push(m),m=m.assignedSlot;return k}importNode(k,m){let o=this.node instanceof Document?this.node:this.node.ownerDocument;return o.importNode(k,m)}getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(k){let m=this.getEffectiveChildNodes(),o=[];for(let s,q=0,r=m.length;q<r&&(s=m[q]);q++)s.nodeType===Node.ELEMENT_NODE&&g(s,k)&&o.push(s);return o}get activeElement(){let k=this.node;return k._activeElement===void 0?k.activeElement:k._activeElement}}(function(k,m){for(let q,o=0;o<m.length;o++)q=m[o],k[q]=function(){return this.node[q].apply(this.node,arguments)}})(h.prototype,['cloneNode','appendChild','insertBefore','removeChild','replaceChild','setAttribute','removeAttribute','querySelector','querySelectorAll']),function(k,m){for(let q,o=0;o<m.length;o++)q=m[o],Object.defineProperty(k,q,{get:function(){return this.node[q]},configurable:!0})}(h.prototype,['parentNode','firstChild','lastChild','nextSibling','previousSibling','firstElementChild','lastElementChild','nextElementSibling','previousElementSibling','childNodes','children','classList']),function(k,m){for(let q,o=0;o<m.length;o++)q=m[o],Object.defineProperty(k,q,{get:function(){return this.node[q]},set:function(r){this.node[q]=r},configurable:!0})}(h.prototype,['textContent','innerHTML']);class j{constructor(k){this.event=k}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Polymer.DomApi=h,Polymer.dom=function(k){if(k=k||document,!k.__domApi){let m;m=k instanceof Event?new j(k):new h(k),k.__domApi=m}return k.__domApi},Polymer.dom.matchesSelector=g,Polymer.dom.flush=Polymer.flush,Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})();</script><script>(function(){'use strict';let a=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(b=>{const d=Polymer.GestureEventListeners(Polymer.ElementMixin(b)),e={x:'pan-x',y:'pan-y',none:'none',all:'auto'};class f extends d{constructor(){super(),this.root=this,this.created()}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(g,h,j){h!==j&&(super.attributeChangedCallback(g,h,j),this.attributeChanged(g,h,j))}attributeChanged(){}_initializeProperties(){let g=Object.getPrototypeOf(this);g.hasOwnProperty('__hasRegisterFinished')||(g.__hasRegisterFinished=!0,this._registered()),super._initializeProperties()}_registered(){}ready(){this._ensureAttributes(),this._applyListeners(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(g){return this._serializeValue(g)}deserialize(g,h){return this._deserializeValue(g,h)}reflectPropertyToAttribute(g,h,j){this._propertyToAttribute(g,h,j)}serializeValueToAttribute(g,h,j){this._valueToNodeAttribute(j||this,g,h)}extend(g,h){if(!(g&&h))return g||h;let j=Object.getOwnPropertyNames(h);for(let l,m,k=0;k<j.length&&(l=j[k]);k++)m=Object.getOwnPropertyDescriptor(h,l),m&&Object.defineProperty(g,l,m);return g}mixin(g,h){for(let j in h)g[j]=h[j];return g}chainObject(g,h){return g&&h&&g!==h&&(g.__proto__=h),g}instanceTemplate(g){let h=this.constructor._contentForTemplate(g),j=document.importNode(h,!0);return j}fire(g,h,j){j=j||{},h=null===h||void 0===h?{}:h;let k=new Event(g,{bubbles:void 0===j.bubbles||j.bubbles,cancelable:!!j.cancelable,composed:void 0===j.composed||j.composed});k.detail=h;let l=j.node||this;return l.dispatchEvent(k),k}listen(g,h,j){g=g||this;let k=this.__boundListeners||(this.__boundListeners=new WeakMap),l=k.get(g);l||(l={},k.set(g,l));let m=h+j;l[m]||(l[m]=this._addMethodEventListenerToNode(g,h,j,this))}unlisten(g,h,j){g=g||this;let k=this.__boundListeners&&this.__boundListeners.get(g),l=h+j,m=k&&k[l];m&&(this._removeEventListenerFromNode(g,h,m),k[l]=null)}setScrollDirection(g,h){Polymer.Gestures.setTouchAction(h||this,e[g]||'auto')}$$(g){return this.root.querySelector(g)}get domHost(){let g=this.getRootNode();return g instanceof DocumentFragment?g.host:g}distributeContent(){window.ShadyDOM&&this.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Polymer.dom(this).getEffectiveChildNodes()}queryDistributedElements(g){return Polymer.dom(this).queryDistributedElements(g)}getEffectiveChildren(){let g=this.getEffectiveChildNodes();return g.filter(function(h){return h.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let g=this.getEffectiveChildNodes(),h=[];for(let k,j=0;k=g[j];j++)k.nodeType!==Node.COMMENT_NODE&&h.push(k.textContent);return h.join('')}queryEffectiveChildren(g){let h=this.queryDistributedElements(g);return h&&h[0]}queryAllEffectiveChildren(g){return this.queryDistributedElements(g)}getContentChildNodes(g){let h=this.root.querySelector(g||'slot');return h?Polymer.dom(h).getDistributedNodes():[]}getContentChildren(g){return this.getContentChildNodes(g).filter(function(h){return h.nodeType===Node.ELEMENT_NODE})}isLightDescendant(g){return this!==g&&this.contains(g)&&this.getRootNode()===g.getRootNode()}isLocalDescendant(g){return this.root===g.getRootNode()}scopeSubtree(){}getComputedStyleValue(g){return a.getComputedStyleValue(this,g)}debounce(g,h,j){return this._debouncers=this._debouncers||{},this._debouncers[g]=Polymer.Debouncer.debounce(this._debouncers[g],0<j?Polymer.Async.timeOut.after(j):Polymer.Async.microTask,h.bind(this))}isDebouncerActive(g){this._debouncers=this._debouncers||{};let h=this._debouncers[g];return!!(h&&h.isActive())}flushDebouncer(g){this._debouncers=this._debouncers||{};let h=this._debouncers[g];h&&h.flush()}cancelDebouncer(g){this._debouncers=this._debouncers||{};let h=this._debouncers[g];h&&h.cancel()}async(g,h){return 0<h?Polymer.Async.timeOut.run(g.bind(this),h):~Polymer.Async.microTask.run(g.bind(this))}cancelAsync(g){0>g?Polymer.Async.microTask.cancel(~g):Polymer.Async.timeOut.cancel(g)}create(g,h){let j=document.createElement(g);if(h)if(j.setProperties)j.setProperties(h);else for(let k in h)j[k]=h[k];return j}importHref(g,h,j,k){let l=h?h.bind(this):null,m=j?j.bind(this):null;return Polymer.importHref(g,l,m,k)}elementMatches(g,h){return Polymer.dom.matchesSelector(h||this,g)}toggleAttribute(g,h,j){j=j||this,1==arguments.length&&(h=!j.hasAttribute(g)),h?j.setAttribute(g,''):j.removeAttribute(g)}toggleClass(g,h,j){j=j||this,1==arguments.length&&(h=!j.classList.contains(g)),h?j.classList.add(g):j.classList.remove(g)}transform(g,h){h=h||this,h.style.webkitTransform=g,h.style.transform=g}translate3d(g,h,j,k){k=k||this,this.transform('translate3d('+g+','+h+','+j+')',k)}arrayDelete(g,h){let j;if(!Array.isArray(g)){let k=Polymer.Path.get(this,g);if(j=k.indexOf(h),0<=j)return this.splice(g,j,1)}else if(j=g.indexOf(h),0<=j)return g.splice(j,1);return null}_logger(g,h){Array.isArray(h)&&1===h.length&&(h=h[0]),'log'===g||'warn'===g||'error'===g?console[g](...h):void 0}_log(...g){this._logger('log',g)}_warn(...g){this._logger('warn',g)}_error(...g){this._logger('error',g)}_logf(g,...h){return['[%s::%s]',this.is,g,...h]}}return f.prototype.is='',f})})();</script><script>(function(){'use strict';function c(h,j){if(!h)return j;j=Polymer.LegacyElementMixin(j),Array.isArray(h)||(h=[h]);let k=j.prototype.behaviors;return h=e(h,null,k),j=d(h,j),k&&(h=k.concat(h)),j.prototype.behaviors=h,j}function d(h,j){for(let m,k=0;k<h.length;k++)m=h[k],m&&(j=Array.isArray(m)?d(m,j):f(m,j));return j}function e(h,j,k){j=j||[];for(let n,m=h.length-1;0<=m;m--)n=h[m],n?Array.isArray(n)?e(n,j):0>j.indexOf(n)&&(!k||0>k.indexOf(n))&&j.unshift(n):console.warn('behavior is null, check for missing or 404 import');return j}function f(h,j){class k extends j{static get properties(){return h.properties}static get observers(){return h.observers}static get template(){return h._template||Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||j.template||this.prototype._template||null}created(){super.created(),h.created&&h.created.call(this)}_registered(){super._registered(),h.beforeRegister&&h.beforeRegister.call(Object.getPrototypeOf(this)),h.registered&&h.registered.call(Object.getPrototypeOf(this))}_applyListeners(){if(super._applyListeners(),h.listeners)for(let m in h.listeners)this._addMethodEventListenerToNode(this,m,h.listeners[m])}_ensureAttributes(){if(h.hostAttributes)for(let m in h.hostAttributes)this._ensureAttribute(m,h.hostAttributes[m]);super._ensureAttributes()}ready(){super.ready(),h.ready&&h.ready.call(this)}attached(){super.attached(),h.attached&&h.attached.call(this)}detached(){super.detached(),h.detached&&h.detached.call(this)}attributeChanged(m,n,o){super.attributeChanged(m,n,o),h.attributeChanged&&h.attributeChanged.call(this,m,n,o)}}for(let m in k.generatedFrom=h,h)if(!(m in g)){let n=Object.getOwnPropertyDescriptor(h,m);n&&Object.defineProperty(k.prototype,m,n)}return k}let g={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};Polymer.Class=function(h){h||console.warn('Polymer.Class requires `info` argument');let j=f(h,h.behaviors?c(h.behaviors,HTMLElement):Polymer.LegacyElementMixin(HTMLElement));return j.is=h.is,j},Polymer.mixinBehaviors=c})();</script><script>(function(){'use strict';window.Polymer._polymerFn=function(a){let b;return b='function'===typeof a?a:Polymer.Class(a),customElements.define(b.is,b),b}})();</script><script>(function(){'use strict';function a(b,c,d,e,f){let g;f&&(g='object'===typeof d&&null!==d,g&&(e=b.__dataTemp[c]));let h=e!==d&&(e===e||d===d);return g&&h&&(b.__dataTemp[c]=d),h}Polymer.MutableData=Polymer.dedupingMixin(b=>{class c extends b{_shouldPropertyChange(d,e,f){return a(this,d,e,f,!0)}}return c.prototype.mutableData=!1,c}),Polymer.OptionalMutableData=Polymer.dedupingMixin(b=>{class c extends b{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(d,e,f){return a(this,d,e,f,this.mutableData)}}return c}),Polymer.MutableData._mutablePropertyChange=a})();</script><script>(function(){'use strict';function a(){return m}function b(u,v){m=u,Object.setPrototypeOf(u,v.prototype),new v,m=null}function d(u){let v=u.__dataHost;return v&&v._methodHost||v}function f(u,v,w){let x=w.mutableData?s:r,y=class extends x{};return y.prototype.__templatizeOptions=w,y.prototype._bindTemplate(u),j(y,u,v,w),y}function g(u,v,w){let x=w.forwardHostProp;if(x){let y=v.templatizeTemplateClass;if(!y){let z=w.mutableData?p:o;y=v.templatizeTemplateClass=class extends z{};let A=v.hostProps;for(let B in A)y.prototype._addPropertyEffect('_host_'+B,y.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:h(B,x)}),y.prototype._createNotifyingProperty('_host_'+B)}b(u,y),u.__dataProto&&Object.assign(u.__data,u.__dataProto),u.__dataTemp={},u.__dataPending=null,u.__dataOld=null,u._enableProperties()}}function h(u,v){return function(x,y,z){v.call(x.__templatizeOwner,y.substring('_host_'.length),z[y])}}function j(u,v,w,x){let y=w.hostProps||{};for(let z in x.instanceProps){delete y[z];let A=x.notifyInstanceProp;A&&u.prototype._addPropertyEffect(z,u.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:k(z,A)})}if(x.forwardHostProp&&v.__dataHost)for(let z in y)u.prototype._addPropertyEffect(z,u.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:l()})}function k(u,v){return function(x,y,z){v.call(x.__templatizeOwner,x,y,z[y])}}function l(){return function(v,w,x){v.__dataHost._setPendingPropertyOrPath('_host_'+w,x[w],!0,!0)}}let m=null;a.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:a,writable:!0}});const o=Polymer.PropertyEffects(a),p=Polymer.MutableData(o),q=Polymer.PropertyEffects(class{});class r extends q{constructor(u){super(),this._configureProperties(u),this.root=this._stampTemplate(this.__dataHost);let v=this.children=[];for(let x=this.root.firstChild;x;x=x.nextSibling)v.push(x),x.__templatizeInstance=this;this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let w=this.__templatizeOptions;(u&&w.instanceProps||!w.instanceProps)&&this._enableProperties()}_configureProperties(u){let v=this.__templatizeOptions;if(u)for(let w in v.instanceProps)w in u&&this._setPendingProperty(w,u[w]);for(let w in this.__hostProps)this._setPendingProperty(w,this.__dataHost['_host_'+w])}forwardHostProp(u,v){this._setPendingPropertyOrPath(u,v,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(u,v,w){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(u,v,x=>{x.model=this,w(x)});else{let x=this.__dataHost.__dataHost;x&&x._addEventListenerToNode(u,v,w)}}_showHideChildren(u){let v=this.children;for(let x,w=0;w<v.length;w++)x=v[w],!!u!=!!x.__hideTemplateChildren__&&(x.nodeType===Node.TEXT_NODE?u?(x.__polymerTextContent__=x.textContent,x.textContent=''):x.textContent=x.__polymerTextContent__:x.style&&(u?(x.__polymerDisplay__=x.style.display,x.style.display='none'):x.style.display=x.__polymerDisplay__)),x.__hideTemplateChildren__=u,x._showHideChildren&&x._showHideChildren(u)}_setUnmanagedPropertyToNode(u,v,w){u.__hideTemplateChildren__&&u.nodeType==Node.TEXT_NODE&&'textContent'==v?u.__polymerTextContent__=w:super._setUnmanagedPropertyToNode(u,v,w)}get parentModel(){let u=this.__parentModel;if(!u){let v;u=this;do u=u.__dataHost.__dataHost;while((v=u.__templatizeOptions)&&!v.parentModel);this.__parentModel=u}return u}}r.prototype.__dataHost,r.prototype.__templatizeOptions,r.prototype._methodHost,r.prototype.__templatizeOwner,r.prototype.__hostProps;const s=Polymer.MutableData(r),t={templatize(u,v,w){if(w=w||{},u.__templatizeOwner)throw new Error('A <template> can only be templatized once');u.__templatizeOwner=v;let x=v.constructor._parseTemplate(u),y=x.templatizeInstanceClass;y||(y=f(u,x,w),x.templatizeInstanceClass=y),g(u,x,w);let z=class extends y{};return z.prototype._methodHost=d(u),z.prototype.__dataHost=u,z.prototype.__templatizeOwner=v,z.prototype.__hostProps=x.hostProps,z},modelForElement(u,v){for(let w;v;)if(!(w=v.__templatizeInstance))v=v.parentNode;else if(w.__dataHost!=u)v=w.__dataHost;else return w;return null}};Polymer.Templatize=t,Polymer.TemplateInstanceBase=r})();</script><script>(function(){'use strict';let a=Polymer.TemplateInstanceBase,c={templatize(d,e){this._templatizerTemplate=d,this.ctor=Polymer.Templatize.templatize(d,this,{mutableData:!!e,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(d){return new this.ctor(d)},modelForElement(d){return Polymer.Templatize.modelForElement(this._templatizerTemplate,d)}};Polymer.Templatizer=c})();</script><script>(function(){'use strict';const a=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement)));class b extends a{static get observedAttributes(){return['mutable-data']}constructor(){super(),this.root=null,this.$=null,this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let c=0;c<this.__children.length;c++)this.root.appendChild(this.__children[c])}render(){let c;if(!this.__children){if(c=c||this.querySelector('template'),!c){let d=new MutationObserver(()=>{if(c=this.querySelector('template'),c)d.disconnect(),this.render();else throw new Error('dom-bind requires a <template> child')});return void d.observe(this,{childList:!0})}this.root=this._stampTemplate(c),this.$=this.root.$,this.__children=[];for(let d=this.root.firstChild;d;d=d.nextSibling)this.__children[this.__children.length]=d;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}))}}customElements.define('dom-bind',b)})();</script><script>(function(){'use strict';const a=Polymer.ElementMixin(HTMLElement);Polymer.Element=a})();</script><script>(function(){'use strict';Polymer.TemplateInstanceBase;const d=Polymer.OptionalMutableData(Polymer.Element);class e extends d{static get is(){return'dom-repeat'}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},itemsIndexAs:{type:String,value:'itemsIndex'},sort:{type:Function,observer:'__sortChanged'},filter:{type:Function,observer:'__filterChanged'},observe:{type:String,observer:'__observeChanged'},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:'__initializeChunking'},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:'__computeFrameTime(targetFramerate)'}}}static get observers(){return['__itemsChanged(items.*)']}constructor(){super(),this.__instances=[],this.__limit=Infinity,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let f=0;f<this.__instances.length;f++)this.__detachInstance(f)}connectedCallback(){if(super.connectedCallback(),this.__isDetached){this.__isDetached=!1;let f=this.parentNode;for(let g=0;g<this.__instances.length;g++)this.__attachInstance(g,f)}}__ensureTemplatized(){if(!this.__ctor){let f=this.template=this.querySelector('template');if(!f){let h=new MutationObserver(()=>{if(this.querySelector('template'))h.disconnect(),this.__render();else throw new Error('dom-repeat requires a <template> child')});return h.observe(this,{childList:!0}),!1}let g={};g[this.as]=!0,g[this.indexAs]=!0,g[this.itemsIndexAs]=!0,this.__ctor=Polymer.Templatize.templatize(f,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:g,forwardHostProp:function(h,j){let k=this.__instances;for(let m,l=0;l<k.length&&(m=k[l]);l++)m.forwardHostProp(h,j)},notifyInstanceProp:function(h,j,k){if(Polymer.Path.matches(this.as,j)){let l=h[this.itemsIndexAs];j==this.as&&(this.items[l]=k);let m=Polymer.Path.translate(this.as,'items.'+l,j);this.notifyPath(m,k)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__sortChanged(f){let g=this.__getMethodHost();this.__sortFn=f&&('function'==typeof f?f:function(){return g[f].apply(g,arguments)}),this.items&&this.__debounceRender(this.__render)}__filterChanged(f){let g=this.__getMethodHost();this.__filterFn=f&&('function'==typeof f?f:function(){return g[f].apply(g,arguments)}),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(f){return Math.ceil(1e3/f)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let f=performance.now(),g=this._targetFrameTime/(f-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*g)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=f,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace('.*','.').split(' ')}__itemsChanged(f){this.items&&!Array.isArray(this.items)&&console.warn('dom-repeat expected array for `items`, found',this.items),this.__handleItemPath(f.path,f.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(f){if(this.__observePaths){f=f.substring(f.indexOf('.')+1);let g=this.__observePaths;for(let h=0;h<g.length;h++)if(0===f.indexOf(g[h]))return this.__debounceRender(this.__render,this.delay),!0}}__debounceRender(f,g=0){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<g?Polymer.Async.timeOut.after(g):Polymer.Async.microTask,f.bind(this)),Polymer.enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Polymer.flush()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let f=this.items||[],g=Array(f.length);for(let l=0;l<f.length;l++)g[l]=l;this.__filterFn&&(g=g.filter((l,m,n)=>this.__filterFn(f[l],m,n))),this.__sortFn&&g.sort((l,m)=>this.__sortFn(f[l],f[m]));const h=this.__itemsIdxToInstIdx={};let j=0;for(const k=Math.min(g.length,this.__limit);j<k;j++){let l=this.__instances[j],m=g[j],n=f[m];h[m]=j,l&&j<this.__limit?(l._setPendingProperty(this.as,n),l._setPendingProperty(this.indexAs,j),l._setPendingProperty(this.itemsIndexAs,m),l._flushProperties()):this.__insertInstance(n,j,m)}for(let l=this.__instances.length-1;l>=j;l--)this.__detachAndRemoveInstance(l)}__detachInstance(f){let g=this.__instances[f];for(let j,h=0;h<g.children.length;h++)j=g.children[h],g.root.appendChild(j);return g}__attachInstance(f,g){let h=this.__instances[f];g.insertBefore(h.root,this)}__detachAndRemoveInstance(f){let g=this.__detachInstance(f);g&&this.__pool.push(g),this.__instances.splice(f,1)}__stampInstance(f,g,h){let j={};return j[this.as]=f,j[this.indexAs]=g,j[this.itemsIndexAs]=h,new this.__ctor(j)}__insertInstance(f,g,h){let j=this.__pool.pop();j?(j._setPendingProperty(this.as,f),j._setPendingProperty(this.indexAs,g),j._setPendingProperty(this.itemsIndexAs,h),j._flushProperties()):j=this.__stampInstance(f,g,h);let k=this.__instances[g+1],l=k?k.children[0]:this;return this.parentNode.insertBefore(j.root,l),this.__instances[g]=j,j}_showHideChildren(f){for(let g=0;g<this.__instances.length;g++)this.__instances[g]._showHideChildren(f)}__handleItemPath(f,g){let h=f.slice(6),j=h.indexOf('.'),k=0>j?h:h.substring(0,j);if(k==parseInt(k,10)){let l=0>j?'':h.substring(j+1);this.__handleObservedPaths(l);let m=this.__itemsIdxToInstIdx[k],n=this.__instances[m];if(n){let o=this.as+(l?'.'+l:'');n._setPendingPropertyOrPath(o,g,!1,!0),n._flushProperties()}return!0}}itemForElement(f){let g=this.modelForElement(f);return g&&g[this.as]}indexForElement(f){let g=this.modelForElement(f);return g&&g[this.indexAs]}modelForElement(f){return Polymer.Templatize.modelForElement(this.template,f)}}customElements.define(e.is,e),Polymer.DomRepeat=e})();</script><script>(function(){'use strict';class a extends Polymer.Element{static get is(){return'dom-if'}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:'__debounceRender'},restamp:{type:Boolean,observer:'__debounceRender'}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null}__debounceRender(){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,()=>this.__render()),Polymer.enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback(),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.if&&this.__debounceRender()}render(){Polymer.flush()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let b=this.parentNode;if(b){if(!this.__ctor){let c=this.querySelector('template');if(!c){let d=new MutationObserver(()=>{if(this.querySelector('template'))d.disconnect(),this.__render();else throw new Error('dom-if requires a <template> child')});return d.observe(this,{childList:!0}),!1}this.__ctor=Polymer.Templatize.templatize(c,this,{mutableData:!0,forwardHostProp:function(d,e){this.__instance&&(this.if?this.__instance.forwardHostProp(d,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Polymer.Path.root(d)]=!0))}})}if(!this.__instance)this.__instance=new this.__ctor,b.insertBefore(this.__instance.root,this);else{this.__syncHostProperties();let c=this.__instance.children;if(c&&c.length){let d=this.previousSibling;if(d!==c[c.length-1])for(let f,e=0;e<c.length&&(f=c[e]);e++)b.insertBefore(f,this)}}}return!0}__syncHostProperties(){let b=this.__invalidProps;if(b){for(let c in b)this.__instance._setPendingProperty(c,this.__dataHost[c]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let b=this.__instance.children;if(b&&b.length){let c=b[0].parentNode;for(let e,d=0;d<b.length&&(e=b[d]);d++)c.removeChild(e)}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let b=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(b)}}customElements.define(a.is,a),Polymer.DomIf=a})();</script><script>(function(){'use strict';let a=Polymer.dedupingMixin(d=>{let e=Polymer.ElementMixin(d);class f extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return['__updateSelection(multi, items.*)']}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(g,h){let k=h.path;if('items'==k){let l=h.base||[],m=this.__lastItems,n=this.__lastMulti;if(g!==n&&this.clearSelection(),m){let o=Polymer.ArraySplice.calculateSplices(l,m);this.__applySplices(o)}this.__lastItems=l,this.__lastMulti=g}else if('items.splices'==h.path)this.__applySplices(h.value.indexSplices);else{let l=k.slice('items.'.length),m=parseInt(l,10);0>l.indexOf('.')&&l==m&&this.__deselectChangedIdx(m)}}__applySplices(g){let h=this.__selectedMap;for(let m,l=0;l<g.length;l++){m=g[l],h.forEach((n,o)=>{n<m.index||(n>=m.index+m.removed.length?h.set(o,n+m.addedCount-m.removed.length):h.set(o,-1))});for(let o,n=0;n<m.addedCount;n++)o=m.index+n,h.has(this.items[o])&&h.set(this.items[o],o)}this.__updateLinks();let k=0;h.forEach((l,m)=>{0>l?(this.multi?this.splice('selected',k,1):this.selected=this.selectedItem=null,h.delete(m)):k++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let g=0;this.__selectedMap.forEach(h=>{0<=h&&this.linkPaths('items.'+h,'selected.'+g++)})}else this.__selectedMap.forEach(g=>{this.linkPaths('selected','items.'+g),this.linkPaths('selectedItem','items.'+g)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(g){return this.__selectedMap.has(g)}isIndexSelected(g){return this.isSelected(this.items[g])}__deselectChangedIdx(g){let h=this.__selectedIndexForItemIndex(g);if(0<=h){let k=0;this.__selectedMap.forEach((l,m)=>{h==k++&&this.deselect(m)})}}__selectedIndexForItemIndex(g){let h=this.__dataLinkedPaths['items.'+g];if(h)return parseInt(h.slice('selected.'.length),10)}deselect(g){let h=this.__selectedMap.get(g);if(0<=h){this.__selectedMap.delete(g);let k;this.multi&&(k=this.__selectedIndexForItemIndex(h)),this.__updateLinks(),this.multi?this.splice('selected',k,1):this.selected=this.selectedItem=null}}deselectIndex(g){this.deselect(this.items[g])}select(g){this.selectIndex(this.items.indexOf(g))}selectIndex(g){let h=this.items[g];this.isSelected(h)?this.toggle&&this.deselectIndex(g):(!this.multi&&this.__selectedMap.clear(),this.__selectedMap.set(h,g),this.__updateLinks(),this.multi?this.push('selected',h):this.selected=this.selectedItem=h)}}return f});Polymer.ArraySelectorMixin=a;let b=a(Polymer.Element);class c extends b{static get is(){return'array-selector'}}customElements.define(c.is,c),Polymer.ArraySelector=c})();</script><script>(function(){"use strict";function i(G){y=G&&G.shimcssproperties?!1:x||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function j(G,H){for(var I in H)null===I?G.style.removeProperty(I):G.style.setProperty(I,H[I])}function o(){var G=E;requestAnimationFrame(function(){B?B(G):(A||(A=new Promise(function(H){C=H}),"complete"===document.readyState?C():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&C()})),A.then(function(){G&&G()}))})}function s(){this.customStyles=[],this.enqueued=!1}function w(G){!G.enqueued&&E&&(G.enqueued=!0,o())}var y,x=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?y=window.ShadyCSS.nativeCss:window.ShadyCSS?(i(window.ShadyCSS),window.ShadyCSS=void 0):i(window.WebComponents&&window.WebComponents.flags);var z=y;var C,A=null,B=window.HTMLImports&&window.HTMLImports.whenReady||null;var D=null,E=null;s.prototype.c=function(G){G.__seenByShadyCSS||(G.__seenByShadyCSS=!0,this.customStyles.push(G),w(this))},s.prototype.b=function(G){if(G.__shadyCSSCachedStyle)return G.__shadyCSSCachedStyle;var H;return H=G.getStyle?G.getStyle():G,H},s.prototype.a=function(){for(var I,G=this.customStyles,H=0;H<G.length;H++)if(I=G[H],!I.__shadyCSSCachedStyle){var J=this.b(I);J&&(J=J.__appliedElement||J,D&&D(J),I.__shadyCSSCachedStyle=J)}return G},s.prototype.addCustomStyle=s.prototype.c,s.prototype.getStyleForCustomStyle=s.prototype.b,s.prototype.processStyles=s.prototype.a,Object.defineProperties(s.prototype,{transformCallback:{get:function(){return D},set:function(G){D=G}},validateCallback:{get:function(){return E},set:function(G){var H=!1;E||(H=!0),E=G,H&&w(this)}}});var F=new s;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},styleSubtree:function(G,H){F.a(),j(G,H)},styleElement:function(){F.a()},styleDocument:function(G){F.a(),j(document.body,G)},getComputedStyleValue:function(G,H){return(G=window.getComputedStyle(G).getPropertyValue(H))?G.trim():""},nativeCss:z,nativeShadow:x}),window.ShadyCSS.CustomStyleInterface=F}).call(this);</script><script>(function(){'use strict';const a='include',b=window.ShadyCSS.CustomStyleInterface;class c extends HTMLElement{constructor(){super(),this._style=null,b.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const d=this.querySelector('style');if(!d)return null;this._style=d;const e=d.getAttribute(a);return e&&(d.removeAttribute(a),d.textContent=Polymer.StyleGather.cssFromModules(e)+d.textContent),this._style}}window.customElements.define('custom-style',c),Polymer.CustomStyle=c})();</script><script>(function(){'use strict';let a;(function(){a=Polymer.MutableData._mutablePropertyChange})(),Polymer.MutableDataBehavior={_shouldPropertyChange(b,c,d){return a(this,b,c,d,!0)}},Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(b,c,d){return a(this,b,c,d,this.mutableData)}}})();</script><script>Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;</script><script>(function(){'use strict';function a(g,h){if(void 0===b){b=!1;try{var j=new URL('b','http://a');j.pathname='c%20d',b='http://a/c%20d'===j.href,b=b&&'http://www.google.com/?foo%20bar'===new URL('http://www.google.com/?foo bar').href}catch(k){}}return b?new URL(g,h):(c||(c=document.implementation.createHTMLDocument('url'),d=c.createElement('base'),c.head.appendChild(d),f=c.createElement('a')),d.href=h,f.href=g.replace(/ /g,'%20'),f)}var b,c,d,f;Polymer({is:'iron-location',properties:{path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:''},_urlSpaceRegExp:{computed:'_makeRegExp(urlSpaceRegex)'},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:['_updateUrl(path, query, hash)'],attached:function(){this.listen(window,'hashchange','_hashChanged'),this.listen(window,'location-changed','_urlChanged'),this.listen(window,'popstate','_urlChanged'),this.listen(document.body,'click','_globalOnClick'),this._lastChangedAt=window.performance.now()-(this.dwellTime-200),this._initialized=!0,this._urlChanged()},detached:function(){this.unlisten(window,'hashchange','_hashChanged'),this.unlisten(window,'location-changed','_urlChanged'),this.unlisten(window,'popstate','_urlChanged'),this.unlisten(document.body,'click','_globalOnClick'),this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(window.location.hash.substring(1))},_urlChanged:function(){this._dontUpdateUrl=!0,this._hashChanged(),this.path=window.decodeURIComponent(window.location.pathname),this.query=window.location.search.substring(1),this._dontUpdateUrl=!1,this._updateUrl()},_getUrl:function(){var g=window.encodeURI(this.path).replace(/\#/g,'%23').replace(/\?/g,'%3F'),h='';this.query&&(h='?'+this.query.replace(/\#/g,'%23'));var j='';return this.hash&&(j='#'+window.encodeURI(this.hash)),g+h+j},_updateUrl:function(){if(!this._dontUpdateUrl&&this._initialized&&(this.path!==window.decodeURIComponent(window.location.pathname)||this.query!==window.location.search.substring(1)||this.hash!==window.decodeURIComponent(window.location.hash.substring(1)))){var g=this._getUrl(),h=a(g,window.location.protocol+'//'+window.location.host).href,j=window.performance.now(),k=this._lastChangedAt+this.dwellTime>j;this._lastChangedAt=j,k?window.history.replaceState({},'',h):window.history.pushState({},'',h),this.fire('location-changed',{},{node:window})}},_globalOnClick:function(g){if(!g.defaultPrevented){var h=this._getSameOriginLinkHref(g);h&&(g.preventDefault(),h===window.location.href||(window.history.pushState({},'',h),this.fire('location-changed',{},{node:window})))}},_getSameOriginLinkHref:function(g){if(0!==g.button)return null;if(g.metaKey||g.ctrlKey)return null;for(var l,h=Polymer.dom(g).path,j=null,k=0;k<h.length;k++)if(l=h[k],'A'===l.tagName&&l.href){j=l;break}if(!j)return null;if('_blank'===j.target)return null;if(('_top'===j.target||'_parent'===j.target)&&window.top!==window)return null;var n,m=j.href;n=null==document.baseURI?a(m):a(m,document.baseURI);var o=window.location.origin?window.location.origin:window.location.protocol+'//'+window.location.host;var p;if(p=n.origin?n.origin:n.protocol+'//'+n.host,p!==o)return null;var q=n.pathname+n.search+n.hash;if('/'!==q[0]&&(q='/'+q),this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(q))return null;var r=a(q,window.location.href).href;return r},_makeRegExp:function(g){return RegExp(g)}})})();</script><script>'use strict';Polymer({is:'iron-query-params',properties:{paramsString:{type:String,notify:!0,observer:'paramsStringChanged'},paramsObject:{type:Object,notify:!0,value:function(){return{}}},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:['paramsObjectChanged(paramsObject.*)'],paramsStringChanged:function(){this._dontReact=!0,this.paramsObject=this._decodeParams(this.paramsString),this._dontReact=!1},paramsObjectChanged:function(){this._dontReact||(this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,'?').replace(/%2F/g,'/').replace(/'/g,'%27'))},_encodeParams:function(a){var b=[];for(var c in a){var d=a[c];''===d?b.push(encodeURIComponent(c)):d&&b.push(encodeURIComponent(c)+'='+encodeURIComponent(d.toString()))}return b.join('&')},_decodeParams:function(a){var b={};a=(a||'').replace(/\+/g,'%20');for(var e,c=a.split('&'),d=0;d<c.length;d++)e=c[d].split('='),e[0]&&(b[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||''));return b}});</script><script>(function(){'use strict';Polymer.AppRouteConverterBehavior={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:['_locationChanged(path, queryParams)','_routeChanged(route.prefix, route.path)','_routeQueryParamsChanged(route.__queryParams)'],created:function(){this.linkPaths('route.__queryParams','queryParams'),this.linkPaths('queryParams','route.__queryParams')},_locationChanged:function(){this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams||(this.route={prefix:'',path:this.path,__queryParams:this.queryParams})},_routeChanged:function(){this.route&&(this.path=this.route.prefix+this.route.path)},_routeQueryParamsChanged:function(a){this.route&&(this.queryParams=a)}}})();</script><dom-module id="app-location" assetpath="bower_components/app-route/"><template><iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="{{urlSpaceRegex}}"></iron-location><iron-query-params params-string="{{__query}}" params-object="{{queryParams}}"></iron-query-params></template><script>(function(){'use strict';Polymer({is:'app-location',properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:'__onPathChanged'},_isReady:{type:Boolean}},behaviors:[Polymer.AppRouteConverterBehavior],observers:['__computeRoutePath(useHashAsPath, __hash, __path)'],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){this._isReady&&(this.useHashAsPath?this.__hash=this.path:this.__path=this.path)}})})();</script></dom-module><script>(function(){'use strict';Polymer({is:'app-route',properties:{route:{type:Object,notify:!0},pattern:{type:String},data:{type:Object,value:function(){return{}},notify:!0},queryParams:{type:Object,value:function(){return{}},notify:!0},tail:{type:Object,value:function(){return{path:null,prefix:null,__queryParams:null}},notify:!0},active:{type:Boolean,notify:!0,readOnly:!0},_queryParamsUpdating:{type:Boolean,value:!1},_matched:{type:String,value:''}},observers:['__tryToMatch(route.path, pattern)','__updatePathOnDataChange(data.*)','__tailPathChanged(tail.path)','__routeQueryParamsChanged(route.__queryParams)','__tailQueryParamsChanged(tail.__queryParams)','__queryParamsChanged(queryParams.*)'],created:function(){this.linkPaths('route.__queryParams','tail.__queryParams'),this.linkPaths('tail.__queryParams','route.__queryParams')},__routeQueryParamsChanged:function(a){if(a&&this.tail){if(this.tail.__queryParams!==a&&this.set('tail.__queryParams',a),!this.active||this._queryParamsUpdating)return;var b={},c=!1;for(var d in a)b[d]=a[d],(c||!this.queryParams||a[d]!==this.queryParams[d])&&(c=!0);for(var d in this.queryParams)if(c||!(d in a)){c=!0;break}if(!c)return;this._queryParamsUpdating=!0,this.set('queryParams',b),this._queryParamsUpdating=!1}},__tailQueryParamsChanged:function(a){a&&this.route&&this.route.__queryParams!=a&&this.set('route.__queryParams',a)},__queryParamsChanged:function(a){!this.active||this._queryParamsUpdating||this.set('route.__'+a.path,a.value)},__resetProperties:function(){this._setActive(!1),this._matched=null},__tryToMatch:function(){if(this.route){var a=this.route.path,b=this.pattern;if(b){if(!a)return void this.__resetProperties();for(var h,j,c=a.split('/'),d=b.split('/'),e=[],f={},g=0;g<d.length&&(h=d[g],h||''===h);g++){if(j=c.shift(),!j&&''!==j)return void this.__resetProperties();if(e.push(j),':'==h.charAt(0))f[h.slice(1)]=j;else if(h!==j)return void this.__resetProperties()}this._matched=e.join('/');var k={};this.active||(k.active=!0);var l=this.route.prefix+this._matched,m=c.join('/');for(var n in 0<c.length&&(m='/'+m),this.tail&&this.tail.prefix===l&&this.tail.path===m||(k.tail={prefix:l,path:m,__queryParams:this.route.__queryParams}),k.data=f,this._dataInUrl={},f)this._dataInUrl[n]=f[n];this.setProperties?(!this.active&&this._setActive(!0),this.setProperties(k)):this.__setMulti(k)}}},__tailPathChanged:function(a){if(this.active){var b=a,c=this._matched;b&&('/'!==b.charAt(0)&&(b='/'+b),c+=b),this.set('route.path',c)}},__updatePathOnDataChange:function(){if(this.route&&this.active){var a=this.__getLink({}),b=this.__getLink(this._dataInUrl);a===b||this.set('route.path',a)}},__getLink:function(a){var b={tail:null};for(var c in this.data)b[c]=this.data[c];for(var c in a)b[c]=a[c];var d=this.pattern.split('/'),e=d.map(function(f){return':'==f[0]&&(f=b[f.slice(1)]),f},this);return b.tail&&b.tail.path&&(0<e.length&&'/'===b.tail.path.charAt(0)?e.push(b.tail.path.slice(1)):e.push(b.tail.path)),e.join('/')},__setMulti:function(a){for(var b in a)this._propertySetter(b,a[b]);a.data!==void 0&&(this._pathEffector('data',this.data),this._notifyChange('data')),a.active!==void 0&&(this._pathEffector('active',this.active),this._notifyChange('active')),a.tail!==void 0&&(this._pathEffector('tail',this.tail),this._notifyChange('tail'))}})})();</script><script>Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:'_parentResizableChanged'},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":'_onIronRequestResizeNotifications'},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener('resize',this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,'iron-resize','_onDescendantIronResize'))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(a){return this._notifyingDescendant?void a.stopPropagation():void(!Polymer.Settings.useShadow&&this._fireResize())},_fireResize:function(){this.fire('iron-resize',null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b===this||(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,'iron-resize','_onDescendantIronResize')),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},_parentResizableChanged:function(a){a&&window.removeEventListener('resize',this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if('loading'===document.readyState){var a=this._requestResizeNotifications.bind(this);document.addEventListener('readystatechange',function b(){document.removeEventListener('readystatechange',b),a()})}else this.fire('iron-request-resize-notifications',null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener('resize',this._boundNotifyResize),this.notifyResize())}};</script><script>Polymer.IronSelection=function(a){this.selection=[],this.selectCallback=a},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&this.setItemSelected(b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},setItemSelected:function(a,b){if(null!=a&&b!==this.isSelected(a)){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);0<=c&&this.selection.splice(c,1)}this.selectCallback&&this.selectCallback(a,b)}},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(this.setItemSelected(this.get(),!1),this.setItemSelected(a,!0))},toggle:function(a){this.setItemSelected(a,!this.isSelected(a))}};</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:'tap',observer:'_activateEventChanged'},selectable:String,selectedClass:{type:String,value:'iron-selected'},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:['_updateAttrForSelected(attrForSelected)','_updateSelected(selected)','_checkFallback(fallbackSelection)'],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(a){return this.items.indexOf(a)},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length,b=(+this._valueToIndex(this.selected)-1+a)%a;this.selected=this._indexToValue(b)},selectNext:function(){var a=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&'function'===typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,'_activateHandler')},_removeListener:function(a){this.unlisten(this,a,'_activateHandler')},_activateEventChanged:function(a,b){this._removeListener(b),this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||'*');a=Array.prototype.filter.call(a,this._bindFilterItem),this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var b=this._valueToItem(this.selected);b?this._selection.select(b):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected){for(var c,b=0;c=this.items[b];b++)if(this._valueForItem(c)==a)return b;}else return+a},_indexToValue:function(a){if(this.attrForSelected){var b=this.items[a];if(b)return this._valueForItem(b)}else return a},_valueForItem:function(a){if(!a)return null;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return b==void 0?a.getAttribute(this.attrForSelected):b},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a),this._selectionChange(),this.fire('iron-'+(b?'select':'deselect'),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(b){this._updateItems(),this._updateSelected(),this.fire('iron-items-changed',b,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){for(var d,b=a.target,c=this.items;b&&b!=this;){if(d=c.indexOf(b),0<=d){var f=this._indexToValue(d);return void this._itemActivate(f,b)}b=b.parentNode}},_itemActivate:function(a,b){this.fire('iron-activate',{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};</script><dom-module id="iron-pages" assetpath="bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:'iron-pages',behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:['_selectedPageChanged(selected)'],_selectedPageChanged:function(){this.async(this.notifyResize)}});</script></dom-module><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex;};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none;};--layout-flex:{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2;};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3;};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4;};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5;};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6;};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7;};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8;};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9;};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10;};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11;};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12;};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center;};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center;};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;};--layout-block:{display:block;};--layout-invisible:{visibility:hidden !important;};--layout-relative:{position:relative;};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0;};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto;};--layout-fullbleed:{margin:0;height:100vh;};--layout-fixed-top:{position:fixed;top:0;left:0;right:0;};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0;};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0;};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0;};}</style></custom-style><script>(function(){'use strict';function a(q,r){var s='';if(q){var t=q.toLowerCase();' '===t||o.test(t)?s='space':p.test(t)?s='esc':1==t.length?(!r||l.test(t))&&(s=t):n.test(t)?s=t.replace('arrow',''):'multiply'==t?s='*':s=t}return s}function b(q){var r='';return q&&(q in h?r=h[q]:m.test(q)?(q=parseInt(q.replace('U+','0x'),16),r=String.fromCharCode(q).toLowerCase()):r=q.toLowerCase()),r}function c(q){var r='';return+q&&(65<=q&&90>=q?r=String.fromCharCode(32+q):112<=q&&123>=q?r='f'+(q-112+1):48<=q&&57>=q?r=q-48+'':96<=q&&105>=q?r=q-96+'':r=j[q]),r}function d(q,r){return q.key?a(q.key,r):q.detail&&q.detail.key?a(q.detail.key,r):b(q.keyIdentifier)||c(q.keyCode)||''}function e(q,r){var s=d(r,q.hasModifiers);return s===q.key&&(!q.hasModifiers||!!r.shiftKey===!!q.shiftKey&&!!r.ctrlKey===!!q.ctrlKey&&!!r.altKey===!!q.altKey&&!!r.metaKey===!!q.metaKey)}function f(q){return 1===q.length?{combo:q,key:q,event:'keydown'}:q.split('+').reduce(function(r,s){var t=s.split(':'),u=t[0],v=t[1];return u in k?(r[k[u]]=!0,r.hasModifiers=!0):(r.key=u,r.event=v||'keydown'),r},{combo:q.split(':').shift()})}function g(q){return q.trim().split(' ').map(function(r){return f(r)})}var h={"U+0008":'backspace',"U+0009":'tab',"U+001B":'esc',"U+0020":'space',"U+007F":'del'},j={8:'backspace',9:'tab',13:'enter',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',46:'del',106:'*'},k={shift:'shiftKey',ctrl:'ctrlKey',alt:'altKey',meta:'metaKey'},l=/[a-z0-9*]/,m=/U\+/,n=/^arrow/,o=/^space(bar)?/,p=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:['_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)'],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(q,r){this._imperativeKeyBindings[q]=r,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(q,r){for(var s=g(r),t=0;t<s.length;++t)if(e(s[t],q))return!0;return!1},_collectKeyBindings:function(){var q=this.behaviors.map(function(r){return r.keyBindings});return-1===q.indexOf(this.keyBindings)&&q.push(this.keyBindings),q},_prepKeyBindings:function(){for(var q in this._keyBindings={},this._collectKeyBindings().forEach(function(s){for(var t in s)this._addKeyBinding(t,s[t])},this),this._imperativeKeyBindings)this._addKeyBinding(q,this._imperativeKeyBindings[q]);for(var r in this._keyBindings)this._keyBindings[r].sort(function(s,t){var u=s[0].hasModifiers,v=t[0].hasModifiers;return u===v?0:u?-1:1})},_addKeyBinding:function(q,r){g(q).forEach(function(s){this._keyBindings[s.event]=this._keyBindings[s.event]||[],this._keyBindings[s.event].push([s,r])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(q){var r=this._keyBindings[q],s=this._onKeyBindingEvent.bind(this,r);this._boundKeyHandlers.push([this.keyEventTarget,q,s]),this.keyEventTarget.addEventListener(q,s)},this)},_unlistenKeyEventListeners:function(){for(var q,r,s,t;this._boundKeyHandlers.length;)q=this._boundKeyHandlers.pop(),r=q[0],s=q[1],t=q[2],r.removeEventListener(s,t)},_onKeyBindingEvent:function(q,r){if(this.stopKeyboardEventPropagation&&r.stopPropagation(),!r.defaultPrevented)for(var s=0;s<q.length;s++){var t=q[s][0],u=q[s][1];if(e(t,r)&&(this._triggerKeyHandler(t,u,r),r.defaultPrevented))return}},_triggerKeyHandler:function(q,r,s){var t=Object.create(q);t.keyboardEvent=s;var u=new CustomEvent(q.event,{detail:t,cancelable:!0});this[r].call(this,u),u.defaultPrevented&&s.preventDefault()}}})();</script><script>Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:'_disabledChanged',reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:['_changedControlState(focused, disabled)'],ready:function(){this.addEventListener('focus',this._boundFocusBlurHandler,!0),this.addEventListener('blur',this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)return void this._setFocused('focus'===a.type);if(a.target===this)this._setFocused('focus'===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute('aria-disabled',a?'true':'false'),this.style.pointerEvents=a?'none':'',a?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):this._oldTabIndex!==void 0&&(this.tabIndex=this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};</script><script>Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:'_pressedChanged'},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:'aria-pressed',observer:'_ariaActiveAttributeChanged'}},listeners:{down:'_downHandler',up:'_upHandler',tap:'_tapHandler'},observers:['_focusChanged(focused)','_activeChanged(active, ariaActiveAttribute)'],keyBindings:{"enter:keydown":'_asyncClick',"space:keydown":'_spaceKeyDownHandler',"space:keyup":'_spaceKeyUpHandler'},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a),a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==a&&(this.active=a,this.fire('change'))},_downHandler:function(){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(b.preventDefault(),b.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?'true':'false'):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];</script><dom-module id="paper-ripple" assetpath="bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none;}:host([animating]){-webkit-transform:translate(0, 0);transform:translate3d(0, 0, 0);}#background,
      #waves,
      .wave-container,
      .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#background,
      .wave{opacity:0;}#waves,
      .wave{overflow:hidden;}.wave-container,
      .wave{border-radius:50%;}:host(.circle) #background,
      :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>(function(){'use strict';function a(d){this.element=d,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function b(d){this.element=d,this.color=window.getComputedStyle(d).color,this.wave=document.createElement('div'),this.waveContainer=document.createElement('div'),this.wave.style.backgroundColor=this.color,this.wave.classList.add('wave'),this.waveContainer.classList.add('wave-container'),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}var c={distance:function(d,e,f,g){var h=d-f,i=e-g;return Math.sqrt(h*h+i*i)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(d,e){var f=c.distance(d,e,0,0),g=c.distance(d,e,this.width,0),h=c.distance(d,e,0,this.height),i=c.distance(d,e,this.width,this.height);return Math.max(f,g,h,i)}},b.MAX_RADIUS=300,b.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var d;return this.mouseDownStart?(d=c.now()-this.mouseDownStart,this.mouseUpStart&&(d-=this.mouseUpElapsed),d):0},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var d=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,f=1.1*Math.min(Math.sqrt(d+e),b.MAX_RADIUS)+5,g=1.1-0.2*(f/b.MAX_RADIUS),h=this.mouseInteractionSeconds/g,i=f*(1-Math.pow(80,-h));return Math.abs(i)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var d=0.3*this.mouseUpElapsedSeconds,e=this.opacity;return Math.max(0,Math.min(d,e))},get isOpacityFullyDecayed(){return 0.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,2*(this.radius/this.containerMetrics.size)/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new a(this.element)},draw:function(){var d,f,g;this.wave.style.opacity=this.opacity,d=this.radius/(this.containerMetrics.size/2),f=this.xNow-this.containerMetrics.width/2,g=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform='translate('+f+'px, '+g+'px)',this.waveContainer.style.transform='translate3d('+f+'px, '+g+'px, 0)',this.wave.style.webkitTransform='scale('+d+','+d+')',this.wave.style.transform='scale3d('+d+','+d+',1)'},downAction:function(d){var e=this.containerMetrics.width/2,f=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=c.now(),this.center?(this.xStart=e,this.yStart=f,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=d?d.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=d?d.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=e,this.yEnd=f,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+'px',this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+'px',this.waveContainer.style.width=this.containerMetrics.size+'px',this.waveContainer.style.height=this.containerMetrics.size+'px'},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:'paper-ripple',behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:0.25},opacityDecayVelocity:{type:Number,value:0.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:'_holdDownChanged'},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":'_onEnterKeydown',"space:keydown":'_onSpaceKeydown',"space:keyup":'_onSpaceKeyup'},attached:function(){this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;var d=this.keyEventTarget;this.listen(d,'up','uiUpAction'),this.listen(d,'down','uiDownAction')},detached:function(){this.unlisten(this.keyEventTarget,'up','uiUpAction'),this.unlisten(this.keyEventTarget,'down','uiDownAction'),this.keyEventTarget=null},get shouldKeepAnimating(){for(var d=0;d<this.ripples.length;++d)if(!this.ripples[d].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(d){this.noink||this.downAction(d)},downAction:function(d){if(!(this.holdDown&&0<this.ripples.length)){var e=this.addRipple();e.downAction(d),this._animating||(this._animating=!0,this.animate())}},uiUpAction:function(d){this.noink||this.upAction(d)},upAction:function(d){this.holdDown||(this.ripples.forEach(function(e){e.upAction(d)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire('transitionend')},addRipple:function(){var d=new b(this);return Polymer.dom(this.$.waves).appendChild(d.waveContainer),this.$.background.style.backgroundColor=d.color,this.ripples.push(d),this._setAnimating(!0),d},removeRipple:function(d){var e=this.ripples.indexOf(d);0>e||(this.ripples.splice(e,1),d.remove(),!this.ripples.length&&this._setAnimating(!1))},animate:function(){if(this._animating){var d,e;for(d=0;d<this.ripples.length;++d)e=this.ripples[d],e.draw(),this.$.background.style.opacity=e.outerOpacity,e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(d,e){void 0===e||(d?this.downAction():this.upAction())}})})();</script><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:'_noinkChanged'},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a),this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;if(b&&Polymer.dom(b).appendChild(this._ripple),a){var c=Polymer.dom(this._rippleContainer||this),d=Polymer.dom(a).rootTarget;c.deepContains(d)&&this._ripple.uiDownAction(a)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement('paper-ripple')},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};</script><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:['_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)','_computeKeyboardClass(receivedFocusFromKeyboard)'],hostAttributes:{role:'button',tabindex:'0',animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3),this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass('keyboard-focus',a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a),this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);};--shadow-none:{box-shadow:none;};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);};}</style></custom-style><dom-module id="paper-material-styles" assetpath="bower_components/paper-styles/element-styles/"><template><style>:host, html{--paper-material:{display:block;position:relative;};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material), .paper-material{@apply --paper-material;}:host(.paper-material[elevation="1"]), .paper-material[elevation="1"]{@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]), .paper-material[elevation="2"]{@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]), .paper-material[elevation="3"]{@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]), .paper-material[elevation="4"]{@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]), .paper-material[elevation="5"]{@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button" assetpath="bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:#eaeaea;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:'paper-button',behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:'_calculateElevation'}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});</script></dom-module><script>(function(){function a(c){this.type=c&&c.type||'default',this.key=c&&c.key,'value'in c&&(this.value=c.value)}a.types={},a.prototype={get value(){var c=this.type,d=this.key;if(c&&d)return a.types[c]&&a.types[c][d]},set value(c){var d=this.type,e=this.key;d&&e&&(d=a.types[d]=a.types[d]||{},null==c?delete d[e]:d[e]=c)},get list(){var c=this.type;if(c)return Object.keys(a.types[this.type]).map(function(d){return b[this.type][d]},this)},byKey:function(c){return this.key=c,this.value}},Polymer.IronMeta=a;var b=Polymer.IronMeta.types;Polymer({is:'iron-meta',properties:{type:{type:String,value:'default'},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:'_selfChanged'},__meta:{type:Boolean,computed:'__computeMeta(type, key, value)'}},hostAttributes:{hidden:!0},__computeMeta:function(c,d,e){var f=new Polymer.IronMeta({type:c,key:d});return void 0!==e&&e!==f.value?f.value=e:this.value!==f.value&&(this.value=f.value),f},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(c){c&&(this.value=this)},byKey:function(c){return new Polymer.IronMeta({type:this.type,key:c}).value}})})();</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:'_entryAnimationChanged',type:String},exitAnimation:{observer:'_exitAnimationChanged',type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};return this._copyProperties(b,a),b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig){if(this.animationConfig.value&&'function'===typeof this.animationConfig.value)return void this._warn(this._logf('playAnimation','Please put \'animationConfig\' inside of your components \'properties\' object instead of outside of it.'));var d;if(d=a?this.animationConfig[a]:this.animationConfig,Array.isArray(d)||(d=[d]),d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(!g.isClone&&(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];for(var d in this._getAnimationConfigRecursive(a,b,c),b)c.push(b[d]);return c}};</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[];if(0<a.length)for(var c,f,d=0;c=a[d];d++)if(f=document.createElement(c.name),f.isNeonAnimation){var g=null;try{g=f.configure(c),'function'!=typeof g.cancel&&(g=document.timeline.play(g))}catch(h){g=null,console.warn('Couldnt play','(',c.name,').',h)}g&&b.push({neonAnimation:f,config:c,animation:g})}else console.warn(this.is+':',c.name,'not found!');return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if('finished'!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(var b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{},this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)return void this.fire('neon-animation-finish',b,{bubbles:!1});this._active[a]=d;for(var f=0;f<d.length;f++)d[f].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire('neon-animation-finish',b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._animations)this._animations[a].cancel();this._animations={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var a;return a=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width,a},get _fitHeight(){var a;return a=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height,a},get _fitLeft(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().left,a},get _fitTop(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().top,a},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;return a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host),a},get _localeHorizontalAlign(){if(this._isRTL){if('right'===this.horizontalAlign)return'left';if('left'===this.horizontalAlign)return'right'}return this.horizontalAlign},attached:function(){'undefined'===typeof this._isRTL&&(this._isRTL='rtl'==window.getComputedStyle(this).direction),this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&('none'===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||'',left:this.style.left||'',position:this.style.position||''},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||'',maxHeight:this.sizingTarget.style.maxHeight||'',boxSizing:this.sizingTarget.style.boxSizing||''},positionedBy:{vertically:'auto'===a.top?'auto'===a.bottom?null:'bottom':'top',horizontally:'auto'===a.left?'auto'===a.right?null:'right':'left'},sizedBy:{height:'none'!==b.maxHeight,width:'none'!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},resetFit:function(){var a=this._fitInfo||{};for(var b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(var b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=a,this.sizingTarget.scrollTop=b},position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo(),this.style.position='fixed',this.sizingTarget.style.boxSizing='border-box',this.style.left='0px',this.style.top='0px';var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e={width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},f=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,e,b,c),g=f.left+d.left,h=f.top+d.top,j=Math.min(c.right-d.right,g+a.width),k=Math.min(c.bottom-d.bottom,h+a.height);g=Math.max(c.left+d.left,Math.min(g,j-this._fitInfo.sizedBy.minWidth)),h=Math.max(c.top+d.top,Math.min(h,k-this._fitInfo.sizedBy.minHeight)),this.sizingTarget.style.maxWidth=Math.max(j-g,this._fitInfo.sizedBy.minWidth)+'px',this.sizingTarget.style.maxHeight=Math.max(k-h,this._fitInfo.sizedBy.minHeight)+'px',this.style.left=g-a.left+'px',this.style.top=h-a.top+'px'}},constrain:function(){if(!(this.horizontalAlign||this.verticalAlign)){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position='fixed',this.style.top='0px'),a.positionedBy.horizontally||(this.style.position='fixed',this.style.left='0px'),this.sizingTarget.style.boxSizing='border-box';var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,'top','bottom','Height'),a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,'left','right','Width')}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto),h='Width'===e?g.width:g.height,j=b===d,k=j?h-a[d]:a[c],m=f.margin[j?c:d],n='offset'+e,o=this[n]-this.sizingTarget[n];this.sizingTarget.style['max'+e]=h-m-k-o+'px'},center:function(){if(!(this.horizontalAlign||this.verticalAlign)){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!(a.vertically&&a.horizontally)){this.style.position='fixed',a.vertically||(this.style.top='0px'),a.horizontally||(this.style.left='0px');var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);if(!a.vertically){var d=c.top-b.top+(c.height-b.height)/2;this.style.top=d+'px'}if(!a.horizontally){var e=c.left-b.left+(c.width-b.width)/2;this.style.left=e+'px'}}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getCroppedArea:function(a,b,c){var d=Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)),e=Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width));return Math.abs(d)*b.width+Math.abs(e)*b.height},__getPosition:function(a,b,c,d,e){var f=[{verticalAlign:'top',horizontalAlign:'left',top:d.top+this.verticalOffset,left:d.left+this.horizontalOffset},{verticalAlign:'top',horizontalAlign:'right',top:d.top+this.verticalOffset,left:d.right-c.width-this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'left',top:d.bottom-c.height-this.verticalOffset,left:d.left+this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'right',top:d.bottom-c.height-this.verticalOffset,left:d.right-c.width-this.horizontalOffset}];if(this.noOverlap){for(var j,g=0,h=f.length;g<h;g++){for(var k in j={},f[g])j[k]=f[g][k];f.push(j)}f[0].top=f[1].top+=d.height,f[2].top=f[3].top-=d.height,f[4].left=f[6].left+=d.width,f[5].left=f[7].left-=d.width}b='auto'===b?null:b,a='auto'===a?null:a;for(var m,n,g=0;g<f.length;g++){if(n=f[g],!this.dynamicAlign&&!this.noOverlap&&n.verticalAlign===b&&n.horizontalAlign===a){m=n;break}var o=(!b||n.verticalAlign===b)&&(!a||n.horizontalAlign===a);if(this.dynamicAlign||o){m=m||n,n.croppedArea=this.__getCroppedArea(n,c,e);var p=n.croppedArea-m.croppedArea;if((0>p||0===p&&o)&&(m=n),0===m.croppedArea&&o)break}}return m}};</script><dom-module id="iron-overlay-backdrop" assetpath="bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>(function(){'use strict';Polymer({is:'iron-overlay-backdrop',properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:'_openedChanged'}},listeners:{transitionend:'_onTransitionend'},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){if(a)this.prepare();else{var b=window.getComputedStyle(this);('0s'===b.transitionDuration||0==b.opacity)&&this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass('opened',this.opened)}.bind(this)))}})})();</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,Polymer.Gestures.add(document.documentElement,'tap',null),document.addEventListener('tap',this._onCaptureClick.bind(this),!0),document.addEventListener('focus',this._onCaptureFocus.bind(this),!0),document.addEventListener('keydown',this._onCaptureKeyDown.bind(this),!0)},Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement('iron-overlay-backdrop')),this._backdropElement},get deepActiveElement(){for(var a=document.activeElement||document.body;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=this._overlays.length-1,d=this._overlays[c];if(d&&this._shouldBeBehindOverlay(b,d)&&c--,!(a>=c)){var e=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(b)<=e&&this._applyOverlayZ(b,e);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},addOrRemoveOverlay:function(a){a.opened?this.addOverlay(a):this.removeOverlay(a)},addOverlay:function(a){var b=this._overlays.indexOf(a);if(0<=b)return this._bringOverlayAtIndexToFront(b),void this.trackBackdrop();var c=this._overlays.length,d=this._overlays[c-1],e=Math.max(this._getZ(d),this._minimumZ),f=this._getZ(a);if(d&&this._shouldBeBehindOverlay(a,d)){this._applyOverlayZ(d,e),c--;var g=this._overlays[c-1];e=Math.max(this._getZ(g),this._minimumZ)}f<=e&&this._applyOverlayZ(a,e),this._overlays.splice(c,0,a),this.trackBackdrop()},removeOverlay:function(a){var b=this._overlays.indexOf(a);-1===b||(this._overlays.splice(b,1),this.trackBackdrop())},currentOverlay:function(){var a=this._overlays.length-1;return this._overlays[a]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,a)},focusOverlay:function(){var a=this.currentOverlay();a&&a._applyFocus()},trackBackdrop:function(){var a=this._overlayWithBackdrop();(a||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(a)-1,this.backdropElement.opened=!!a,this.backdropElement.prepare())},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var a=0;a<this._overlays.length;a++)if(this._overlays[a].withBackdrop)return this._overlays[a]},_getZ:function(a){var b=this._minimumZ;if(a){var c=+(a.style.zIndex||window.getComputedStyle(a).zIndex);c===c&&(b=c)}return b},_setZ:function(a,b){a.style.zIndex=b},_applyOverlayZ:function(a,b){this._setZ(a,b+2)},_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},_onCaptureClick:function(a){var b=this.currentOverlay();b&&this._overlayInPath(Polymer.dom(a).path)!==b&&b._onCaptureClick(a)},_onCaptureFocus:function(a){var b=this.currentOverlay();b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=this.currentOverlay();b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'esc')?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'tab')&&b._onCaptureTab(a))},_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}},Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){'use strict';var c=Element.prototype,d=c.matches||c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(e){var f=[],g=this._collectTabbableNodes(e,f);return g?this._sortByTabIndex(f):f},isFocusable:function(e){return d.call(e,'input, select, textarea, button, object')?d.call(e,':not([disabled])'):d.call(e,'a[href], area[href], iframe, [tabindex], [contentEditable]')},isTabbable:function(e){return this.isFocusable(e)&&d.call(e,':not([tabindex="-1"])')&&this._isVisible(e)},_normalizedTabIndex:function(e){if(this.isFocusable(e)){var f=e.getAttribute('tabindex')||0;return+f}return-1},_collectTabbableNodes:function(e,f){if(e.nodeType!==Node.ELEMENT_NODE||!this._isVisible(e))return!1;var g=e,h=this._normalizedTabIndex(g),j=0<h;0<=h&&f.push(g);var k='content'===g.localName||'slot'===g.localName?Polymer.dom(g).getDistributedNodes():Polymer.dom(g.root||g).children;for(var l=0;l<k.length;l++)j=this._collectTabbableNodes(k[l],f)||j;return j},_isVisible:function(e){var f=e.style;return'hidden'!==f.visibility&&'none'!==f.display&&(f=window.getComputedStyle(e),'hidden'!==f.visibility&&'none'!==f.display)},_sortByTabIndex:function(e){var f=e.length;if(2>f)return e;var g=Math.ceil(f/2),h=this._sortByTabIndex(e.slice(0,g)),j=this._sortByTabIndex(e.slice(g));return this._mergeSortByTabIndex(h,j)},_mergeSortByTabIndex:function(e,f){for(var g=[];0<e.length&&0<f.length;)this._hasLowerTabOrder(e[0],f[0])?g.push(f.shift()):g.push(e.shift());return g.concat(e,f)},_hasLowerTabOrder:function(e,f){var g=Math.max(e.tabIndex,0),h=Math.max(f.tabIndex,0);return 0===g||0===h?h>g:g>h}}})();</script><script>(function(){'use strict';Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:'_openedChanged',type:Boolean,value:!1,notify:!0},canceled:{observer:'_canceledChanged',readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:'_withBackdropChanged',type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},alwaysOnTop:{type:Boolean},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":'_onIronResize'},get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector('[autofocus]')||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__raf=null,this.__restoreFocusNode=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer),this._observer=null,this.__raf&&(window.cancelAnimationFrame(this.__raf),this.__raf=null),this._manager.removeOverlay(this)},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(a){var b=this.fire('iron-overlay-canceled',a,{cancelable:!0});b.defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline='none',this.style.display='none')},_openedChanged:function(a){a?this.removeAttribute('aria-hidden'):this.setAttribute('aria-hidden','true');this.isAttached&&(this.__isAnimating=!0,this.__onNextAnimationFrame(this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute('tabindex')?(this.setAttribute('tabindex','-1'),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute('tabindex'),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-opened')},_finishRenderClosed:function(){this.style.display='none',this.style.zIndex='',this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-closed',this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition='none',this.style.transform=this.style.webkitTransform='none',this.style.display=''},_finishPositioning:function(){this.style.display='none',this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition='',this.style.transform=this.style.webkitTransform='',this.style.display='',this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur(),this._focusedChild=null,this.restoreFocusOnClose&&this.__restoreFocusNode&&this.__restoreFocusNode.focus(),this.__restoreFocusNode=null;var a=this._manager.currentOverlay();a&&this!==a&&a._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode,d=b?this.__lastFocusableNode:this.__firstFocusableNode,e=!1;if(c===d)e=!0;else{var f=this._manager.deepActiveElement;e=f===c||f===this}e&&(a.preventDefault(),this._focusedChild=d,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__onNextAnimationFrame(this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0],this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__onNextAnimationFrame:function(a){this.__raf&&window.cancelAnimationFrame(this.__raf);var b=this;this.__raf=window.requestAnimationFrame(function(){b.__raf=null,a.call(b)})}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();</script><script>(function(){'use strict';Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:'dialog',tabindex:'-1'},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:['_modalChanged(modal, __readied)'],listeners:{tap:'_onDialogClick'},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{},this.closingReason.confirmed=a},_onDialogClick:function(a){for(var e,b=Polymer.dom(a).path,c=0,d=b.indexOf(this);c<d;c++)if(e=b[c],e.hasAttribute&&(e.hasAttribute('dialog-dismiss')||e.hasAttribute('dialog-confirm'))){this._updateClosingReasonConfirmed(e.hasAttribute('dialog-confirm')),this.close(),a.stopPropagation();break}}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0;}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color);}</style></custom-style><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><dom-module id="paper-dialog-shared-styles" assetpath="bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>(function(){'use strict';Polymer({is:'paper-dialog',behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},_renderOpened:function(){this.cancelAnimation(),this.playAnimation('entry')},_renderClosed:function(){this.cancelAnimation(),this.playAnimation('exit')},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})})();</script><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:Polymer.Element?null:function(){this.fire('iron-form-element-register')},detached:Polymer.Element?null:function(){this._parentForm&&this._parentForm.fire('iron-form-element-unregister',{target:this})}};</script><dom-module id="iron-a11y-announcer" assetpath="bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){'use strict';Polymer.IronA11yAnnouncer=Polymer({is:'iron-a11y-announcer',properties:{mode:{type:String,value:'polite'},_text:{type:String,value:''}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener('iron-announce',this._onIronAnnounce.bind(this))},announce:function(a){this._text='',this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement('iron-a11y-announcer')),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><script>Polymer.IronValidatableBehaviorMeta=null,Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:'_invalidChanged'}},registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:'validator'})},_invalidChanged:function(){this.invalid?this.setAttribute('aria-invalid','true'):this.removeAttribute('aria-invalid')},get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(a){return this.invalid=void 0===a&&void 0!==this.value?!this._getValidity(this.value):!this._getValidity(a),!this.invalid},_getValidity:function(a){return!this.hasValidator()||this._validator.validate(a)}};</script><dom-module id="iron-input" assetpath="bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:'iron-input',behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String},value:{computed:'_computeValue(bindValue)'},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1}},observers:['_bindValueChanged(bindValue, _inputElement)'],listeners:{input:'_onInput',keypress:'_onKeypress'},created:function(){Polymer.IronA11yAnnouncer.requestAvailability(),this._previousValidInput='',this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire('iron-input-ready')},get _patternRegExp(){var a;if(this.allowedPattern)a=new RegExp(this.allowedPattern);else switch(this.type){case'number':a=/[0-9.,e-]/;}return a},_bindValueChanged:function(a,b){b&&(a===void 0?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire('bind-value-changed',{value:a}))},_onInput:function(){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter('Invalid string of characters not entered.'),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode,c=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!b&&!(0==a.charCode&&c)},_onKeypress:function(a){if(this.allowedPattern||'number'===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter('Invalid character '+c+' not entered.'))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.inputElement.value.length;b++)if(!a.test(this.inputElement.value[b]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();return a&&(this.required&&''===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue))),this.invalid=!a,this.fire('iron-input-validate'),a},_announceInvalidCharacter:function(a){this.fire('iron-announce',{text:a})},_computeValue:function(a){return a}});</script></dom-module><script>Polymer.PaperInputHelper={},Polymer.PaperInputHelper.NextLabelID=1,Polymer.PaperInputHelper.NextAddonID=1,Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,observer:'_autofocusChanged'},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:''},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:'none'},autocorrect:{type:String,value:'off'},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:''},_ariaLabelledBy:{type:String,value:''}},listeners:{"addon-attached":'_onAddonAttached'},keyBindings:{"shift+tab:keydown":'_onShiftTabDown'},hostAttributes:{tabindex:0},get inputElement(){return this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=['date','datetime','datetime-local','month','time','week','file']},attached:function(){this._updateAriaLabelledBy(),!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a=a?a+' '+b:b,a},_onAddonAttached:function(a){var b=Polymer.dom(a).rootTarget;if(b.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b.id);else{var c='paper-input-add-on-'+Polymer.PaperInputHelper.NextAddonID++;b.id=c,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,c)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var b=this.getAttribute('tabindex');this._shiftTabPressed=!0,this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',b),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a,this.inputElement.selectionStart=b,this.inputElement.selectionEnd=b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector('label');if(!a)return void(this._ariaLabelledBy='');var b;a.id?b=a.id:(b='paper-input-label-'+Polymer.PaperInputHelper.NextLabelID++,a.id=b),this._ariaLabelledBy=b},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement,b=a instanceof HTMLElement,c=b&&a!==document.body&&a!==document.documentElement;c||this._focusableElement.focus()}}},Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];</script><script>Polymer.PaperInputAddonBehavior={attached:function(){Polymer.dom.flush(),this.fire('addon-attached')},update:function(){}};</script><dom-module id="paper-input-char-counter" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none !important;}:host-context([dir="rtl"]){float:left;}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:'paper-input-char-counter',behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:'0'}},update:function(a){if(a.inputElement){a.value=a.value||'';var b=a.value.toString().length.toString();a.inputElement.hasAttribute('maxlength')&&(b+='/'+a.inputElement.getAttribute('maxlength')),this._charCounterStr=b}}});</script><dom-module id="paper-input-container" assetpath="bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}[hidden]{display:none !important;}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative;}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color, var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color, var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;}.input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label){position:absolute;top:0;right:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color, var(--secondary-text-color));-webkit-transition:-webkit-transform 0.25s, width 0.25s;transition:transform 0.25s, width 0.25s;-webkit-transform-origin:left top;transform-origin:left top;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label){-webkit-transform:translateY(-75%) scale(0.75);transform:translateY(-75%) scale(0.75);width:133%;@apply --paper-input-container-label-floating;}:host-context([dir="rtl"]) .input-content.label-is-floating ::slotted(label),
      :host-context([dir="rtl"]) .input-content.label-is-floating ::slotted(.paper-input-label){width:100%;-webkit-transform-origin:right top;transform-origin:right top;}.input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--error-color));}.input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label){visibility:hidden;}.input-content ::slotted(iron-input){@apply --paper-input-container-shared-input-style;}.input-content ::slotted(input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color, var(--error-color));}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color, var(--primary-color));}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:'paper-input-container',properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:'bind-value'},autoValidate:{type:Boolean,value:!1},invalid:{observer:'_invalidChanged',type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:'input,iron-input,textarea,.paper-input-input'},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":'_onAddonAttached',"iron-input-validate":'_onIronInputValidate'},get _valueChangedEvent(){return this.attrForValue+'-changed'},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]),this.addEventListener('focus',this._boundOnFocus,!0),this.addEventListener('blur',this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener('input',this._onInput),this._inputElementValue&&''!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);var b=a.target;-1===this._addons.indexOf(b)&&(this._addons.push(b),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){var b=a.target;void 0===b.value||this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=this._inputElementValue;this._inputHasContent=b||0===b||'number'===a.type&&!a.checkValidity(),this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){if(this.autoValidate&&a){var b;b=a.validate?a.validate(this._inputElementValue):a.checkValidity(),this.invalid=!b}this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f='input-content';if(!a){var g=this.querySelector('label');b||e?(f+=' label-is-floating',this.$.labelAndInputContainer.style.position='static',d?f+=' is-invalid':c&&(f+=' label-is-highlighted')):(g&&(this.$.labelAndInputContainer.style.position='relative'),d&&(f+=' is-invalid'))}else e&&(f+=' label-is-hidden'),d&&(f+=' is-invalid');return c&&(f+=' focused'),f},_computeUnderlineClass:function(a,b){var c='underline';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c},_computeAddOnContentClass:function(a,b){var c='add-on-content';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c}});</script><dom-module id="paper-input-error" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color, var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0;}:host([invalid]){visibility:visible;}</style><slot></slot></template></dom-module><script>Polymer({is:'paper-input-error',behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});</script><dom-module id="paper-input" assetpath="bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{position:relative;outline:none;box-shadow:none;padding:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;min-width:0;@apply --paper-font-subhead;@apply --paper-input-container-input;}input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for="input" slot="label">[[label]]</label><span id="template-placeholder"></span><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input" id="input" slot="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}" id="input" slot="input" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input id="nativeInput" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:'paper-input',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],beforeRegister:function(){var a=document.createElement('iron-input'),b='function'==typeof a._initSlottedInput?'v1':'v0',c=Polymer.DomModule.import('paper-input','template'),d=Polymer.DomModule.import('paper-input','template#'+b),e=c.content.querySelector('#template-placeholder');e&&e.parentNode.replaceChild(d.content,e)},get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":'_onIronInputReady'},_onIronInputReady:function(){this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),!this.inputElement.bindValue||this.$.container._handleValueAndAutoValidate(this.inputElement)}});</script><script>!function(){function b(){this._events={},this._conf&&c.call(this,this._conf)}function c(j){j&&(this._conf=j,j.delimiter&&(this.delimiter=j.delimiter),j.maxListeners&&(this._events.maxListeners=j.maxListeners),j.wildcard&&(this.wildcard=j.wildcard),j.newListener&&(this.newListener=j.newListener),this.wildcard&&(this.listenerTree={}))}function d(j){this._events={},this.newListener=!1,c.call(this,j)}function e(j,k,o,p){if(!o)return[];var r,s,t,u,v,w,x,q=[],y=k.length,z=k[p],A=k[p+1];if(p===y&&o._listeners){if('function'===typeof o._listeners)return j&&j.push(o._listeners),[o];for(r=0,s=o._listeners.length;r<s;r++)j&&j.push(o._listeners[r]);return[o]}if('*'===z||'**'===z||o[z]){if('*'===z){for(t in o)'_listeners'!==t&&o.hasOwnProperty(t)&&(q=q.concat(e(j,k,o[t],p+1)));return q}if('**'===z){for(t in x=p+1===y||p+2===y&&'*'===A,x&&o._listeners&&(q=q.concat(e(j,k,o,y))),o)'_listeners'!==t&&o.hasOwnProperty(t)&&('*'===t||'**'===t?(o[t]._listeners&&!x&&(q=q.concat(e(j,k,o[t],y))),q=q.concat(e(j,k,o[t],p))):t===A?q=q.concat(e(j,k,o[t],p+2)):q=q.concat(e(j,k,o[t],p)));return q}q=q.concat(e(j,k,o[z],p+1))}if(u=o['*'],u&&e(j,k,u,p+1),v=o['**'],v)if(p<y)for(t in v._listeners&&e(j,k,v,y),v)'_listeners'!==t&&v.hasOwnProperty(t)&&(t===A?e(j,k,v[t],p+2):t===z?e(j,k,v[t],p+1):(w={},w[t]=v[t],e(j,k,{"**":w},p+1)));else v._listeners?e(j,k,v,y):v['*']&&v['*']._listeners&&e(j,k,v['*'],y);return q}function f(j,k){j='string'===typeof j?j.split(this.delimiter):j.slice();for(var o=0,p=j.length;o+1<p;o++)if('**'===j[o]&&'**'===j[o+1])return;for(var q=this.listenerTree,r=j.shift();r;){if(q[r]||(q[r]={}),q=q[r],0===j.length){if(!q._listeners)q._listeners=k;else if('function'===typeof q._listeners)q._listeners=[q._listeners,k];else if(g(q._listeners)&&(q._listeners.push(k),!q._listeners.warned)){var s=h;'undefined'!==typeof this._events.maxListeners&&(s=this._events.maxListeners),0<s&&q._listeners.length>s&&(q._listeners.warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',q._listeners.length),console.trace())}return!0}r=j.shift()}return!0}var g=Array.isArray?Array.isArray:function(k){return'[object Array]'===Object.prototype.toString.call(k)},h=10;d.prototype.delimiter='.',d.prototype.setMaxListeners=function(j){this._events||b.call(this),this._events.maxListeners=j,this._conf||(this._conf={}),this._conf.maxListeners=j},d.prototype.event='',d.prototype.once=function(j,k){return this.many(j,1,k),this},d.prototype.many=function(j,k,o){function p(){0===--k&&q.off(j,p),o.apply(this,arguments)}var q=this;if('function'!==typeof o)throw new Error('many only accepts instances of Function');return p._origin=o,this.on(j,p),q},d.prototype.emit=function(){this._events||b.call(this);var j=arguments[0];if('newListener'===j&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];for(p=0,k=this._all.length;p<k;p++)this.event=j,this._all[p].apply(this,o)}if('error'===j&&!this._all&&!this._events.error&&!(this.wildcard&&this.listenerTree.error)){if(arguments[1]instanceof Error)throw arguments[1];else throw new Error('Uncaught, unspecified \'error\' event.');return!1}var q;if(this.wildcard){q=[];var r='string'===typeof j?j.split(this.delimiter):j.slice();e.call(this,q,r,this.listenerTree,0)}else q=this._events[j];if('function'===typeof q){if(this.event=j,1===arguments.length)q.call(this);else if(1<arguments.length)switch(arguments.length){case 2:q.call(this,arguments[1]);break;case 3:q.call(this,arguments[1],arguments[2]);break;default:for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];q.apply(this,o);}return!0}if(q){for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];for(var s=q.slice(),p=0,k=s.length;p<k;p++)this.event=j,s[p].apply(this,o);return 0<s.length||!!this._all}return!!this._all},d.prototype.on=function(j,k){if('function'===typeof j)return this.onAny(j),this;if('function'!==typeof k)throw new Error('on only accepts instances of Function');if(this._events||b.call(this),this.emit('newListener',j,k),this.wildcard)return f.call(this,j,k),this;if(!this._events[j])this._events[j]=k;else if('function'===typeof this._events[j])this._events[j]=[this._events[j],k];else if(g(this._events[j])&&(this._events[j].push(k),!this._events[j].warned)){var o=h;'undefined'!==typeof this._events.maxListeners&&(o=this._events.maxListeners),0<o&&this._events[j].length>o&&(this._events[j].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[j].length),console.trace())}return this},d.prototype.onAny=function(j){if('function'!==typeof j)throw new Error('onAny only accepts instances of Function');return this._all||(this._all=[]),this._all.push(j),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(j,k){if('function'!==typeof k)throw new Error('removeListener only takes instances of Function');var o,p=[];if(this.wildcard){var q='string'===typeof j?j.split(this.delimiter):j.slice();p=e.call(this,null,q,this.listenerTree,0)}else{if(!this._events[j])return this;o=this._events[j],p.push({_listeners:o})}for(var s,r=0;r<p.length;r++){if(s=p[r],o=s._listeners,g(o)){for(var t=-1,u=0,v=o.length;u<v;u++)if(o[u]===k||o[u].listener&&o[u].listener===k||o[u]._origin&&o[u]._origin===k){t=u;break}if(0>t)continue;return this.wildcard?s._listeners.splice(t,1):this._events[j].splice(t,1),0===o.length&&(this.wildcard?delete s._listeners:delete this._events[j]),this}(o===k||o.listener&&o.listener===k||o._origin&&o._origin===k)&&(this.wildcard?delete s._listeners:delete this._events[j])}return this},d.prototype.offAny=function(j){var p,k=0,o=0;if(j&&this._all&&0<this._all.length){for(p=this._all,k=0,o=p.length;k<o;k++)if(j===p[k])return p.splice(k,1),this;}else this._all=[];return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(j){if(0===arguments.length)return this._events&&b.call(this),this;if(this.wildcard)for(var q,k='string'===typeof j?j.split(this.delimiter):j.slice(),o=e.call(this,null,k,this.listenerTree,0),p=0;p<o.length;p++)q=o[p],q._listeners=null;else{if(!this._events[j])return this;this._events[j]=null}return this},d.prototype.listeners=function(j){if(this.wildcard){var k=[],o='string'===typeof j?j.split(this.delimiter):j.slice();return e.call(this,k,o,this.listenerTree,0),k}return this._events||b.call(this),this._events[j]||(this._events[j]=[]),g(this._events[j])||(this._events[j]=[this._events[j]]),this._events[j]},d.prototype.listenersAny=function(){return this._all?this._all:[]},'function'===typeof define&&define.amd?define(function(){return d}):'object'===typeof exports?exports.EventEmitter2=d:window.EventEmitter2=d}();</script><script>(function c(p,m,d){function g(_,T){if(!m[_]){if(!p[_]){var S="function"==typeof require&&require;if(!T&&S)return S(_,!0);if(b)return b(_,!0);var U=new Error("Cannot find module '"+_+"'");throw U.code="MODULE_NOT_FOUND",U}var C=m[_]={exports:{}};p[_][0].call(C.exports,function(N){var R=p[_][1][N];return g(R?R:N)},C,C.exports,c,p,m,d)}return m[_].exports}for(var b="function"==typeof require&&require,h=0;h<d.length;h++)g(d[h]);return g})({1:[function(c,p){"use strict";function d(h){if(null===h||h===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}var g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;p.exports=Object.assign||function(h){for(var T,U,S=d(h),C=1;C<arguments.length;C++){for(var N in T=Object(arguments[C]),T)g.call(T,N)&&(S[N]=T[N]);if(Object.getOwnPropertySymbols){U=Object.getOwnPropertySymbols(T);for(var R=0;R<U.length;R++)b.call(T,U[R])&&(S[U[R]]=T[U[R]])}}return S}},{}],2:[function(c,p){var d=this.ROSLIB||{REVISION:"0.18.0"},g=c("object-assign");g(d,c("./core")),g(d,c("./actionlib")),g(d,c("./math")),g(d,c("./tf")),g(d,c("./urdf")),p.exports=d},{"./actionlib":7,"./core":16,"./math":21,"./tf":24,"./urdf":36,"object-assign":1}],3:[function(c){(function(d){d.ROSLIB=c("./RosLib")}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{"./RosLib":2}],4:[function(c,p){function d(_){var T=this;_=_||{},this.ros=_.ros,this.serverName=_.serverName,this.actionName=_.actionName,this.timeout=_.timeout,this.omitFeedback=_.omitFeedback,this.omitStatus=_.omitStatus,this.omitResult=_.omitResult,this.goals={};var S=!1,U=new g({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),C=new g({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),N=new g({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});this.goalTopic=new g({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new g({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||C.subscribe(function(R){S=!0,R.status_list.forEach(function(M){var G=T.goals[M.goal_id.id];G&&G.emit("status",M)})}),this.omitFeedback||U.subscribe(function(R){var M=T.goals[R.status.goal_id.id];M&&(M.emit("status",R.status),M.emit("feedback",R.feedback))}),this.omitResult||N.subscribe(function(R){var M=T.goals[R.status.goal_id.id];M&&(M.emit("status",R.status),M.emit("result",R.result))}),this.timeout&&setTimeout(function(){S||T.emit("timeout")},this.timeout)}var g=c("../core/Topic"),b=c("../core/Message"),h=c("eventemitter2").EventEmitter2;d.prototype.__proto__=h.prototype,d.prototype.cancel=function(){var _=new b;this.cancelTopic.publish(_)},p.exports=d},{"../core/Message":8,"../core/Topic":15,eventemitter2:37}],5:[function(c,p){function d(h){var _=this;this.actionClient=h.actionClient,this.goalMessage=h.goalMessage,this.isFinished=!1;var T=new Date;this.goalID="goal_"+Math.random()+"_"+T.getTime(),this.goalMessage=new g({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(S){_.status=S}),this.on("result",function(S){_.isFinished=!0,_.result=S}),this.on("feedback",function(S){_.feedback=S}),this.actionClient.goals[this.goalID]=this}var g=c("../core/Message"),b=c("eventemitter2").EventEmitter2;d.prototype.__proto__=b.prototype,d.prototype.send=function(h){var _=this;_.actionClient.goalTopic.publish(_.goalMessage),h&&setTimeout(function(){_.isFinished||_.emit("timeout")},h)},d.prototype.cancel=function(){var h=new g({id:this.goalID});this.actionClient.cancelTopic.publish(h)},p.exports=d},{"../core/Message":8,eventemitter2:37}],6:[function(c,p){function d(_){var T=this;_=_||{},this.ros=_.ros,this.serverName=_.serverName,this.actionName=_.actionName,this.feedbackPublisher=new g({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var S=new g({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});S.advertise(),this.resultPublisher=new g({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var U=new g({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),C=new g({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new b({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,U.subscribe(function(M){T.currentGoal?(T.nextGoal=M,T.emit("cancel")):(T.statusMessage.status_list=[{goal_id:M.goal_id,status:1}],T.currentGoal=M,T.emit("goal",M.goal))});var N=function(M,G){return!(M.secs>G.secs)&&(!!(M.secs<G.secs)||!!(M.nsecs<G.nsecs))};C.subscribe(function(M){0===M.stamp.secs&&0===M.stamp.secs&&""===M.id?(T.nextGoal=null,T.currentGoal&&T.emit("cancel")):(T.currentGoal&&M.id===T.currentGoal.goal_id.id?T.emit("cancel"):T.nextGoal&&M.id===T.nextGoal.goal_id.id&&(T.nextGoal=null),T.nextGoal&&N(T.nextGoal.goal_id.stamp,M.stamp)&&(T.nextGoal=null),T.currentGoal&&N(T.currentGoal.goal_id.stamp,M.stamp)&&T.emit("cancel"))});setInterval(function(){var M=new Date,G=Math.floor(M.getTime()/1e3),A=Math.round(1e9*(M.getTime()/1e3-G));T.statusMessage.header.stamp.secs=G,T.statusMessage.header.stamp.nsecs=A,S.publish(T.statusMessage)},500)}var g=c("../core/Topic"),b=c("../core/Message"),h=c("eventemitter2").EventEmitter2;d.prototype.__proto__=h.prototype,d.prototype.setSucceeded=function(_){var T=new b({status:{goal_id:this.currentGoal.goal_id,status:3},result:_});this.resultPublisher.publish(T),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},d.prototype.sendFeedback=function(_){var T=new b({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:_});this.feedbackPublisher.publish(T)},d.prototype.setPreempted=function(){this.statusMessage.status_list=[];var _=new b({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(_),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},p.exports=d},{"../core/Message":8,"../core/Topic":15,eventemitter2:37}],7:[function(c,p){var d=c("../core/Ros"),g=c("../mixin"),b=p.exports={ActionClient:c("./ActionClient"),Goal:c("./Goal"),SimpleActionServer:c("./SimpleActionServer")};g(d,["ActionClient","SimpleActionServer"],b)},{"../core/Ros":10,"../mixin":22,"./ActionClient":4,"./Goal":5,"./SimpleActionServer":6}],8:[function(c,p){var g=c("object-assign");p.exports=function(b){g(this,b)}},{"object-assign":1}],9:[function(c,p){function d(h){h=h||{},this.ros=h.ros,this.name=h.name}var g=c("./Service"),b=c("./ServiceRequest");d.prototype.get=function(h){var _=new g({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),T=new b({name:this.name});_.callService(T,function(S){var U=JSON.parse(S.value);h(U)})},d.prototype.set=function(h,_){var T=new g({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),S=new b({name:this.name,value:JSON.stringify(h)});T.callService(S,_)},d.prototype.delete=function(h){var _=new g({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),T=new b({name:this.name});_.callService(T,h)},p.exports=d},{"./Service":11,"./ServiceRequest":12}],10:[function(c,p){function d(U){U=U||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.groovyCompatibility=!("undefined"!==typeof U.groovyCompatibility)||U.groovyCompatibility,this.setMaxListeners(0),U.url&&this.connect(U.url)}var g=c("ws"),b=c("./SocketAdapter.js"),h=c("./Service"),_=c("./ServiceRequest"),T=c("object-assign"),S=c("eventemitter2").EventEmitter2;d.prototype.__proto__=S.prototype,d.prototype.connect=function(U){this.socket=T(new g(U),b(this))},d.prototype.close=function(){this.socket&&this.socket.close()},d.prototype.authenticate=function(U,C,N,R,M,G,A){this.callOnConnection({op:"auth",mac:U,client:C,dest:N,rand:R,t:M,level:G,end:A})},d.prototype.callOnConnection=function(U){var C=this,N=JSON.stringify(U);this.isConnected?C.socket.send(N):C.once("connection",function(){C.socket.send(N)})},d.prototype.getTopics=function(U,C){var N=new h({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),R=new _;"function"===typeof C?N.callService(R,function(M){U(M.topics)},function(M){C(M)}):N.callService(R,function(M){U(M.topics)})},d.prototype.getTopicsForType=function(U,C,N){var R=new h({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),M=new _({type:U});"function"===typeof N?R.callService(M,function(G){C(G.topics)},function(G){N(G)}):R.callService(M,function(G){C(G.topics)})},d.prototype.getServices=function(U,C){var N=new h({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),R=new _;"function"===typeof C?N.callService(R,function(M){U(M.services)},function(M){C(M)}):N.callService(R,function(M){U(M.services)})},d.prototype.getServicesForType=function(U,C,N){var R=new h({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),M=new _({type:U});"function"===typeof N?R.callService(M,function(G){C(G.services)},function(G){N(G)}):R.callService(M,function(G){C(G.services)})},d.prototype.getNodes=function(U,C){var N=new h({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),R=new _;"function"===typeof C?N.callService(R,function(M){U(M.nodes)},function(M){C(M)}):N.callService(R,function(M){U(M.nodes)})},d.prototype.getParams=function(U,C){var N=new h({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),R=new _;"function"===typeof C?N.callService(R,function(M){U(M.names)},function(M){C(M)}):N.callService(R,function(M){U(M.names)})},d.prototype.getTopicType=function(U,C,N){var R=new h({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),M=new _({topic:U});"function"===typeof N?R.callService(M,function(G){C(G.type)},function(G){N(G)}):R.callService(M,function(G){C(G.type)})},d.prototype.getServiceType=function(U,C,N){var R=new h({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),M=new _({service:U});"function"===typeof N?R.callService(M,function(G){C(G.type)},function(G){N(G)}):R.callService(M,function(G){C(G.type)})},d.prototype.getMessageDetails=function(U,C,N){var R=new h({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),M=new _({type:U});"function"===typeof N?R.callService(M,function(G){C(G.typedefs)},function(G){N(G)}):R.callService(M,function(G){C(G.typedefs)})},d.prototype.decodeTypeDefs=function(U){var C=this,N=function(R,M){for(var G={},A=0;A<R.fieldnames.length;A++){var k=R.fieldarraylen[A],I=R.fieldnames[A],E=R.fieldtypes[A];if(-1===E.indexOf("/"))G[I]=-1===k?E:[E];else{for(var D=!1,F=0;F<M.length;F++)if(M[F].type.toString()===E.toString()){D=M[F];break}if(D){var O=N(D,M);G[I]=-1===k?O:[O]}else C.emit("error","Cannot find "+E+" in decodeTypeDefs")}}return G};return N(U[0],U)},p.exports=d},{"./Service":11,"./ServiceRequest":12,"./SocketAdapter.js":14,eventemitter2:37,"object-assign":1,ws:38}],11:[function(c,p){function d(_){_=_||{},this.ros=_.ros,this.name=_.name,this.serviceType=_.serviceType,this.isAdvertised=!1,this._serviceCallback=null}var g=c("./ServiceResponse"),b=c("./ServiceRequest"),h=c("eventemitter2").EventEmitter2;d.prototype.__proto__=h.prototype,d.prototype.callService=function(_,T,S){if(!this.isAdvertised){var U="call_service:"+this.name+":"+ ++this.ros.idCounter;(T||S)&&this.ros.once(U,function(N){void 0!==N.result&&!1===N.result?"function"===typeof S&&S(N.values):"function"===typeof T&&T(new g(N.values))});var C={op:"call_service",id:U,service:this.name,args:_};this.ros.callOnConnection(C)}},d.prototype.advertise=function(_){this.isAdvertised||"function"!==typeof _||(this._serviceCallback=_,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},d.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},d.prototype._serviceResponse=function(_){var T={},S=this._serviceCallback(_.args,T),U={op:"service_response",service:this.name,values:new g(T),result:S};_.id&&(U.id=_.id),this.ros.callOnConnection(U)},p.exports=d},{"./ServiceRequest":12,"./ServiceResponse":13,eventemitter2:37}],12:[function(c,p){var g=c("object-assign");p.exports=function(b){g(this,b)}},{"object-assign":1}],13:[function(c,p){var g=c("object-assign");p.exports=function(b){g(this,b)}},{"object-assign":1}],14:[function(c,p){"use strict";var g=c("../util/decompressPng"),b=c("ws"),h=null;"undefined"!==typeof bson&&(h=bson().BSON),p.exports=function(_){function T(C){"publish"===C.op?_.emit(C.topic,C.msg):"service_response"===C.op?_.emit(C.id,C):"call_service"===C.op&&_.emit(C.service,C)}function S(C,N){"png"===C.op?g(C.data,N):N(C)}function U(C,N){if(!h)throw"Cannot process BSON encoded message without BSON header.";var R=new FileReader;R.onload=function(){var M=new Uint8Array(this.result),G=h.deserialize(M);N(G)},R.readAsArrayBuffer(C)}return{onopen:function(N){_.isConnected=!0,_.emit("connection",N)},onclose:function(N){_.isConnected=!1,_.emit("close",N)},onerror:function(N){_.emit("error",N)},onmessage:function(N){if("undefined"!==typeof Blob&&N.data instanceof Blob)U(N.data,function(M){S(M,T)});else{var R=JSON.parse("string"===typeof N?N:N.data);S(R,T)}}}}},{"../util/decompressPng":40,ws:38}],15:[function(c,p){function d(h){h=h||{},this.ros=h.ros,this.name=h.name,this.messageType=h.messageType,this.isAdvertised=!1,this.compression=h.compression||"none",this.throttle_rate=h.throttle_rate||0,this.latch=h.latch||!1,this.queue_size=h.queue_size||100,this.queue_length=h.queue_length||0,this.compression&&"png"!==this.compression&&"none"!==this.compression&&this.emit("warning",this.compression+" compression is not supported. No compression will be used."),0>this.throttle_rate&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var _=this;this._messageCallback=function(T){_.emit("message",new b(T))}}var g=c("eventemitter2").EventEmitter2,b=c("./Message");d.prototype.__proto__=g.prototype,d.prototype.subscribe=function(h){"function"===typeof h&&this.on("message",h);this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.ros.callOnConnection({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},d.prototype.unsubscribe=function(h){h&&(this.off("message",h),this.listeners("message").length)||!this.subscribeId||(this.ros.off(this.name,this._messageCallback),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},d.prototype.advertise=function(){this.isAdvertised||(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.ros.callOnConnection({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0)},d.prototype.unadvertise=function(){this.isAdvertised&&(this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},d.prototype.publish=function(h){this.isAdvertised||this.advertise(),this.ros.idCounter++;var _={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:h,latch:this.latch};this.ros.callOnConnection(_)},p.exports=d},{"./Message":8,eventemitter2:37}],16:[function(c,p){var d=c("../mixin"),g=p.exports={Ros:c("./Ros"),Topic:c("./Topic"),Message:c("./Message"),Param:c("./Param"),Service:c("./Service"),ServiceRequest:c("./ServiceRequest"),ServiceResponse:c("./ServiceResponse")};d(g.Ros,["Param","Service","Topic"],g)},{"../mixin":22,"./Message":8,"./Param":9,"./Ros":10,"./Service":11,"./ServiceRequest":12,"./ServiceResponse":13,"./Topic":15}],17:[function(c,p){function d(h){h=h||{},this.position=new g(h.position),this.orientation=new b(h.orientation)}var g=c("./Vector3"),b=c("./Quaternion");d.prototype.applyTransform=function(h){this.position.multiplyQuaternion(h.rotation),this.position.add(h.translation);var _=h.rotation.clone();_.multiply(this.orientation),this.orientation=_},d.prototype.clone=function(){return new d(this)},p.exports=d},{"./Quaternion":18,"./Vector3":20}],18:[function(c,p){function d(g){g=g||{},this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w="number"===typeof g.w?g.w:1}d.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},d.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},d.prototype.normalize=function(){var g=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===g?(this.x=0,this.y=0,this.z=0,this.w=1):(g=1/g,this.x*=g,this.y*=g,this.z*=g,this.w*=g)},d.prototype.invert=function(){this.conjugate(),this.normalize()},d.prototype.multiply=function(g){var b=this.x*g.w+this.y*g.z-this.z*g.y+this.w*g.x,h=-this.x*g.z+this.y*g.w+this.z*g.x+this.w*g.y,_=this.x*g.y-this.y*g.x+this.z*g.w+this.w*g.z,T=-this.x*g.x-this.y*g.y-this.z*g.z+this.w*g.w;this.x=b,this.y=h,this.z=_,this.w=T},d.prototype.clone=function(){return new d(this)},p.exports=d},{}],19:[function(c,p){function d(h){h=h||{},this.translation=new g(h.translation),this.rotation=new b(h.rotation)}var g=c("./Vector3"),b=c("./Quaternion");d.prototype.clone=function(){return new d(this)},p.exports=d},{"./Quaternion":18,"./Vector3":20}],20:[function(c,p){function d(g){g=g||{},this.x=g.x||0,this.y=g.y||0,this.z=g.z||0}d.prototype.add=function(g){this.x+=g.x,this.y+=g.y,this.z+=g.z},d.prototype.subtract=function(g){this.x-=g.x,this.y-=g.y,this.z-=g.z},d.prototype.multiplyQuaternion=function(g){var b=g.w*this.x+g.y*this.z-g.z*this.y,h=g.w*this.y+g.z*this.x-g.x*this.z,_=g.w*this.z+g.x*this.y-g.y*this.x,T=-g.x*this.x-g.y*this.y-g.z*this.z;this.x=b*g.w+T*-g.x+h*-g.z-_*-g.y,this.y=h*g.w+T*-g.y+_*-g.x-b*-g.z,this.z=_*g.w+T*-g.z+b*-g.y-h*-g.x},d.prototype.clone=function(){return new d(this)},p.exports=d},{}],21:[function(c,p){p.exports={Pose:c("./Pose"),Quaternion:c("./Quaternion"),Transform:c("./Transform"),Vector3:c("./Vector3")}},{"./Pose":17,"./Quaternion":18,"./Transform":19,"./Vector3":20}],22:[function(c,p){p.exports=function(d,g,b){g.forEach(function(h){var _=b[h];d.prototype[h]=function(T){return T.ros=this,new _(T)}})}},{}],23:[function(c,p){function d(S){S=S||{},this.ros=S.ros,this.fixedFrame=S.fixedFrame||"/base_link",this.angularThres=S.angularThres||2,this.transThres=S.transThres||0.01,this.rate=S.rate||10,this.updateDelay=S.updateDelay||50;var U=S.topicTimeout||2,C=Math.floor(U),N=Math.floor(1e9*(U-C));this.topicTimeout={secs:C,nsecs:N},this.serverName=S.serverName||"/tf2_web_republisher",this.repubServiceName=S.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}var g=c("../actionlib/ActionClient"),b=c("../actionlib/Goal"),h=c("../core/Service.js"),_=c("../core/ServiceRequest.js"),T=c("../math/Transform");d.prototype.processTFArray=function(S){this;S.transforms.forEach(function(C){var N=C.child_frame_id;"/"===N[0]&&(N=N.substring(1));var R=this.frameInfos[N];R&&(R.transform=new T({translation:C.transform.translation,rotation:C.transform.rotation}),R.cbs.forEach(function(M){M(R.transform)}))},this)},d.prototype.updateGoal=function(){var S={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new b({actionClient:this.actionClient,goalMessage:S}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{S.timeout=this.topicTimeout;var U=new _(S);this.serviceClient.callService(U,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},d.prototype.processResponse=function(S){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:S.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},d.prototype.subscribe=function(S,U){"/"===S[0]&&(S=S.substring(1)),this.frameInfos[S]?this.frameInfos[S].transform&&U(this.frameInfos[S].transform):(this.frameInfos[S]={cbs:[]},!this.republisherUpdateRequested&&(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[S].cbs.push(U)},d.prototype.unsubscribe=function(S,U){"/"===S[0]&&(S=S.substring(1));for(var C=this.frameInfos[S],N=C&&C.cbs||[],R=N.length;R--;)N[R]===U&&N.splice(R,1);U&&0!==N.length||delete this.frameInfos[S]},p.exports=d},{"../actionlib/ActionClient":4,"../actionlib/Goal":5,"../core/Service.js":11,"../core/ServiceRequest.js":12,"../math/Transform":19}],24:[function(c,p){var d=c("../core/Ros"),g=c("../mixin"),b=p.exports={TFClient:c("./TFClient")};g(d,["TFClient"],b)},{"../core/Ros":10,"../mixin":22,"./TFClient":23}],25:[function(c,p){var g=c("../math/Vector3"),b=c("./UrdfTypes");p.exports=function(h){this.dimension=null,this.type=b.URDF_BOX;var _=h.xml.getAttribute("size").split(" ");this.dimension=new g({x:parseFloat(_[0]),y:parseFloat(_[1]),z:parseFloat(_[2])})}},{"../math/Vector3":20,"./UrdfTypes":34}],26:[function(c,p){p.exports=function(g){var b=g.xml.getAttribute("rgba").split(" ");this.r=parseFloat(b[0]),this.g=parseFloat(b[1]),this.b=parseFloat(b[2]),this.a=parseFloat(b[3])}},{}],27:[function(c,p){var g=c("./UrdfTypes");p.exports=function(b){this.type=g.URDF_CYLINDER,this.length=parseFloat(b.xml.getAttribute("length")),this.radius=parseFloat(b.xml.getAttribute("radius"))}},{"./UrdfTypes":34}],28:[function(c,p){p.exports=function(g){this.name=g.xml.getAttribute("name"),this.type=g.xml.getAttribute("type");var b=g.xml.getElementsByTagName("limit");0<b.length&&(this.minval=parseFloat(b[0].getAttribute("lower")),this.maxval=parseFloat(b[0].getAttribute("upper")))}},{}],29:[function(c,p){var g=c("./UrdfVisual");p.exports=function(b){this.name=b.xml.getAttribute("name"),this.visuals=[];for(var h=b.xml.getElementsByTagName("visual"),_=0;_<h.length;_++)this.visuals.push(new g({xml:h[_]}))}},{"./UrdfVisual":35}],30:[function(c,p){function d(h){this.textureFilename=null,this.color=null,this.name=h.xml.getAttribute("name");var _=h.xml.getElementsByTagName("texture");0<_.length&&(this.textureFilename=_[0].getAttribute("filename"));var T=h.xml.getElementsByTagName("color");0<T.length&&(this.color=new g({xml:T[0]}))}var g=c("./UrdfColor");d.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var b=c("object-assign");d.prototype.assign=function(h){return b(this,h)},p.exports=d},{"./UrdfColor":26,"object-assign":1}],31:[function(c,p){var g=c("../math/Vector3"),b=c("./UrdfTypes");p.exports=function(h){this.scale=null,this.type=b.URDF_MESH,this.filename=h.xml.getAttribute("filename");var _=h.xml.getAttribute("scale");if(_){var T=_.split(" ");this.scale=new g({x:parseFloat(T[0]),y:parseFloat(T[1]),z:parseFloat(T[2])})}}},{"../math/Vector3":20,"./UrdfTypes":34}],32:[function(c,p){var g=c("./UrdfMaterial"),b=c("./UrdfLink"),h=c("./UrdfJoint"),_=c("xmldom").DOMParser;p.exports=function(S){S=S||{};var U=S.xml,C=S.string;if(this.materials={},this.links={},this.joints={},C){var N=new _;U=N.parseFromString(C,"text/xml")}var R=U.documentElement;this.name=R.getAttribute("name");for(var A,M=R.childNodes,G=0;G<M.length;G++)if(A=M[G],"material"===A.tagName){var k=new g({xml:A});void 0===this.materials[k.name]?this.materials[k.name]=k:this.materials[k.name].isLink()?this.materials[k.name].assign(k):console.warn("Material "+k.name+"is not unique.")}else if("link"===A.tagName){var I=new b({xml:A});if(void 0!==this.links[I.name])console.warn("Link "+I.name+" is not unique.");else{for(var D,E=0;E<I.visuals.length;E++)D=I.visuals[E].material,null!==D&&(void 0===this.materials[D.name]?this.materials[D.name]=D:I.visuals[E].material=this.materials[D.name]);this.links[I.name]=I}}else if("joint"===A.tagName){var F=new h({xml:A});this.joints[F.name]=F}}},{"./UrdfJoint":28,"./UrdfLink":29,"./UrdfMaterial":30,xmldom:41}],33:[function(c,p){var g=c("./UrdfTypes");p.exports=function(b){this.type=g.URDF_SPHERE,this.radius=parseFloat(b.xml.getAttribute("radius"))}},{"./UrdfTypes":34}],34:[function(c,p){p.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},{}],35:[function(c,p){var g=c("../math/Pose"),b=c("../math/Vector3"),h=c("../math/Quaternion"),_=c("./UrdfCylinder"),T=c("./UrdfBox"),S=c("./UrdfMaterial"),U=c("./UrdfMesh"),C=c("./UrdfSphere");p.exports=function(N){var R=N.xml;this.origin=null,this.geometry=null,this.material=null;var M=R.getElementsByTagName("origin");if(0===M.length)this.origin=new g;else{var G=M[0].getAttribute("xyz"),A=new b;G&&(G=G.split(" "),A=new b({x:parseFloat(G[0]),y:parseFloat(G[1]),z:parseFloat(G[2])}));var k=M[0].getAttribute("rpy"),I=new h;if(k){k=k.split(" ");var E=parseFloat(k[0]),D=parseFloat(k[1]),F=parseFloat(k[2]),O=E/2,P=D/2,B=F/2,V=Math.sin(O)*Math.cos(P)*Math.cos(B)-Math.cos(O)*Math.sin(P)*Math.sin(B),L=Math.cos(O)*Math.sin(P)*Math.cos(B)+Math.sin(O)*Math.cos(P)*Math.sin(B),Q=Math.cos(O)*Math.cos(P)*Math.sin(B)-Math.sin(O)*Math.sin(P)*Math.cos(B),H=Math.cos(O)*Math.cos(P)*Math.cos(B)+Math.sin(O)*Math.sin(P)*Math.sin(B);I=new h({x:V,y:L,z:Q,w:H}),I.normalize()}this.origin=new g({position:A,orientation:I})}var X=R.getElementsByTagName("geometry");if(0<X.length){for(var K,J=X[0],Y=null,W=0;W<J.childNodes.length;W++)if(K=J.childNodes[W],1===K.nodeType){Y=K;break}var Z=Y.nodeName;"sphere"===Z?this.geometry=new C({xml:Y}):"box"===Z?this.geometry=new T({xml:Y}):"cylinder"===Z?this.geometry=new _({xml:Y}):"mesh"===Z?this.geometry=new U({xml:Y}):console.warn("Unknown geometry type "+Z)}var $=R.getElementsByTagName("material");0<$.length&&(this.material=new S({xml:$[0]}))}},{"../math/Pose":17,"../math/Quaternion":18,"../math/Vector3":20,"./UrdfBox":25,"./UrdfCylinder":27,"./UrdfMaterial":30,"./UrdfMesh":31,"./UrdfSphere":33}],36:[function(c,p){p.exports=c("object-assign")({UrdfBox:c("./UrdfBox"),UrdfColor:c("./UrdfColor"),UrdfCylinder:c("./UrdfCylinder"),UrdfLink:c("./UrdfLink"),UrdfMaterial:c("./UrdfMaterial"),UrdfMesh:c("./UrdfMesh"),UrdfModel:c("./UrdfModel"),UrdfSphere:c("./UrdfSphere"),UrdfVisual:c("./UrdfVisual")},c("./UrdfTypes"))},{"./UrdfBox":25,"./UrdfColor":26,"./UrdfCylinder":27,"./UrdfLink":29,"./UrdfMaterial":30,"./UrdfMesh":31,"./UrdfModel":32,"./UrdfSphere":33,"./UrdfTypes":34,"./UrdfVisual":35,"object-assign":1}],37:[function(c,p){(function(d){p.exports={EventEmitter2:d.EventEmitter2}}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{}],38:[function(c,p){(function(d){p.exports=d.WebSocket}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{}],39:[function(c,p){p.exports=function(){return document.createElement("canvas")}},{}],40:[function(c,p){(function(d){"use strict";var b=c("canvas"),h=b.Image||d.Image;p.exports=function(_,T){var S=new h;S.onload=function(){var U=new b,C=U.getContext("2d");U.width=S.width,U.height=S.height,C.imageSmoothingEnabled=!1,C.webkitImageSmoothingEnabled=!1,C.mozImageSmoothingEnabled=!1,C.drawImage(S,0,0);for(var N=C.getImageData(0,0,S.width,S.height).data,R="",M=0;M<N.length;M+=4)R+=String.fromCharCode(N[M],N[M+1],N[M+2]);T(JSON.parse(R))},S.src="data:image/png;base64,"+_}}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{canvas:39}],41:[function(c,p,m){(function(d){m.DOMImplementation=d.DOMImplementation,m.XMLSerializer=d.XMLSerializer,m.DOMParser=d.DOMParser}).call(this,"undefined"===typeof global?"undefined"===typeof self?"undefined"===typeof window?{}:window:self:global)},{}]},{},[3]);</script><dom-module id="ros-websocket" assetpath="bower_components/ros-websocket/"><template></template><script>Polymer({is:'ros-websocket',properties:{auto:{type:Boolean,value:!1},url:{type:String,value:function(){var a=window.location.hostname,b='ws:';return'https:'==window.location.protocol&&(b='wss:'),b+'//'+a+':9090'},observer:'_onUrlChanged'},ros:{type:Object,notify:!0}},connect:function(){this.ros&&this.ros.isConnected&&this.ros.close(),this.ros=new ROSLIB.Ros({url:this.url});var a=this;this.ros.on('connection',function(){a.fire('connection')}),this.ros.on('error',function(b){a.fire('error',b)}),this.ros.on('close',function(){a.fire('close')})},_onUrlChanged:function(){this.auto&&this.connect()}});</script></dom-module><dom-module id="ros-param" assetpath="bower_components/ros-param/"><template><style>:host{display:block;}</style></template><script>class RosParam extends Polymer.Element{static get is(){return'ros-param'}static get properties(){return{ros:{type:Object},name:{type:String},stringVal:{type:String,notify:!0,observer:'_stringValChanged'}}}static get observers(){return['_init(ros, name)']}_init(a,b){if(a&&b){this._param=new ROSLIB.Param({ros:a,name:b});var c=this;this._param.get(function(d){c.stringVal=d})}}get(a){if(this._param){var b=this;this._param.get(function(c){b.stringVal=c,a(c)})}else console.warn('Param is not initialized')}set(a){this.stringVal=a}delete(){this._param?this._param.delete():console.warn('Param is not initialized')}_stringValChanged(a){this._param?this._param.set(a):console.warn('Param is not initialized')}}window.customElements.define(RosParam.is,RosParam);</script></dom-module><dom-module id="ros-topic" assetpath="bower_components/ros-topic/"><template><style>:host{display:block;}</style></template><script>Polymer({is:'ros-topic',properties:{auto:{type:Boolean,default:!1},compression:{type:String,default:'none'},lastMessage:{type:Object,default:null,notify:!0,readOnly:!0},latch:{type:Boolean,default:!1},msgType:{type:String,observer:'_initTopic'},bridgePublishQueue:{type:Number,default:100},bridgeSubscribeQueue:{type:Number,default:0},ros:{type:Object,default:null,observer:'_initTopic'},throttleRate:{type:Number,default:0},topic:{type:String,observer:'_initTopic'},_topic:Object},publish:function(a){var b=new ROSLIB.Message(a);this._topic.publish(b)},publishMessage:function(a){this._topic.publish(a)},subscribe:function(){if(this._topic){var a=this;this._topic.subscribe(function(b){a._setLastMessage(b),a.fire('message',b)})}else console.error('ros-topic not initialized before subscribe()')},unsubscribe:function(){this._topic?this._topic.unsubscribe():console.error('ros-topic not initialized before unsubscribe()')},_initTopic:function(){this.ros&&this.topic&&this.msgType&&(this._topic=new ROSLIB.Topic({ros:this.ros,name:this.topic,messageType:this.msgType,compression:this.compression,latch:this.latch,queue_size:this.bridgePublishQueue,queue_length:this.bridgeSubscribeQueue,throttle_rate:this.throttleRate}),this._setLastMessage(null),this.auto&&this.subscribe())}});</script></dom-module><dom-module id="iron-flex" assetpath="bower_components/iron-flex-layout/"><template><style>.layout.horizontal,
      .layout.vertical{display:-ms-flexbox;display:-webkit-flex;display:flex;}.layout.inline{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;}.layout.horizontal{-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;}.layout.vertical{-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;}.layout.wrap{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;}.layout.no-wrap{-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;}.layout.center,
      .layout.center-center{-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.layout.center-justified,
      .layout.center-center{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.flex{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;}.flex-auto{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;}.flex-none{-ms-flex:none;-webkit-flex:none;flex:none;}</style></template></dom-module><dom-module id="iron-flex-reverse" assetpath="bower_components/iron-flex-layout/"><template><style>.layout.horizontal-reverse,
      .layout.vertical-reverse{display:-ms-flexbox;display:-webkit-flex;display:flex;}.layout.horizontal-reverse{-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;}.layout.vertical-reverse{-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;}.layout.wrap-reverse{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;}</style></template></dom-module><dom-module id="iron-flex-alignment" assetpath="bower_components/iron-flex-layout/"><template><style>.layout.start{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;}.layout.center,
      .layout.center-center{-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.layout.end{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;}.layout.baseline{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;}.layout.start-justified{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}.layout.center-justified,
      .layout.center-center{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.layout.end-justified{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.layout.around-justified{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;}.layout.justified{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}.self-start{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;}.self-center{-ms-align-self:center;-webkit-align-self:center;align-self:center;}.self-end{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;}.self-stretch{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;}.self-baseline{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;}.layout.start-aligned{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;}.layout.end-aligned{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;}.layout.center-aligned{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;}.layout.between-aligned{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;}.layout.around-aligned{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;}</style></template></dom-module><dom-module id="iron-flex-factors" assetpath="bower_components/iron-flex-layout/"><template><style>.flex,
      .flex-1{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;}.flex-2{-ms-flex:2;-webkit-flex:2;flex:2;}.flex-3{-ms-flex:3;-webkit-flex:3;flex:3;}.flex-4{-ms-flex:4;-webkit-flex:4;flex:4;}.flex-5{-ms-flex:5;-webkit-flex:5;flex:5;}.flex-6{-ms-flex:6;-webkit-flex:6;flex:6;}.flex-7{-ms-flex:7;-webkit-flex:7;flex:7;}.flex-8{-ms-flex:8;-webkit-flex:8;flex:8;}.flex-9{-ms-flex:9;-webkit-flex:9;flex:9;}.flex-10{-ms-flex:10;-webkit-flex:10;flex:10;}.flex-11{-ms-flex:11;-webkit-flex:11;flex:11;}.flex-12{-ms-flex:12;-webkit-flex:12;flex:12;}</style></template></dom-module><dom-module id="iron-positioning" assetpath="bower_components/iron-flex-layout/"><template><style>.block{display:block;}[hidden]{display:none !important;}.invisible{visibility:hidden !important;}.relative{position:relative;}.fit{position:absolute;top:0;right:0;bottom:0;left:0;}body.fullbleed{margin:0;height:100vh;}.scroll{-webkit-overflow-scrolling:touch;overflow:auto;}.fixed-bottom,
      .fixed-left,
      .fixed-right,
      .fixed-top{position:fixed;}.fixed-top{top:0;left:0;right:0;}.fixed-right{top:0;right:0;bottom:0;}.fixed-bottom{right:0;bottom:0;left:0;}.fixed-left{top:0;bottom:0;left:0;}</style></template></dom-module><dom-module id="iron-icon" assetpath="bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px);@apply --iron-icon;}:host([hidden]){display:none;}</style></template><script>Polymer({is:'iron-icon',properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create('iron-meta',{type:'iconset'})}},observers:['_updateIcon(_meta, isAttached)','_updateIcon(theme, isAttached)','_srcChanged(src, isAttached)','_iconChanged(icon, isAttached)'],_DEFAULT_ICONSET:'icons',_iconChanged:function(a){var b=(a||'').split(':');this._iconName=b.pop(),this._iconsetName=b.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),''===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,'iron-iconset-added','_updateIcon')):this.listen(window,'iron-iconset-added','_updateIcon'))):(this._iconset&&this._iconset.removeIcon(this),!this._img&&(this._img=document.createElement('img'),this._img.style.width='100%',this._img.style.height='100%',this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});</script></dom-module><script>Polymer({is:'iron-iconset-svg',properties:{name:{type:String,observer:'_nameChanged'},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:'iconset',key:null,value:null})},attached:function(){this.style.display='none'},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(a){return this.name+':'+a},this)},applyIcon:function(a,b){this.removeIcon(a);var c=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a));if(c){var d=Polymer.dom(a.root||a);return d.insertBefore(c,d.childNodes[0]),a._svgIcon=c}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){return null==this.__targetIsRTL&&(a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&'rtl'===window.getComputedStyle(a).direction),this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async(function(){this.fire('iron-iconset-added',this,{node:window})})},_createIconMap:function(){var a=Object.create(null);return Polymer.dom(this).querySelectorAll('[id]').forEach(function(b){a[b.id]=b}),a},_cloneIcon:function(a,b){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[a],this.size,b)},_prepareSvgClone:function(a,b,c){if(a){var d=a.cloneNode(!0),e=document.createElementNS('http://www.w3.org/2000/svg','svg'),f=d.getAttribute('viewBox')||'0 0 '+b+' '+b,g='pointer-events: none; display: block; width: 100%; height: 100%;';return c&&d.hasAttribute('mirror-in-rtl')&&(g+='-webkit-transform:scale(-1,1);transform:scale(-1,1);'),e.setAttribute('viewBox',f),e.setAttribute('preserveAspectRatio','xMidYMid meet'),e.setAttribute('focusable','false'),e.style.cssText=g,e.appendChild(d).removeAttribute('id'),e}return null}});</script><iron-iconset-svg name="icons" size="24"><svg><defs><g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g><g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g><g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g><g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g><g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g><g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g><g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g><g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g><g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g><g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g><g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g><g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g><g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g><g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g><g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g><g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g><g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g><g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g><g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g><g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g><g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g><g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g><g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g><g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g><g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g><g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g><g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g><g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g><g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g><g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g><g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g><g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g><g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g><g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g><g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g><g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g><g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g><g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g><g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g><g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g><g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g><g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g><g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g><g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g><g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g><g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g><g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g><g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g><g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g><g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g><g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g><g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g><g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g><g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g><g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g><g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g><g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g><g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g><g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g><g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g><g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g><g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g><g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g><g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g><g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g><g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g><g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g><g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g><g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g><g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g><g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g><g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g><g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g><g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g><g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g><g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g><g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g><g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g><g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g><g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g><g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g><g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g><g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g><g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g><g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g><g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g><g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g><g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g><g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g><g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g><g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g><g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g><g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g><g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g><g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g><g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g><g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g><g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g><g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g><g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g><g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g><g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g><g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g><g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g><g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g><g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g><g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g><g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g><g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g><g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g><g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g><g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g><g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g><g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g><g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g><g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g><g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g><g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g><g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g><g id="remove"><path d="M19 13H5v-2h14v2z"></path></g><g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g><g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g><g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g><g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g><g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g><g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g><g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g><g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g><g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g><g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g><g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g><g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g><g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g><g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g><g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g><g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g><g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g><g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g><g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g><g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g><g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g><g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g><g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g><g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g><g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g><g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g><g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g><g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g><g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g><g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g><g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g><g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g><g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g><g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g><g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g><g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g><g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g><g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g><g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g><g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g><g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g><g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g><g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g><g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g><g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g><g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g><g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g><g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g><g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g><g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g><g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g><g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g><g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g><g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g><g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g><g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g><g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g><g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g><g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g><g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g><g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g><g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g><g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g><g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g><g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g><g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="av" size="24"><svg><defs><g id="add-to-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3h3z"></path></g><g id="airplay"><path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="album"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g><g id="art-track"><path d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z"></path></g><g id="av-timer"><path d="M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"></path></g><g id="branding-watermark"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16h-9v-6h9v6z"></path></g><g id="call-to-action"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3v-3h18v3z"></path></g><g id="closed-caption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></g><g id="equalizer"><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"></path></g><g id="explicit"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z"></path></g><g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"></path></g><g id="fast-rewind"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path></g><g id="featured-play-list"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 8H3V9h9v2zm0-4H3V5h9v2z"></path></g><g id="featured-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 9H3V5h9v7z"></path></g><g id="fiber-dvr"><path d="M17.5 10.5h2v1h-2zm-13 0h2v3h-2zM21 3H3c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h18c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zM8 13.5c0 .85-.65 1.5-1.5 1.5H3V9h3.5c.85 0 1.5.65 1.5 1.5v3zm4.62 1.5h-1.5L9.37 9h1.5l1 3.43 1-3.43h1.5l-1.75 6zM21 11.5c0 .6-.4 1.15-.9 1.4L21 15h-1.5l-.85-2H17.5v2H16V9h3.5c.85 0 1.5.65 1.5 1.5v1z"></path></g><g id="fiber-manual-record"><circle cx="12" cy="12" r="8"></circle></g><g id="fiber-new"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z"></path></g><g id="fiber-pin"><path d="M5.5 10.5h2v1h-2zM20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM9 11.5c0 .85-.65 1.5-1.5 1.5h-2v2H4V9h3.5c.85 0 1.5.65 1.5 1.5v1zm3.5 3.5H11V9h1.5v6zm7.5 0h-1.2l-2.55-3.5V15H15V9h1.25l2.5 3.5V9H20v6z"></path></g><g id="fiber-smart-record"><g><circle cx="9" cy="12" r="8"></circle><path d="M17 4.26v2.09c2.33.82 4 3.04 4 5.65s-1.67 4.83-4 5.65v2.09c3.45-.89 6-4.01 6-7.74s-2.55-6.85-6-7.74z"></path></g></g><g id="forward-10"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="forward-30"><path d="M9.6 13.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5zM4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8z"></path></g><g id="forward-5"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.7.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.5.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.6z"></path></g><g id="games"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"></path></g><g id="hd"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path></g><g id="hearing"><path d="M17 20c-.29 0-.56-.06-.76-.15-.71-.37-1.21-.88-1.71-2.38-.51-1.56-1.47-2.29-2.39-3-.79-.61-1.61-1.24-2.32-2.53C9.29 10.98 9 9.93 9 9c0-2.8 2.2-5 5-5s5 2.2 5 5h2c0-3.93-3.07-7-7-7S7 5.07 7 9c0 1.26.38 2.65 1.07 3.9.91 1.65 1.98 2.48 2.85 3.15.81.62 1.39 1.07 1.71 2.05.6 1.82 1.37 2.84 2.73 3.55.51.23 1.07.35 1.64.35 2.21 0 4-1.79 4-4h-2c0 1.1-.9 2-2 2zM7.64 2.64L6.22 1.22C4.23 3.21 3 5.96 3 9s1.23 5.79 3.22 7.78l1.41-1.41C6.01 13.74 5 11.49 5 9s1.01-4.74 2.64-6.36zM11.5 9c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z"></path></g><g id="high-quality"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z"></path></g><g id="library-add"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="library-books"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"></path></g><g id="library-music"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"></path></g><g id="loop"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"></path></g><g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"></path></g><g id="movie"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g><g id="music-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"></path></g><g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="not-interested"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"></path></g><g id="note"><path d="M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"></path></g><g id="pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></g><g id="pause-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"></path></g><g id="pause-circle-outline"><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"></path></g><g id="play-arrow"><path d="M8 5v14l11-7z"></path></g><g id="play-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></g><g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="playlist-add"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"></path></g><g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"></path></g><g id="playlist-play"><path d="M19 9H2v2h17V9zm0-4H2v2h17V5zM2 15h13v-2H2v2zm15-2v6l5-3-5-3z"></path></g><g id="queue"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="queue-music"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"></path></g><g id="queue-play-next"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8l-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"></path></g><g id="radio"><path d="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z"></path></g><g id="recent-actors"><path d="M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z"></path></g><g id="remove-from-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2H8v-2h8z"></path></g><g id="repeat"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path></g><g id="repeat-one"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"></path></g><g id="replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path></g><g id="replay-10"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="replay-30"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-2.4 8.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5c0-.1-.1-.2-.1-.3s-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="replay-5"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.3 8.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.4.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.7z"></path></g><g id="shuffle"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"></path></g><g id="skip-next"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></g><g id="skip-previous"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></g><g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"></path></g><g id="snooze"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9v2z"></path></g><g id="sort-by-alpha"><path d="M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z"></path></g><g id="stop"><path d="M6 6h12v12H6z"></path></g><g id="subscriptions"><path d="M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z"></path></g><g id="subtitles"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"></path></g><g id="surround-sound"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.76 16.24l-1.41 1.41C4.78 16.1 4 14.05 4 12c0-2.05.78-4.1 2.34-5.66l1.41 1.41C6.59 8.93 6 10.46 6 12s.59 3.07 1.76 4.24zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm5.66 1.66l-1.41-1.41C17.41 15.07 18 13.54 18 12s-.59-3.07-1.76-4.24l1.41-1.41C19.22 7.9 20 9.95 20 12c0 2.05-.78 4.1-2.34 5.66zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="video-call"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"></path></g><g id="video-label"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z"></path></g><g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"></path></g><g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></g><g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"></path></g><g id="volume-down"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"></path></g><g id="volume-mute"><path d="M7 9v6h4l5 5V4l-5 5H7z"></path></g><g id="volume-off"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path></g><g id="volume-up"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></g><g id="web"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"></path></g><g id="web-asset"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm0 14H5V8h14v10z"></path></g></defs></svg></iron-iconset-svg><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:'multiChanged'},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:['_updateSelected(selectedValues.splices)'],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=a||[];var b=(this._valuesToItems(a)||[]).filter(function(e){return null!==e&&e!==void 0});this._selection.clear(b);for(var c=0;c<b.length;c++)this._selection.setItemSelected(b[c],!0);if(this.fallbackSelection&&!this._selection.get().length){var d=this._valueToItem(this.fallbackSelection);d&&this.select(this.fallbackSelection)}},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&a!==void 0?(this._setSelectedItems([a]),this._setSelectedItem(a)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push('selectedValues',a):this.splice('selectedValues',b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(b){return this._valueToItem(b)},this)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>Polymer({is:'iron-selector',behaviors:[Polymer.IronMultiSelectableBehavior]});</script><dom-module id="ros-action-client" assetpath="bower_components/ros-action-client/"><template><style>:host{display:block;}</style></template><script>Polymer({is:'ros-action-client',properties:{auto:{type:Boolean,default:!1},server:{type:String,observer:'_initClient'},actionType:{type:String,observer:'_initClient'},goal:{type:Object,default:null,observer:'_goalChanged'},lastFeedback:{type:Object,default:null,notify:!0,readOnly:!0},lastResult:{type:String,default:null,notify:!0,readOnly:!0},ros:{type:Object,default:null,observer:'_initClient'},_client:{type:Object,default:null},_actionGoal:{type:Object,default:null}},_goalChanged:function(){this._client&&this.goal&&this.auto&&this.send(this.goal)},_initClient:function(){if(this.ros&&this.server&&this.actionType){var a=this;this._client=new ROSLIB.ActionClient({ros:a.ros,serverName:a.server,actionName:a.actionType})}},cancel:function(){if(!this._client){return void console.error('ros-action-client was not initialized before cancelling.')}this._actionGoal&&this._actionGoal.cancel()},send:function(a){if(this._client&&a){var b=this;this._actionGoal=new ROSLIB.Goal({actionClient:b._client,goalMessage:a}),this._actionGoal.on('feedback',function(d){b._setLastFeedback(d),b.fire('feedback',d)}),this._actionGoal.on('result',function(d){b._setLastResult(d),b._actionGoal=null,b.fire('result',d)}),this._actionGoal.send()}else{console.error('ros-action-client was not initialized before sending goal.')}}});</script></dom-module><dom-module id="iron-collapse" assetpath="bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration, 300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration, 300ms);overflow:visible;}:host(.iron-collapse-closed){display:none;}:host(:not(.iron-collapse-opened)){overflow:hidden;}</style><slot></slot></template></dom-module><script>Polymer({is:'iron-collapse',behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:'_horizontalChanged'},opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:''}},get dimension(){return this.horizontal?'width':'height'},get _dimensionMax(){return this.horizontal?'maxWidth':'maxHeight'},get _dimensionMaxCss(){return this.horizontal?'max-width':'max-height'},hostAttributes:{role:'group',"aria-hidden":'true',"aria-expanded":'false'},listeners:{transitionend:'_onTransitionEnd'},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a='auto'===a?'':a;var c=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;if(this._desiredSize=a,this._updateTransition(!1),c){var d=this._calcSize();''===a&&(this.style[this._dimensionMax]='',a=this._calcSize()),this.style[this._dimensionMax]=d,this.scrollTop=this.scrollTop,this._updateTransition(!0),c=a!==d}this.style[this._dimensionMax]=a,c||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn('`enableTransition()` is deprecated, use `noAnimation` instead.'),this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?'':'0s'},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var a='maxWidth'===this._dimensionMax?'maxHeight':'maxWidth';this.style[a]='',this.updateSize(this.opened?'auto':'0px',!1)},_openedChanged:function(){this.setAttribute('aria-expanded',this.opened),this.setAttribute('aria-hidden',!this.opened),this._setTransitioning(!0),this.toggleClass('iron-collapse-closed',!1),this.toggleClass('iron-collapse-opened',!1),this.updateSize(this.opened?'auto':'0px',!0),this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize,this.toggleClass('iron-collapse-closed',!this.opened),this.toggleClass('iron-collapse-opened',this.opened),this._updateTransition(!1),this.notifyResize(),this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+'px'}});</script><script>!function(K,L){var M={},N={},O={};!function(P){function S(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=ka}function T(){return P.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function U(xa,ya){var Aa=new S;return ya&&(Aa.fill="both",Aa.duration="auto"),"number"!=typeof xa||isNaN(xa)?void 0!==xa&&Object.getOwnPropertyNames(xa).forEach(function(Ba){if("auto"!=xa[Ba]){if(("number"==typeof Aa[Ba]||"duration"==Ba)&&("number"!=typeof xa[Ba]||isNaN(xa[Ba])))return;if("fill"==Ba&&-1==ia.indexOf(xa[Ba]))return;if("direction"==Ba&&-1==ja.indexOf(xa[Ba]))return;if("playbackRate"==Ba&&1!==xa[Ba]&&P.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;Aa[Ba]=xa[Ba]}}):Aa.duration=xa,Aa}function X(xa,ya,za,Aa){return 0>xa||1<xa||0>za||1<za?ka:function(Ba){function Ca(Ja,Ka,La){return 3*Ja*(1-La)*(1-La)*La+3*Ka*(1-La)*La*La+La*La*La}if(0>=Ba){var Da=0;return 0<xa?Da=ya/xa:!ya&&0<za&&(Da=Aa/za),Da*Ba}if(1<=Ba){var Ea=0;return 1>za?Ea=(Aa-1)/(za-1):1==za&&1>xa&&(Ea=(ya-1)/(xa-1)),1+Ea*(Ba-1)}for(var Fa=0,Ga=1;Fa<Ga;){var Ha=(Fa+Ga)/2,Ia=Ca(xa,za,Ha);if(1e-5>Math.abs(Ba-Ia))return Ca(ya,Aa,Ha);Ia<Ba?Fa=Ha:Ga=Ha}return Ca(ya,Aa,Ha)}}function Y(xa,ya){return function(za){if(1<=za)return 1;var Aa=1/xa;return(za+=ya*Aa)-za%Aa}}function Z(xa){pa||(pa=document.createElement("div").style),pa.animationTimingFunction="",pa.animationTimingFunction=xa;var ya=pa.animationTimingFunction;if(""==ya&&T())throw new TypeError(xa+" is not a valid value for easing");return ya}function $(xa){if("linear"==xa)return ka;var ya=ra.exec(xa);if(ya)return X.apply(this,ya.slice(1).map(Number));var za=sa.exec(xa);return za?Y(+za[1],{start:la,middle:ma,end:na}[za[2]]):oa[xa]||ka}function aa(xa){return 0===xa.duration||0===xa.iterations?0:xa.duration*xa.iterations}function ba(xa,ya,za){if(null==ya)return ta;var Aa=za.delay+xa+za.endDelay;return ya<Math.min(za.delay,Aa)?ua:ya>=Math.min(za.delay+xa,Aa)?va:wa}function ca(xa,ya,za,Aa,Ba){return Aa===ua?"backwards"==ya||"both"==ya?0:null:Aa===wa?za-Ba:Aa===va?"forwards"==ya||"both"==ya?xa:null:Aa===ta?null:void 0}function da(xa,ya,za,Aa,Ba){var Ca=Ba;return 0===xa?ya!==ua&&(Ca+=za):Ca+=Aa/xa,Ca}function ea(xa,ya,za,Aa,Ba,Ca){var Da=xa===1/0?ya%1:xa%1;return 0!==Da||za!==va||0===Aa||0===Ba&&0!==Ca||(Da=1),Da}function fa(xa,ya,za,Aa){return xa===va&&ya===1/0?1/0:1===za?Math.floor(Aa)-1:Math.floor(Aa)}function ga(xa,ya,za){var Aa=xa;if("normal"!==xa&&"reverse"!==xa){var Ba=ya;"alternate-reverse"===xa&&(Ba+=1),Aa="normal",Ba!==1/0&&0!=Ba%2&&(Aa="reverse")}return"normal"===Aa?za:1-za}var ia="backwards|forwards|both|none".split("|"),ja="reverse|alternate|alternate-reverse".split("|"),ka=function(xa){return xa};S.prototype={_setMember:function(xa,ya){this["_"+xa]=ya,this._effect&&(this._effect._timingInput[xa]=ya,this._effect._timing=P.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=P.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(xa){this._setMember("delay",xa)},get delay(){return this._delay},set endDelay(xa){this._setMember("endDelay",xa)},get endDelay(){return this._endDelay},set fill(xa){this._setMember("fill",xa)},get fill(){return this._fill},set iterationStart(xa){if((isNaN(xa)||0>xa)&&T())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",xa)},get iterationStart(){return this._iterationStart},set duration(xa){if("auto"!=xa&&(isNaN(xa)||0>xa)&&T())throw new TypeError("duration must be non-negative or auto, received: "+xa);this._setMember("duration",xa)},get duration(){return this._duration},set direction(xa){this._setMember("direction",xa)},get direction(){return this._direction},set easing(xa){this._easingFunction=$(Z(xa)),this._setMember("easing",xa)},get easing(){return this._easing},set iterations(xa){if((isNaN(xa)||0>xa)&&T())throw new TypeError("iterations must be non-negative, received: "+xa);this._setMember("iterations",xa)},get iterations(){return this._iterations}};var la=1,ma=.5,na=0,oa={ease:X(.25,.1,.25,1),"ease-in":X(.42,0,1,1),"ease-out":X(0,0,.58,1),"ease-in-out":X(.42,0,.58,1),"step-start":Y(1,la),"step-middle":Y(1,ma),"step-end":Y(1,na)},pa=null,ra=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,sa=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,ta=0,ua=1,va=2,wa=3;P.cloneTimingInput=function(xa){if("number"==typeof xa)return xa;var ya={};for(var za in xa)ya[za]=xa[za];return ya},P.makeTiming=U,P.numericTimingToObject=function(xa){return"number"==typeof xa&&(xa=isNaN(xa)?{duration:0}:{duration:xa}),xa},P.normalizeTimingInput=function(xa,ya){return xa=P.numericTimingToObject(xa),U(xa,ya)},P.calculateActiveDuration=function(xa){return Math.abs(aa(xa)/xa.playbackRate)},P.calculateIterationProgress=function(xa,ya,za){var Aa=ba(xa,ya,za),Ba=ca(xa,za.fill,ya,Aa,za.delay);if(null===Ba)return null;var Ca=da(za.duration,Aa,za.iterations,Ba,za.iterationStart),Da=ea(Ca,za.iterationStart,Aa,za.iterations,Ba,za.duration),Ea=fa(Aa,za.iterations,Da,Ca),Fa=ga(za.direction,Ea,Da);return za._easingFunction(Fa)},P.calculatePhase=ba,P.normalizeEasing=Z,P.parseEasingFunction=$}(M),function(P){function R($,_){return $ in Z?Z[$][_]||_:_}function S($){return"display"===$||0===$.lastIndexOf("animation",0)||0===$.lastIndexOf("transition",0)}function T($,_,aa){if(!S($)){var ba=W[$];if(ba)for(var ca in X.style[$]=_,ba){var da=ba[ca],ea=X.style[da];aa[da]=R(da,ea)}else aa[$]=R($,_)}}function U($){var _=[];for(var aa in $)if(!(aa in["easing","offset","composite"])){var ba=$[aa];Array.isArray(ba)||(ba=[ba]);for(var ca,da=ba.length,ea=0;ea<da;ea++)ca={},ca.offset="offset"in $?$.offset:1==da?1:ea/(da-1),"easing"in $&&(ca.easing=$.easing),"composite"in $&&(ca.composite=$.composite),ca[aa]=ba[ea],_.push(ca)}return _.sort(function(fa,ga){return fa.offset-ga.offset}),_}var W={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},X=document.createElementNS("http://www.w3.org/1999/xhtml","div"),Y={thin:"1px",medium:"3px",thick:"5px"},Z={borderBottomWidth:Y,borderLeftWidth:Y,borderRightWidth:Y,borderTopWidth:Y,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:Y,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};P.convertToArrayForm=U,P.normalizeKeyframes=function($){if(null==$)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&$[Symbol.iterator]&&($=Array.from($)),Array.isArray($)||($=U($));for(var ea,aa=$.map(function(fa){var ga={};for(var ha in fa){var ia=fa[ha];if("offset"==ha){if(null!=ia){if(ia=+ia,!isFinite(ia))throw new TypeError("Keyframe offsets must be numbers.");if(0>ia||1<ia)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==ha){if("add"==ia||"accumulate"==ia)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=ia)throw new TypeError("Invalid composite mode "+ia+".")}else ia="easing"==ha?P.normalizeEasing(ia):""+ia;T(ha,ia,ga)}return void 0==ga.offset&&(ga.offset=null),void 0==ga.easing&&(ga.easing="linear"),ga}),ba=!0,ca=-1/0,da=0;da<aa.length;da++)if(ea=aa[da].offset,null!=ea){if(ea<ca)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");ca=ea}else ba=!1;return aa=aa.filter(function(fa){return 0<=fa.offset&&1>=fa.offset}),ba||function(){var fa=aa.length;null==aa[fa-1].offset&&(aa[fa-1].offset=1),1<fa&&null==aa[0].offset&&(aa[0].offset=0);for(var ja,ga=0,ha=aa[0].offset,ia=1;ia<fa;ia++)if(ja=aa[ia].offset,null!=ja){for(var ka=1;ka<ia-ga;ka++)aa[ga+ka].offset=ha+(ja-ha)*ka/(ia-ga);ga=ia,ha=ja}}(),aa}}(M),function(P){var Q={};P.isDeprecated=function(R,S,T,U){var V=U?"are":"is",W=new Date,X=new Date(S);return X.setMonth(X.getMonth()+3),!(W<X&&(R in Q||console.warn("Web Animations: "+R+" "+V+" deprecated and will stop working on "+X.toDateString()+". "+T),Q[R]=!0,1))},P.deprecated=function(R,S,T,U){var V=U?"are":"is";if(P.isDeprecated(R,S,T,U))throw new Error(R+" "+V+" no longer supported. "+T)}}(M),function(){if(document.documentElement.animate){var P=document.documentElement.animate([],0),Q=!0;if(P&&(Q=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(R){void 0===P[R]&&(Q=!0)})),!Q)return}!function(R,S){function U(W){for(var X={},Y=0;Y<W.length;Y++)for(var Z in W[Y])if("offset"!=Z&&"easing"!=Z&&"composite"!=Z){var $={offset:W[Y].offset,easing:W[Y].easing,value:W[Y][Z]};X[Z]=X[Z]||[],X[Z].push($)}for(var _ in X){var aa=X[_];if(0!=aa[0].offset||1!=aa[aa.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return X}function V(W){var X=[];for(var Y in W)for(var Z=W[Y],$=0;$<Z.length-1;$++){var _=$,aa=$+1,ba=Z[_].offset,ca=Z[aa].offset,da=ba,ea=ca;0==$&&(da=-1/0,0==ca&&(aa=_)),$==Z.length-2&&(ea=1/0,1==ba&&(_=aa)),X.push({applyFrom:da,applyTo:ea,startOffset:Z[_].offset,endOffset:Z[aa].offset,easingFunction:R.parseEasingFunction(Z[_].easing),property:Y,interpolation:S.propertyInterpolation(Y,Z[_].value,Z[aa].value)})}return X.sort(function(fa,ga){return fa.startOffset-ga.startOffset}),X}S.convertEffectInput=function(W){var X=R.normalizeKeyframes(W),Y=U(X),Z=V(Y);return function($,_){if(null!=_)Z.filter(function(ba){return _>=ba.applyFrom&&_<ba.applyTo}).forEach(function(ba){var ca=_-ba.startOffset,da=ba.endOffset-ba.startOffset,ea=0==da?0:ba.easingFunction(ca/da);S.apply($,ba.property,ba.interpolation(ea))});else for(var aa in Y)"offset"!=aa&&"easing"!=aa&&"composite"!=aa&&S.clear($,aa)}}}(M,N),function(R,S){function U($){return $.replace(/-(.)/g,function(_,aa){return aa.toUpperCase()})}function V($,_,aa){Y[aa]=Y[aa]||[],Y[aa].push([$,_])}var Y={};S.addPropertiesHandler=function($,_,aa){for(var ba=0;ba<aa.length;ba++)V($,_,U(aa[ba]))};var Z={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};S.propertyInterpolation=function($,_,aa){var ba=$;/-/.test($)&&!R.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(ba=U($)),"initial"!=_&&"initial"!=aa||("initial"==_&&(_=Z[ba]),"initial"==aa&&(aa=Z[ba]));for(var ca=_==aa?[]:Y[ba],da=0;ca&&da<ca.length;da++){var ea=ca[da][0](_),fa=ca[da][0](aa);if(void 0!==ea&&void 0!==fa){var ga=ca[da][1](ea,fa);if(ga){var ha=S.Interpolation.apply(null,ga);return function(ia){return 0==ia?_:1==ia?aa:ha(ia)}}}}return S.Interpolation(!1,!0,function(ia){return ia?aa:_})}}(M,N),function(R,S){function U(V){var W=R.calculateActiveDuration(V),X=function(Y){return R.calculateIterationProgress(W,Y,V)};return X._totalDuration=V.delay+W+V.endDelay,X}S.KeyframeEffect=function(V,W,X,Y){var Z,$=U(R.normalizeTimingInput(X)),_=S.convertEffectInput(W),aa=function(){_(V,Z)};return aa._update=function(ba){return null!==(Z=$(ba))},aa._clear=function(){_(V,null)},aa._hasSameTarget=function(ba){return V===ba},aa._target=V,aa._totalDuration=$._totalDuration,aa._id=Y,aa}}(M,N),function(R){R.apply=function(T,U,V){T.style[R.propertyName(U)]=V},R.clear=function(T,U){T.style[R.propertyName(U)]=""}}(N),function(R){window.Element.prototype.animate=function(S,T){var U="";return T&&T.id&&(U=T.id),R.timeline._play(R.KeyframeEffect(this,S,T,U))}}(N),function(R){function T(U,V,W){if("number"==typeof U&&"number"==typeof V)return U*(1-W)+V*W;if("boolean"==typeof U&&"boolean"==typeof V)return .5>W?U:V;if(U.length==V.length){for(var X=[],Y=0;Y<U.length;Y++)X.push(T(U[Y],V[Y],W));return X}throw"Mismatched interpolation arguments "+U+":"+V}R.Interpolation=function(U,V,W){return function(X){return W(T(U,V,X))}}}(N),function(R,S){R.sequenceNumber=0;var U=function(V,W,X){this.target=V,this.currentTime=W,this.timelineTime=X,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=V,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};S.Animation=function(V){this.id="",V&&V._id&&(this.id=V._id),this._sequenceNumber=R.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=V,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},S.Animation.prototype={_ensureAlive:function(){this._inEffect=0>this.playbackRate&&0===this.currentTime?this._effect._update(-1):this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,S.timeline._animations.push(this))},_tickCurrentTime:function(V,W){V!=this._currentTime&&(this._currentTime=V,this._isFinished&&!W&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(V){V=+V,isNaN(V)||(S.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-V/this._playbackRate),this._currentTimePending=!1,this._currentTime!=V&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(V,!0),S.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(V){V=+V,isNaN(V)||this._paused||this._idle||(this._startTime=V,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),S.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(V){if(V!=this._playbackRate){var W=this.currentTime;this._playbackRate=V,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),S.applyDirtiedAnimation(this)),null!=W&&(this.currentTime=W)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),S.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,S.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),S.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(V,W){"function"==typeof W&&"finish"==V&&this._finishHandlers.push(W)},removeEventListener:function(V,W){if("finish"==V){var X=this._finishHandlers.indexOf(W);0<=X&&this._finishHandlers.splice(X,1)}},_fireEvents:function(V){if(!this._isFinished)this._finishedFlag=!1;else if(!this._finishedFlag){var W=new U(this,this._currentTime,V),X=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){X.forEach(function(Y){Y.call(W.target,W)})},0),this._finishedFlag=!0}},_tick:function(V,W){this._idle||this._paused||(null==this._startTime?W&&(this.startTime=V-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((V-this._startTime)*this.playbackRate)),W&&(this._currentTimePending=!1,this._fireEvents(V))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var V=this._effect._target;return V._activeAnimations||(V._activeAnimations=[]),V._activeAnimations},_markTarget:function(){var V=this._targetAnimations();-1===V.indexOf(this)&&V.push(this)},_unmarkTarget:function(){var V=this._targetAnimations(),W=V.indexOf(this);-1!==W&&V.splice(W,1)}}}(M,N),function(R,S){function U(ga){var ha=$;$=[],ga<fa.currentTime&&(ga=fa.currentTime),fa._animations.sort(V),fa._animations=Y(ga,!0,fa._animations)[0],ha.forEach(function(ia){ia[1](ga)}),X(),aa=void 0}function V(ga,ha){return ga._sequenceNumber-ha._sequenceNumber}function W(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function X(){da.forEach(function(ga){ga()}),da.length=0}function Y(ga,ha,ia){ea=!0,ca=!1,S.timeline.currentTime=ga,ba=!1;var ja=[],ka=[],la=[],ma=[];return ia.forEach(function(na){na._tick(ga,ha),na._inEffect?(ka.push(na._effect),na._markTarget()):(ja.push(na._effect),na._unmarkTarget()),na._needsTick&&(ba=!0);var oa=na._inEffect||na._needsTick;na._inTimeline=oa,oa?la.push(na):ma.push(na)}),da.push.apply(da,ja),da.push.apply(da,ka),ba&&requestAnimationFrame(function(){}),ea=!1,[la,ma]}var Z=window.requestAnimationFrame,$=[],_=0;window.requestAnimationFrame=function(ga){var ha=_++;return 0==$.length&&Z(U),$.push([ha,ga]),ha},window.cancelAnimationFrame=function(ga){$.forEach(function(ha){ha[0]==ga&&(ha[1]=function(){})})},W.prototype={_play:function(ga){ga._timing=R.normalizeTimingInput(ga.timing);var ha=new S.Animation(ga);return ha._idle=!1,ha._timeline=this,this._animations.push(ha),S.restart(),S.applyDirtiedAnimation(ha),ha}};var aa=void 0,ba=!1,ca=!1;S.restart=function(){return ba||(ba=!0,requestAnimationFrame(function(){}),ca=!0),ca},S.applyDirtiedAnimation=function(ga){if(!ea){ga._markTarget();var ha=ga._targetAnimations();ha.sort(V),Y(S.timeline.currentTime,!1,ha.slice())[1].forEach(function(ia){var ja=fa._animations.indexOf(ia);-1!==ja&&fa._animations.splice(ja,1)}),X()}};var da=[],ea=!1,fa=new W;S.timeline=fa}(M,N),function(R){function S(aa,ba){var ca=aa.exec(ba);if(ca)return ca=aa.ignoreCase?ca[0].toLowerCase():ca[0],[ca,ba.substr(ca.length)]}function T(aa,ba){ba=ba.replace(/^\s*/,"");var ca=aa(ba);if(ca)return[ca[0],ca[1].replace(/^\s*/,"")]}function W(aa,ba){for(var ca=aa,da=ba;ca&&da;)ca>da?ca%=da:da%=ca;return ca=aa*ba/(ca+da)}function $(aa,ba,ca,da,ea){for(var ka,fa=[],ga=[],ha=[],ia=W(da.length,ea.length),ja=0;ja<ia;ja++){if(ka=ba(da[ja%da.length],ea[ja%ea.length]),!ka)return;fa.push(ka[0]),ga.push(ka[1]),ha.push(ka[2])}return[fa,ga,function(la){var ma=la.map(function(na,oa){return ha[oa](na)}).join(ca);return aa?aa(ma):ma}]}R.consumeToken=S,R.consumeTrimmed=T,R.consumeRepeated=function(aa,ba,ca){aa=T.bind(null,aa);for(var ea,da=[];;){if(ea=aa(ca),!ea)return[da,ca];if(da.push(ea[0]),ca=ea[1],!(ea=S(ba,ca))||""==ea[1])return[da,ca];ca=ea[1]}},R.consumeParenthesised=function(aa,ba){for(var ca=0,da=0;da<ba.length&&(!/\s|,/.test(ba[da])||0!=ca);da++)if("("==ba[da])ca++;else if(")"==ba[da]&&(ca--,0==ca&&da++,0>=ca))break;var ea=aa(ba.substr(0,da));return void 0==ea?void 0:[ea,ba.substr(da)]},R.ignore=function(aa){return function(ba){var ca=aa(ba);return ca&&(ca[0]=void 0),ca}},R.optional=function(aa,ba){return function(ca){return aa(ca)||[ba,ca]}},R.consumeList=function(aa,ba){for(var ea,ca=[],da=0;da<aa.length;da++){if(ea=R.consumeTrimmed(aa[da],ba),!ea||""==ea[0])return;void 0!==ea[0]&&ca.push(ea[0]),ba=ea[1]}if(""==ba)return ca},R.mergeNestedRepeated=$.bind(null,null),R.mergeWrappedNestedRepeated=$,R.mergeList=function(aa,ba,ca){for(var da=[],ea=[],fa=[],ga=0,ha=0;ha<ca.length;ha++)if("function"==typeof ca[ha]){var ia=ca[ha](aa[ga],ba[ga++]);da.push(ia[0]),ea.push(ia[1]),fa.push(ia[2])}else!function(ja){da.push(!1),ea.push(!1),fa.push(function(){return ca[ja]})}(ha);return[da,ea,function(ja){for(var ka="",la=0;la<ja.length;la++)ka+=fa[la](ja[la]);return ka}]}}(N),function(R){function S(X){var Z={inset:!1,lengths:[],color:null},$=R.consumeRepeated(function(_){var aa=R.consumeToken(/^inset/i,_);if(aa)return Z.inset=!0,aa;var aa=R.consumeLengthOrPercent(_);if(aa)return Z.lengths.push(aa[0]),aa;var aa=R.consumeColor(_);return aa?(Z.color=aa[0],aa):void 0},/^/,X);if($&&$[0].length)return[Z,$[1]]}var W=function(X,Y,Z,$){function _(fa){return{inset:fa,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var aa=[],ba=[],ca=0;ca<Z.length||ca<$.length;ca++){var da=Z[ca]||_($[ca].inset),ea=$[ca]||_(Z[ca].inset);aa.push(da),ba.push(ea)}return R.mergeNestedRepeated(X,Y,aa,ba)}.bind(null,function(X,Y){for(;X.lengths.length<Math.max(X.lengths.length,Y.lengths.length);)X.lengths.push({px:0});for(;Y.lengths.length<Math.max(X.lengths.length,Y.lengths.length);)Y.lengths.push({px:0});if(X.inset==Y.inset&&!!X.color==!!Y.color){for(var Z,ca,$=[],_=[[],0],aa=[[],0],ba=0;ba<X.lengths.length;ba++)ca=R.mergeDimensions(X.lengths[ba],Y.lengths[ba],2==ba),_[0].push(ca[0]),aa[0].push(ca[1]),$.push(ca[2]);if(X.color&&Y.color){var da=R.mergeColors(X.color,Y.color);_[1]=da[0],aa[1]=da[1],Z=da[2]}return[_,aa,function(ea){for(var fa=X.inset?"inset ":" ",ga=0;ga<$.length;ga++)fa+=$[ga](ea[0][ga])+" ";return Z&&(fa+=Z(ea[1])),fa}]}},", ");R.addPropertiesHandler(function(X){var Y=R.consumeRepeated(S,/^,/,X);if(Y&&""==Y[1])return Y[0]},W,["box-shadow","text-shadow"])}(N),function(R){function T(ba){return ba.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function U(ba,ca,da){return Math.min(ca,Math.max(ba,da))}function V(ba){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(ba))return+ba}function Z(ba,ca){return function(da,ea){return[da,ea,function(fa){return T(U(ba,ca,fa))}]}}function $(ba){var ca=ba.trim().split(/\s*[\s,]\s*/);if(0!==ca.length){for(var fa,da=[],ea=0;ea<ca.length;ea++){if(fa=V(ca[ea]),void 0===fa)return;da.push(fa)}return da}}R.clamp=U,R.addPropertiesHandler($,function(ba,ca){if(ba.length==ca.length)return[ba,ca,function(da){return da.map(T).join(" ")}]},["stroke-dasharray"]),R.addPropertiesHandler(V,Z(0,1/0),["border-image-width","line-height"]),R.addPropertiesHandler(V,Z(0,1),["opacity","shape-image-threshold"]),R.addPropertiesHandler(V,function(ba,ca){if(0!=ba)return Z(0,1/0)(ba,ca)},["flex-grow","flex-shrink"]),R.addPropertiesHandler(V,function(ba,ca){return[ba,ca,function(da){return Math.round(U(1,1/0,da))}]},["orphans","widows"]),R.addPropertiesHandler(V,function(ba,ca){return[ba,ca,Math.round]},["z-index"]),R.parseNumber=V,R.parseNumberList=$,R.mergeNumbers=function(ba,ca){return[ba,ca,T]},R.numberToString=T}(N),function(R){R.addPropertiesHandler(String,function(U,V){if("visible"==U||"visible"==V)return[0,1,function(W){return 0>=W?U:1<=W?V:"visible"}]},["visibility"])}(N),function(R){function T(X){X=X.trim(),W.fillStyle="#000",W.fillStyle=X;var Y=W.fillStyle;if(W.fillStyle="#fff",W.fillStyle=X,Y==W.fillStyle){W.fillRect(0,0,1,1);var Z=W.getImageData(0,0,1,1).data;W.clearRect(0,0,1,1);var $=Z[3]/255;return[Z[0]*$,Z[1]*$,Z[2]*$,$]}}function U(X,Y){return[X,Y,function(Z){function $(aa){return Math.max(0,Math.min(255,aa))}if(Z[3])for(var _=0;3>_;_++)Z[_]=Math.round($(Z[_]/Z[3]));return Z[3]=R.numberToString(R.clamp(0,1,Z[3])),"rgba("+Z.join(",")+")"}]}var V=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");V.width=V.height=1;var W=V.getContext("2d");R.addPropertiesHandler(T,U,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),R.consumeColor=R.consumeParenthesised.bind(null,T),R.mergeColors=U}(N),function(R){function T(fa){function ga(){var na=ma.exec(fa);la=na?na[0]:void 0}function ha(){var na=+la;return ga(),na}function ia(){if("("!==la)return ha();ga();var na=ka();return")"===la?(ga(),na):NaN}function ja(){for(var oa,na=ia();"*"===la||"/"===la;){oa=la,ga();var pa=ia();"*"===oa?na*=pa:na/=pa}return na}function ka(){for(var oa,na=ja();"+"===la||"-"===la;){oa=la,ga();var pa=ja();"+"===oa?na+=pa:na-=pa}return na}var la,ma=/([\+\-\w\.]+|[\(\)\*\/])/g;return ga(),ka()}function U(fa,ga){if("0"==(ga=ga.trim().toLowerCase())&&0<="px".search(fa))return{px:0};if(/^[^(]*$|^calc/.test(ga)){ga=ga.replace(/calc\(/g,"(");var ha={};ga=ga.replace(fa,function(oa){return ha[oa]=null,"U"+oa});for(var ia="U("+fa.source+")",ja=ga.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+ia,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),ka=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],la=0;la<ka.length;)ka[la].test(ja)?(ja=ja.replace(ka[la],"$1"),la=0):la++;if("D"==ja){for(var ma in ha){var na=T(ga.replace(new RegExp("U"+ma,"g"),"").replace(new RegExp(ia,"g"),"*0"));if(!isFinite(na))return;ha[ma]=na}return ha}}}function V(fa,ga){return W(fa,ga,!0)}function W(fa,ga,ha){var ia,ja=[];for(ia in fa)ja.push(ia);for(ia in ga)0>ja.indexOf(ia)&&ja.push(ia);return fa=ja.map(function(ka){return fa[ka]||0}),ga=ja.map(function(ka){return ga[ka]||0}),[fa,ga,function(ka){var la=ka.map(function(ma,na){return 1==ka.length&&ha&&(ma=Math.max(ma,0)),R.numberToString(ma)+ja[na]}).join(" + ");return 1<ka.length?"calc("+la+")":la}]}var Y=U.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),Z=U.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),$=U.bind(null,/deg|rad|grad|turn/g);R.parseLength=Y,R.parseLengthOrPercent=Z,R.consumeLengthOrPercent=R.consumeParenthesised.bind(null,Z),R.parseAngle=$,R.mergeDimensions=W;var _=R.consumeParenthesised.bind(null,Y),aa=R.consumeRepeated.bind(void 0,_,/^/),ba=R.consumeRepeated.bind(void 0,aa,/^,/);R.consumeSizePairList=ba;var da=R.mergeNestedRepeated.bind(void 0,V," "),ea=R.mergeNestedRepeated.bind(void 0,da,",");R.mergeNonNegativeSizePair=da,R.addPropertiesHandler(function(fa){var ga=ba(fa);if(ga&&""==ga[1])return ga[0]},ea,["background-size"]),R.addPropertiesHandler(Z,V,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),R.addPropertiesHandler(Z,W,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(N),function(R){function T(Y){return R.consumeLengthOrPercent(Y)||R.consumeToken(/^auto/,Y)}function U(Y){var Z=R.consumeList([R.ignore(R.consumeToken.bind(null,/^rect/)),R.ignore(R.consumeToken.bind(null,/^\(/)),R.consumeRepeated.bind(null,T,/^,/),R.ignore(R.consumeToken.bind(null,/^\)/))],Y);if(Z&&4==Z[0].length)return Z[0]}var X=R.mergeWrappedNestedRepeated.bind(null,function(Y){return"rect("+Y+")"},function(Y,Z){return"auto"==Y||"auto"==Z?[!0,!1,function($){var _=$?Y:Z;if("auto"==_)return"auto";var aa=R.mergeDimensions(_,_);return aa[2](aa[0])}]:R.mergeDimensions(Y,Z)},", ");R.parseBox=U,R.mergeBoxes=X,R.addPropertiesHandler(U,X,["clip"])}(N),function(R){function T(da){return function(ea){var fa=0;return da.map(function(ga){return ga===_?ea[fa++]:ga})}}function U(da){return da}function V(da){if("none"==(da=da.toLowerCase().trim()))return[];for(var ea,fa=/\s*(\w+)\(([^)]*)\)/g,ga=[],ha=0;ea=fa.exec(da);){if(ea.index!=ha)return;ha=ea.index+ea[0].length;var ia=ea[1],ja=ca[ia];if(!ja)return;var ka=ea[2].split(","),la=ja[0];if(la.length<ka.length)return;for(var ma=[],na=0;na<la.length;na++){var oa,pa=ka[na],qa=la[na];if(void 0===(oa=pa?{A:function(ra){return"0"==ra.trim()?ba:R.parseAngle(ra)},N:R.parseNumber,T:R.parseLengthOrPercent,L:R.parseLength}[qa.toUpperCase()](pa):{a:ba,n:ma[0],t:aa}[qa]))return;ma.push(oa)}if(ga.push({t:ia,d:ma}),fa.lastIndex==da.length)return ga}}function W(da){return da.toFixed(6).replace(".000000","")}function X(da,ea){if(da.decompositionPair!==ea){da.decompositionPair=ea;var fa=R.makeMatrixDecomposition(da)}if(ea.decompositionPair!==da){ea.decompositionPair=da;var ga=R.makeMatrixDecomposition(ea)}return null==fa[0]||null==ga[0]?[[!1],[!0],function(ha){return ha?ea[0].d:da[0].d}]:(fa[0].push(0),ga[0].push(1),[fa,ga,function(ha){var ia=R.quat(fa[0][3],ga[0][3],ha[5]);return R.composeMatrix(ha[0],ha[1],ha[2],ia,ha[4]).map(W).join(",")}])}function Y(da){return da.replace(/[xy]/,"")}function Z(da){return da.replace(/(x|y|z|3d)?$/,"3d")}var _=null,aa={px:0},ba={deg:0},ca={matrix:["NNNNNN",[_,_,0,0,_,_,0,0,0,0,1,0,_,_,0,1],U],matrix3d:["NNNNNNNNNNNNNNNN",U],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",T([_,_,1]),U],scalex:["N",T([_,1,1]),T([_,1])],scaley:["N",T([1,_,1]),T([1,_])],scalez:["N",T([1,1,_])],scale3d:["NNN",U],skew:["Aa",null,U],skewx:["A",null,T([_,ba])],skewy:["A",null,T([ba,_])],translate:["Tt",T([_,_,aa]),U],translatex:["T",T([_,aa,aa]),T([_,aa])],translatey:["T",T([aa,_,aa]),T([aa,_])],translatez:["L",T([aa,aa,_])],translate3d:["TTL",U]};R.addPropertiesHandler(V,function(da,ea){var fa=R.makeMatrixDecomposition&&!0,ga=!1;if(!da.length||!ea.length){da.length||(ga=!0,da=ea,ea=[]);for(var ha=0;ha<da.length;ha++){var ia=da[ha].t,ja=da[ha].d,ka="scale"==ia.substr(0,5)?1:0;ea.push({t:ia,d:ja.map(function(Ca){if("number"==typeof Ca)return ka;var Da={};for(var Ea in Ca)Da[Ea]=ka;return Da})})}}var la=function(Ca,Da){return"perspective"==Ca&&"perspective"==Da||("matrix"==Ca||"matrix3d"==Ca)&&("matrix"==Da||"matrix3d"==Da)},ma=[],na=[],oa=[];if(da.length!=ea.length){if(!fa)return;var pa=X(da,ea);ma=[pa[0]],na=[pa[1]],oa=[["matrix",[pa[2]]]]}else for(var ha=0;ha<da.length;ha++){var ia,qa=da[ha].t,ra=ea[ha].t,sa=da[ha].d,ta=ea[ha].d,ua=ca[qa],va=ca[ra];if(la(qa,ra)){if(!fa)return;var pa=X([da[ha]],[ea[ha]]);ma.push(pa[0]),na.push(pa[1]),oa.push(["matrix",[pa[2]]])}else{if(qa==ra)ia=qa;else if(ua[2]&&va[2]&&Y(qa)==Y(ra))ia=Y(qa),sa=ua[2](sa),ta=va[2](ta);else{if(!ua[1]||!va[1]||Z(qa)!=Z(ra)){if(!fa)return;var pa=X(da,ea);ma=[pa[0]],na=[pa[1]],oa=[["matrix",[pa[2]]]];break}ia=Z(qa),sa=ua[1](sa),ta=va[1](ta)}for(var wa=[],xa=[],ya=[],za=0;za<sa.length;za++){var Aa="number"==typeof sa[za]?R.mergeNumbers:R.mergeDimensions,pa=Aa(sa[za],ta[za]);wa[za]=pa[0],xa[za]=pa[1],ya.push(pa[2])}ma.push(wa),na.push(xa),oa.push([ia,ya])}}if(ga){var Ba=ma;ma=na,na=Ba}return[ma,na,function(Ca){return Ca.map(function(Da,Ea){var Fa=Da.map(function(Ga,Ha){return oa[Ea][1][Ha](Ga)}).join(",");return"matrix"==oa[Ea][0]&&16==Fa.split(",").length&&(oa[Ea][0]="matrix3d"),oa[Ea][0]+"("+Fa+")"}).join(" ")}]},["transform"]),R.transformToSvgMatrix=function(da){var ea=R.transformListToMatrix(V(da));return"matrix("+W(ea[0])+" "+W(ea[1])+" "+W(ea[4])+" "+W(ea[5])+" "+W(ea[12])+" "+W(ea[13])+")"}}(N),function(R){function T(W,X){X.concat([W]).forEach(function(Y){Y in document.documentElement.style&&(U[W]=Y),V[Y]=W})}var U={},V={};T("transform",["webkitTransform","msTransform"]),T("transformOrigin",["webkitTransformOrigin"]),T("perspective",["webkitPerspective"]),T("perspectiveOrigin",["webkitPerspectiveOrigin"]),R.propertyName=function(W){return U[W]||W},R.unprefixedPropertyName=function(W){return V[W]||W}}(N)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var P;if(window.performance&&performance.now)var P=function(){return performance.now()};else var P=function(){return Date.now()};var Q=function(S,T,U){this.target=S,this.currentTime=T,this.timelineTime=U,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=S,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},R=window.Element.prototype.animate;window.Element.prototype.animate=function(S,T){var U=R.call(this,S,T);U._cancelHandlers=[],U.oncancel=null;var V=U.cancel;U.cancel=function(){V.call(this);var Y=new Q(this,null,P()),Z=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){Z.forEach(function($){$.call(Y.target,Y)})},0)};var W=U.addEventListener;U.addEventListener=function(Y,Z){"function"==typeof Z&&"cancel"==Y?this._cancelHandlers.push(Z):W.call(this,Y,Z)};var X=U.removeEventListener;return U.removeEventListener=function(Y,Z){if("cancel"==Y){var $=this._cancelHandlers.indexOf(Z);0<=$&&this._cancelHandlers.splice($,1)}else X.call(this,Y,Z)},U}}}(),function(P){var Q=document.documentElement,R=null,S=!1;try{var T=getComputedStyle(Q).getPropertyValue("opacity"),U="0"==T?"1":"0";R=Q.animate({opacity:[U,U]},{duration:1}),R.currentTime=0,S=getComputedStyle(Q).getPropertyValue("opacity")==U}catch(W){}finally{R&&R.cancel()}if(!S){var V=window.Element.prototype.animate;window.Element.prototype.animate=function(W,X){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&W[Symbol.iterator]&&(W=Array.from(W)),Array.isArray(W)||null===W||(W=P.convertToArrayForm(W)),V.call(this,W,X)}}}(M),function(P,Q){function S(W){var X=Q.timeline;X.currentTime=W,X._discardAnimations(),0==X._animations.length?U=!1:requestAnimationFrame(S)}var T=window.requestAnimationFrame;window.requestAnimationFrame=function(W){return T(function(X){Q.timeline._updateAnimationsPromises(),W(X),Q.timeline._updateAnimationsPromises()})},Q.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},Q.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){Q.animationsWithPromises=Q.animationsWithPromises.filter(function(W){return W._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(W){return"finished"!=W.playState&&"idle"!=W.playState})},_play:function(W){var X=new Q.Animation(W,this);return this._animations.push(X),Q.restartWebAnimationsNextTick(),X._updatePromises(),X._animation.play(),X._updatePromises(),X},play:function(W){return W&&W.remove(),this._play(W)}};var U=!1;Q.restartWebAnimationsNextTick=function(){U||(U=!0,requestAnimationFrame(S))};var V=new Q.AnimationTimeline;Q.timeline=V;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return V}})}catch(W){}try{window.document.timeline=V}catch(W){}}(0,O),function(P,Q){Q.animationsWithPromises=[],Q.Animation=function(S,T){if(this.id="",S&&S._id&&(this.id=S._id),this.effect=S,S&&(S._animation=this),!T)throw new Error("Animation with null timeline is not supported");this._timeline=T,this._sequenceNumber=P.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},Q.Animation.prototype={_updatePromises:function(){var S=this._oldPlayState,T=this.playState;return this._readyPromise&&T!==S&&("idle"==T?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==S?this._resolveReadyPromise():"pending"==T&&(this._readyPromise=void 0)),this._finishedPromise&&T!==S&&("idle"==T?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==T?this._resolveFinishedPromise():"finished"==S&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var S,T,U,V,W=!!this._animation;W&&(S=this.playbackRate,T=this._paused,U=this.startTime,V=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=Q.newUnderlyingAnimationForKeyframeEffect(this.effect),Q.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=Q.newUnderlyingAnimationForGroup(this.effect),Q.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&Q.bindAnimationForCustomEffect(this),W&&(1!=S&&(this.playbackRate=S),null===U?null===V?null!==this._holdTime&&(this.currentTime=this._holdTime):this.currentTime=V:this.startTime=U,T&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var S=this.effect._timing.delay;this._childAnimations.forEach(function(T){this._arrangeChildren(T,S),this.effect instanceof window.SequenceEffect&&(S+=Q.groupChildDuration(T.effect))}.bind(this))}},_setExternalAnimation:function(S){if(this.effect&&this._isGroup)for(var T=0;T<this.effect.children.length;T++)this.effect.children[T]._animation=S,this._childAnimations[T]._setExternalAnimation(S)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var S=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(T){var U=Q.timeline._play(T);this._childAnimations.push(U),U.playbackRate=this.playbackRate,this._paused&&U.pause(),T._animation=this.effect._animation,this._arrangeChildren(U,S),this.effect instanceof window.SequenceEffect&&(S+=Q.groupChildDuration(T))}.bind(this))}},_arrangeChildren:function(S,T){null===this.startTime?S.currentTime=this.currentTime-T/this.playbackRate:S.startTime!==this.startTime+T/this.playbackRate&&(S.startTime=this.startTime+T/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==Q.animationsWithPromises.indexOf(this)&&Q.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(S,T){this._resolveFinishedPromise=function(){S(this)},this._rejectFinishedPromise=function(){T({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==Q.animationsWithPromises.indexOf(this)&&Q.animationsWithPromises.push(this),this._readyPromise=new Promise(function(S,T){this._resolveReadyPromise=function(){S(this)},this._rejectReadyPromise=function(){T({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(S){this._animation.onfinish="function"==typeof S?function(T){T.target=this,S.call(this,T)}.bind(this):S},get oncancel(){return this._animation.oncancel},set oncancel(S){this._animation.oncancel="function"==typeof S?function(T){T.target=this,S.call(this,T)}.bind(this):S},get currentTime(){this._updatePromises();var S=this._animation.currentTime;return this._updatePromises(),S},set currentTime(S){this._updatePromises(),this._animation.currentTime=isFinite(S)?S:Math.sign(S)*Number.MAX_VALUE,this._register(),this._forEachChild(function(T,U){T.currentTime=S-U}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(S){this._updatePromises(),this._animation.startTime=isFinite(S)?S:Math.sign(S)*Number.MAX_VALUE,this._register(),this._forEachChild(function(T,U){T.startTime=S+U}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(S){this._updatePromises();var T=this.currentTime;this._animation.playbackRate=S,this._forEachChild(function(U){U.playbackRate=S}),null!==T&&(this.currentTime=T),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),Q.awaitStartTime(this),this._forEachChild(function(S){var T=S.currentTime;S.play(),S.currentTime=T}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(S){S.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var S=this.currentTime;this._animation.reverse(),this._forEachChild(function(T){T.reverse()}),null!==S&&(this.currentTime=S),this._updatePromises()},addEventListener:function(S,T){var U=T;"function"==typeof T&&(U=function(V){V.target=this,T.call(this,V)}.bind(this),T._wrapper=U),this._animation.addEventListener(S,U)},removeEventListener:function(S,T){this._animation.removeEventListener(S,T&&T._wrapper||T)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(S){var T=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(W){S.call(this,W,T),this.effect instanceof window.SequenceEffect&&(T+=W.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var U=this.effect._timing,V=this.currentTime;null!==V&&(V=P.calculateIterationProgress(P.calculateActiveDuration(U),V,U)),(null==V||isNaN(V))&&this._removeChildAnimations()}}},window.Animation=Q.Animation}(M,O),function(P,Q){function S(Z){this._frames=P.normalizeKeyframes(Z)}function T(){for(var Z=!1;X.length;)X.shift()._updateChildren(),Z=!0;return Z}var U=function(Z){if(Z._animation=void 0,Z instanceof window.SequenceEffect||Z instanceof window.GroupEffect)for(var $=0;$<Z.children.length;$++)U(Z.children[$])};Q.removeMulti=function(Z){for(var aa,$=[],_=0;_<Z.length;_++)aa=Z[_],aa._parent?(-1==$.indexOf(aa._parent)&&$.push(aa._parent),aa._parent.children.splice(aa._parent.children.indexOf(aa),1),aa._parent=null,U(aa)):aa._animation&&aa._animation.effect==aa&&(aa._animation.cancel(),aa._animation.effect=new KeyframeEffect(null,[]),aa._animation._callback&&(aa._animation._callback._animation=null),aa._animation._rebuildUnderlyingAnimation(),U(aa));for(_=0;_<$.length;_++)$[_]._rebuild()},Q.KeyframeEffect=function(Z,$,_,aa){return this.target=Z,this._parent=null,_=P.numericTimingToObject(_),this._timingInput=P.cloneTimingInput(_),this._timing=P.normalizeTimingInput(_),this.timing=P.makeTiming(_,!1,this),this.timing._effect=this,"function"==typeof $?(P.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=$):this._normalizedKeyframes=new S($),this._keyframes=$,this.activeDuration=P.calculateActiveDuration(this._timing),this._id=aa,this},Q.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(Z){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=Z,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var Z=new KeyframeEffect(this.target,[],P.cloneTimingInput(this._timingInput),this._id);return Z._normalizedKeyframes=this._normalizedKeyframes,Z._keyframes=this._keyframes,Z},remove:function(){Q.removeMulti([this])}};var V=Element.prototype.animate;Element.prototype.animate=function(Z,$){var _="";return $&&$.id&&(_=$.id),Q.timeline._play(new Q.KeyframeEffect(this,Z,$,_))};var W=document.createElementNS("http://www.w3.org/1999/xhtml","div");Q.newUnderlyingAnimationForKeyframeEffect=function(Z){if(Z){var $=Z.target||W,_=Z._keyframes;"function"==typeof _&&(_=[]);var aa=Z._timingInput;aa.id=Z._id}else var $=W,_=[],aa=0;return V.apply($,[_,aa])},Q.bindAnimationForKeyframeEffect=function(Z){Z.effect&&"function"==typeof Z.effect._normalizedKeyframes&&Q.bindAnimationForCustomEffect(Z)};var X=[];Q.awaitStartTime=function(Z){null===Z.startTime&&Z._isGroup&&(0==X.length&&requestAnimationFrame(T),X.push(Z))};var Y=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){Q.timeline._updateAnimationsPromises();var Z=Y.apply(this,arguments);return T()&&(Z=Y.apply(this,arguments)),Q.timeline._updateAnimationsPromises(),Z}}),window.KeyframeEffect=Q.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(Z){return null!==Z.effect&&Z.effect.target==this}.bind(this))}}(M,O),function(P,Q){function S(X){X._registered||(X._registered=!0,V.push(X),W||(W=!0,requestAnimationFrame(T)))}function T(){var Y=V;V=[],Y.sort(function(Z,$){return Z._sequenceNumber-$._sequenceNumber}),Y=Y.filter(function(Z){Z();var $=Z._animation?Z._animation.playState:"idle";return"running"!=$&&"pending"!=$&&(Z._registered=!1),Z._registered}),V.push.apply(V,Y),V.length?(W=!0,requestAnimationFrame(T)):W=!1}var U=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);Q.bindAnimationForCustomEffect=function(X){var Y,Z=X.effect.target,$="function"==typeof X.effect.getFrames();Y=$?X.effect.getFrames():X.effect._onsample;var _=X.effect.timing,aa=null;_=P.normalizeTimingInput(_);var ba=function(){var ca=ba._animation?ba._animation.currentTime:null;null!==ca&&(ca=P.calculateIterationProgress(P.calculateActiveDuration(_),ca,_),isNaN(ca)&&(ca=null)),ca!==aa&&($?Y(ca,Z,X.effect):Y(ca,X.effect,X.effect._animation)),aa=ca};ba._animation=X,ba._registered=!1,ba._sequenceNumber=U++,X._callback=ba,S(ba)};var V=[],W=!1;Q.Animation.prototype._register=function(){this._callback&&S(this._callback)}}(M,O),function(P,Q){function S(U){return U._timing.delay+U.activeDuration+U._timing.endDelay}function T(U,V,W){this._id=W,this._parent=null,this.children=U||[],this._reparent(this.children),V=P.numericTimingToObject(V),this._timingInput=P.cloneTimingInput(V),this._timing=P.normalizeTimingInput(V,!0),this.timing=P.makeTiming(V,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){T.apply(this,arguments)},window.GroupEffect=function(){T.apply(this,arguments)},T.prototype={_isAncestor:function(U){for(var V=this;null!==V;){if(V==U)return!0;V=V._parent}return!1},_rebuild:function(){for(var U=this;U;)"auto"===U.timing.duration&&(U._timing.duration=U.activeDuration),U=U._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(U){Q.removeMulti(U);for(var V=0;V<U.length;V++)U[V]._parent=this},_putChild:function(U,V){for(var W=V?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",X=0;X<U.length;X++)if(this._isAncestor(U[X]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:W};for(var X=0;X<U.length;X++)V?this.children.push(U[X]):this.children.unshift(U[X]);this._reparent(U),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var U=P.cloneTimingInput(this._timingInput),V=[],W=0;W<this.children.length;W++)V.push(this.children[W].clone());return this instanceof GroupEffect?new GroupEffect(V,U):new SequenceEffect(V,U)},remove:function(){Q.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(T.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var U=0;return this.children.forEach(function(V){U+=S(V)}),Math.max(U,0)}}),window.GroupEffect.prototype=Object.create(T.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var U=0;return this.children.forEach(function(V){U=Math.max(U,S(V))}),U}}),Q.newUnderlyingAnimationForGroup=function(U){var V,W=null,Y=new KeyframeEffect(null,[],U._timing,U._id);return Y.onsample=function(Z){var $=V._wrapper;if($&&"pending"!=$.playState&&$.effect)return null==Z?void $._removeChildAnimations():0==Z&&0>$.playbackRate&&(W||(W=P.normalizeTimingInput($.effect.timing)),Z=P.calculateIterationProgress(P.calculateActiveDuration(W),-1,W),isNaN(Z)||null==Z)?($._forEachChild(function(_){_.currentTime=-1}),void $._removeChildAnimations()):void 0},V=Q.timeline._play(Y)},Q.bindAnimationForGroup=function(U){U._animation._wrapper=U,U._isGroup=!0,Q.awaitStartTime(U),U._constructChildAnimations(),U._setExternalAnimation(U)},Q.groupChildDuration=S}(M,O),L.true=K}({},function(){return this}());</script><script>Polymer({is:'iron-media-query',properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:'queryChanged'},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display='none',this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var a=this.query;a&&(!this.full&&'('!==a[0]&&(a='('+a+')'),this._mq=window.matchMedia(a),this._add(),this.queryHandler(this._mq))},queryHandler:function(a){this._setQueryMatches(a.matches)}});</script><dom-module id="paper-drawer-panel" assetpath="bower_components/paper-drawer-panel/"><template><style>:host{display:block;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;}#drawer{position:absolute;top:0;left:0;height:100%;background-color:white;-moz-box-sizing:border-box;box-sizing:border-box;@apply --paper-drawer-panel-drawer-container;}.transition-drawer{transition:-webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;transition:transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;}.left-drawer > #drawer{@apply --paper-drawer-panel-left-drawer-container;}.right-drawer > #drawer{left:auto;right:0;@apply --paper-drawer-panel-right-drawer-container;}#main{position:absolute;top:0;right:0;bottom:0;@apply --paper-drawer-panel-main-container;}.transition > #main{transition:left ease-in-out 0.3s, padding ease-in-out 0.3s;}.right-drawer > #main{left:0;}.right-drawer.transition > #main{transition:right ease-in-out 0.3s, padding ease-in-out 0.3s;}#main > ::slotted(*){height:100%;}#drawer > ::slotted(*){height:100%;}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;visibility:hidden;opacity:0;transition:opacity ease-in-out 0.38s, visibility ease-in-out 0.38s;background-color:rgba(0, 0, 0, 0.3);@apply --paper-drawer-panel-scrim;}.narrow-layout > #drawer{will-change:transform;}.narrow-layout > #drawer.iron-selected{box-shadow:2px 2px 4px rgba(0, 0, 0, 0.15);}.right-drawer.narrow-layout > #drawer.iron-selected{box-shadow:-2px 2px 4px rgba(0, 0, 0, 0.15);}.narrow-layout > #drawer > ::slotted(*){border:0;}.left-drawer.narrow-layout > #drawer:not(.iron-selected){visibility:hidden;-webkit-transform:translateX(-100%);transform:translateX(-100%);}.right-drawer.narrow-layout > #drawer:not(.iron-selected){left:auto;visibility:hidden;-webkit-transform:translateX(100%);transform:translateX(100%);}.left-drawer.dragging > #drawer:not(.iron-selected),
      .left-drawer.peeking > #drawer:not(.iron-selected),
      .right-drawer.dragging > #drawer:not(.iron-selected),
      .right-drawer.peeking > #drawer:not(.iron-selected){visibility:visible;}.narrow-layout > #main{padding:0;}.right-drawer.narrow-layout > #main{left:0;right:0;}.narrow-layout > #main:not(.iron-selected) > #scrim,
      .dragging > #main > #scrim{visibility:visible;opacity:var(--paper-drawer-panel-scrim-opacity, 1);}.narrow-layout > #main > *{margin:0;min-height:100%;left:0;right:0;-moz-box-sizing:border-box;box-sizing:border-box;}</style><iron-media-query id="mq" on-query-matches-changed="_onQueryMatchesChanged" query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]"></iron-media-query><iron-selector attr-for-selected="id" class$="[[_computeIronSelectorClass(narrow, _transition, dragging, rightDrawer, peeking)]]" on-transitionend="_onTransitionEnd" activate-event="" selected="[[selected]]"><div id="main" style$="[[_computeMainStyle(narrow, rightDrawer, drawerWidth)]]"><slot name="main"></slot><div id="scrim" on-tap="closeDrawer"></div></div><div id="drawer" style$="[[_computeDrawerStyle(drawerWidth)]]"><slot id="drawerSlot" name="drawer"></slot></div></iron-selector></template><script>(function(){'use strict';function a(c){var d=[];for(var f in c)c.hasOwnProperty(f)&&c[f]&&d.push(f);return d.join(' ')}var b=null;Polymer({is:'paper-drawer-panel',behaviors:[Polymer.IronResizableBehavior],properties:{defaultSelected:{type:String,value:'main'},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:'256px'},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return'transform'in this.style}},hasWillChange:{type:Boolean,value:function(){return'willChange'in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:'768px'},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerFocusSelector:{type:String,value:'a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'},_transition:{type:Boolean,value:!1}},listeners:{tap:'_onTap',track:'_onTrack',down:'_downHandler',up:'_upHandler'},observers:['_forceNarrowChanged(forceNarrow, defaultSelected)','_toggleFocusListener(selected)'],ready:function(){this._transition=!0,this._boundFocusListener=this._didFocus.bind(this),console.warn(this.is,'is deprecated. Please use app-layout instead!')},togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){requestAnimationFrame(function(){this.toggleClass('transition-drawer',!0,this.$.drawer),this.selected='drawer'}.bind(this))},closeDrawer:function(){requestAnimationFrame(function(){this.toggleClass('transition-drawer',!0,this.$.drawer),this.selected='main'}.bind(this))},_onTransitionEnd:function(c){var d=Polymer.dom(c).localTarget;if(d===this.$.drawer&&(('left'===c.propertyName||'right'===c.propertyName)&&this.notifyResize(),'transform'===c.propertyName&&(requestAnimationFrame(function(){this.toggleClass('transition-drawer',!1,this.$.drawer)}.bind(this)),'drawer'===this.selected))){var f=this._getAutoFocusedNode();f&&f.focus()}},_computeIronSelectorClass:function(c,d,f,g,h){return a({dragging:f,"narrow-layout":c,"right-drawer":g,"left-drawer":!g,transition:d,peeking:h})},_computeDrawerStyle:function(c){return'width:'+c+';'},_computeMainStyle:function(c,d,f){var g='';return g+='left:'+(c||d?'0':f)+';',d&&(g+='right:'+(c?'':f)+';'),g},_computeMediaQuery:function(c,d){return c?'':'(max-width: '+d+')'},_computeSwipeOverlayHidden:function(c,d){return!c||d},_onTrack:function(c){if(!(b&&this!==b))switch(c.detail.state){case'start':this._trackStart(c);break;case'track':this._trackX(c);break;case'end':this._trackEnd(c);}},_responsiveChange:function(c){this._setNarrow(c),this.selected=this.narrow?this.defaultSelected:null,this.setScrollDirection(this._swipeAllowed()?'y':'all'),this.fire('paper-responsive-change',{narrow:this.narrow})},_onQueryMatchesChanged:function(c){this._responsiveChange(c.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return'main'===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(c){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(c)&&!b&&(this._startEdgePeek(),c.preventDefault(),b=this)},_upHandler:function(){this._stopEdgePeek(),b=null},_onTap:function(c){var d=Polymer.dom(c).localTarget,f=d&&this.drawerToggleAttribute&&d.hasAttribute(this.drawerToggleAttribute);f&&this.togglePanel()},_isEdgeTouch:function(c){var d=c.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?d>=this.offsetWidth-this.edgeSwipeSensitivity:d<=this.edgeSwipeSensitivity)},_trackStart:function(c){this._swipeAllowed()&&(b=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(c)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this._transition=!1))},_translateXForDeltaX:function(c){var d=this._isMainSelected();return this.rightDrawer?Math.max(0,d?this.width+c:c):Math.min(0,d?c-this.width:c)},_trackX:function(c){if(this.dragging){var d=c.detail.dx;if(this.peeking){if(Math.abs(d)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(d))}},_trackEnd:function(c){if(this.dragging){var d=0<c.detail.dx;this._setDragging(!1),this._transition=!0,b=null,this._moveDrawer(null),this.rightDrawer?this[d?'closeDrawer':'openDrawer']():this[d?'openDrawer':'closeDrawer']()}},_transformForTranslateX:function(c){return null===c?'':this.hasWillChange?'translateX('+c+'px)':'translate3d('+c+'px, 0, 0)'},_moveDrawer:function(c){this.transform(this._transformForTranslateX(c),this.$.drawer)},_getDrawerSlot:function(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},_getAutoFocusedNode:function(){return this.drawerFocusSelector?Polymer.dom(this._getDrawerSlot()).querySelector(this.drawerFocusSelector):null},_toggleFocusListener:function(c){'drawer'===c?this.addEventListener('focus',this._boundFocusListener,!0):this.removeEventListener('focus',this._boundFocusListener,!0)},_didFocus:function(c){var d=this._getAutoFocusedNode();if(d){var f=Polymer.dom(c).path,g=f[0],h=this._getDrawerSlot(),i=-1!==f.indexOf(h);i||(c.stopPropagation(),d.focus())}},_isDrawerClosed:function(c,d){return!c||'drawer'!==d}})})();</script></dom-module><dom-module id="paper-fab" assetpath="bower_components/paper-fab/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-vertical;@apply --layout-center-center;background:var(--paper-fab-background, var(--accent-color));border-radius:50%;box-sizing:border-box;color:var(--text-primary-color);cursor:pointer;height:56px;min-width:0;outline:none;padding:16px;position:relative;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;width:56px;z-index:0;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;@apply --paper-fab;}[hidden]{display:none !important;}:host([mini]){width:40px;height:40px;padding:8px;@apply --paper-fab-mini;}:host([disabled]){color:var(--paper-fab-disabled-text, var(--paper-grey-500));background:var(--paper-fab-disabled-background, var(--paper-grey-300));@apply --paper-fab-disabled;}iron-icon{@apply --paper-fab-iron-icon;}span{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;@apply --paper-fab-label;}:host(.keyboard-focus){background:var(--paper-fab-keyboard-focus-background, var(--paper-pink-900));}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><iron-icon id="icon" hidden$="{{!_computeIsIconFab(icon, src)}}" src="[[src]]" icon="[[icon]]"></iron-icon><span hidden$="{{_computeIsIconFab(icon, src)}}">{{label}}</span></template><script>Polymer({is:'paper-fab',behaviors:[Polymer.PaperButtonBehavior],properties:{src:{type:String,value:''},icon:{type:String,value:''},mini:{type:Boolean,value:!1,reflectToAttribute:!0},label:{type:String,observer:'_labelChanged'}},_labelChanged:function(){this.setAttribute('aria-label',this.label)},_computeIsIconFab:function(a,b){return 0<a.length||0<b.length}});</script></dom-module><dom-module id="paper-header-panel" assetpath="bower_components/paper-header-panel/"><template><style>:host{@apply --layout-vertical;position:relative;height:100%;@apply --paper-header-panel;}#mainContainer{@apply --layout-flex;position:relative;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;}#mainPanel{@apply --layout-vertical;@apply --layout-flex;position:relative;min-height:0;@apply --paper-header-panel-body;}#mainContainer{@apply --paper-header-panel-container;}:host([mode=scroll]) #mainContainer{@apply --paper-header-panel-scroll-container;overflow:visible;}:host([mode=scroll]){overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;}:host([mode=cover]) #mainContainer{@apply --paper-header-panel-cover-container;position:absolute;top:0;right:0;bottom:0;left:0;}:host([mode=cover]) #mainPanel{position:static;}:host([mode=standard]) #mainContainer{@apply --paper-header-panel-standard-container;}:host([mode=seamed]) #mainContainer{@apply --paper-header-panel-seamed-container;}:host([mode=waterfall]) #mainContainer{@apply --paper-header-panel-waterfall-container;}:host([mode=waterfall-tall]) #mainContainer{@apply --paper-header-panel-waterfall-tall-container;}#dropShadow{transition:opacity 0.5s;height:6px;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);@apply --paper-header-panel-shadow;position:absolute;top:0;left:0;right:0;opacity:0;pointer-events:none;}#dropShadow.has-shadow{opacity:1;}#mainContainer > ::slotted(.fit){@apply --layout-fit;}</style><slot id="headerSlot" name="header"></slot><div id="mainPanel"><div id="mainContainer" class$="[[_computeMainContainerClass(mode)]]"><slot></slot></div><div id="dropShadow"></div></div></template><script>(function(){'use strict';var a=1,b=2,c={outerScroll:{scroll:!0},shadowMode:{standard:b,waterfall:a,"waterfall-tall":a},tallMode:{"waterfall-tall":!0}};Polymer({is:'paper-header-panel',properties:{mode:{type:String,value:'standard',observer:'_modeChanged',reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:'tall'},atTop:{type:Boolean,value:!0,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:['_computeDropShadowHidden(atTop, mode, shadow)'],attached:function(){this._addListener(),this._keepScrollingState()},detached:function(){this._removeListener()},ready:function(){this.scrollHandler=this._scroll.bind(this),console.warn(this.is,'is deprecated. Please use app-layout instead!')},get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.$.dropShadow.classList.contains('has-shadow')},_computeDropShadowHidden:function(d,e){var g=c.shadowMode[e];this.shadow?this.toggleClass('has-shadow',!0,this.$.dropShadow):g===b?this.toggleClass('has-shadow',!0,this.$.dropShadow):g!==a||d?this.toggleClass('has-shadow',!1,this.$.dropShadow):this.toggleClass('has-shadow',!0,this.$.dropShadow)},_computeMainContainerClass:function(d){var e={flex:'cover'!==d};return Object.keys(e).filter(function(f){return e[f]}).join(' ')},_addListener:function(){this.scroller.addEventListener('scroll',this.scrollHandler)},_removeListener:function(){this.scroller.removeEventListener('scroll',this.scrollHandler)},_modeChanged:function(d,e){var f=c,g=this.header;g&&(f.tallMode[e]&&!f.tallMode[d]?(g.classList.remove(this.tallClass),this.async(function(){g.classList.remove('animate')},200)):this.toggleClass('animate',f.tallMode[d],g)),this._keepScrollingState()},_keepScrollingState:function(){var d=this.scroller,e=this.header;this._setAtTop(0===d.scrollTop),e&&this.tallClass&&c.tallMode[this.mode]&&this.toggleClass(this.tallClass,this.atTop||e.classList.contains(this.tallClass)&&d.scrollHeight<this.offsetHeight,e)},_scroll:function(){this._keepScrollingState(),this.fire('content-scroll',{target:this.scroller},{bubbles:!1})},_getScrollerForMode:function(d){return c.outerScroll[d]?this:this.$.mainContainer}})})();</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:'option',tabindex:'0'}},Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><dom-module id="paper-item-shared-styles" assetpath="bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="bower_components/paper-item/"><template><style include="paper-item-shared-styles"></style><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:'paper-item',behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:'_focusedItemChanged',readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:'_disabledChanged'}},_MODIFIER_KEYS:['Alt','AltGraph','CapsLock','Control','Fn','FnLock','Hyper','Meta','NumLock','OS','ScrollLock','Shift','Super','Symbol','SymbolLock'],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:'menu'},observers:['_updateMultiselectable(multi)'],listeners:{focus:'_onFocus',keydown:'_onKeydown',"iron-items-changed":'_onIronItemsChanged'},keyBindings:{up:'_onUpKey',down:'_onDownKey',esc:'_onEscKey',"shift+tab:keydown":'_onShiftTabDown'},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute('disabled')||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute('tabindex',b===a?'0':'-1')},this)},_updateMultiselectable:function(a){a?this.setAttribute('aria-multiselectable','true'):this.removeAttribute('aria-multiselectable')},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer('_clearSearchText');var b=this._searchText||'',c=a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode);b+=c.toLocaleLowerCase();for(var f,d=b.length,e=0;f=this.items[e];e++)if(!f.hasAttribute('disabled')){var g=this.attrForItemTitle||'textContent',h=(f[g]||f.getAttribute(g)||'').trim();if(!(h.length<d)&&h.slice(0,d).toLocaleLowerCase()==b){this._setFocusedItem(f);break}}this._searchText=b,this.debounce('_clearSearchText',this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=''},_focusPrevious:function(){for(var d,a=this.items.length,b=+this.indexOf(this.focusedItem),c=1;c<a+1;c++)if(d=this.items[(b-c+a)%a],!d.hasAttribute('disabled')){var e=Polymer.dom(d).getOwnerRoot()||document;if(this._setFocusedItem(d),Polymer.dom(e).activeElement==d)return}},_focusNext:function(){for(var d,a=this.items.length,b=+this.indexOf(this.focusedItem),c=1;c<a+1;c++)if(d=this.items[(b+c)%a],!d.hasAttribute('disabled')){var e=Polymer.dom(d).getOwnerRoot()||document;if(this._setFocusedItem(d),Polymer.dom(e).activeElement==d)return}},_applySelection:function(a,b){b?a.setAttribute('aria-selected','true'):a.removeAttribute('aria-selected'),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute('tabindex','-1'),!a||a.hasAttribute('disabled')||this.disabled||(a.setAttribute('tabindex','0'),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var b=this.getAttribute('tabindex');Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',b),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){if(!Polymer.IronMenuBehaviorImpl._shiftTabPressed){var b=Polymer.dom(a).rootTarget;(b===this||'undefined'===typeof b.tabIndex||this.isLightDescendant(b))&&(this._defaultFocusAsync=this.async(function(){var c=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),c?this._setFocusedItem(c):this.items[0]&&this._focusNext()}))}},_onUpKey:function(a){this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var b=this.focusedItem;b&&b.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down esc')||this._focusWithKeyboardEvent(a),a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a),a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute('tabindex')?this.tabIndex:0,this.removeAttribute('tabindex')):!this.hasAttribute('tabindex')&&this.setAttribute('tabindex',this._previousTabIndex)}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><dom-module id="paper-listbox" assetpath="bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:'paper-listbox',behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:'listbox'}})})();</script></dom-module><script>(function(){'use strict';var a={pageX:0,pageY:0},b=null,c=[],d=['wheel','mousewheel','DOMMouseScroll','touchstart','touchmove'];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(e){var f=this.currentLockingElement;if(void 0===f)return!1;var g;return!!this._hasCachedLockedElement(e)||!this._hasCachedUnlockedElement(e)&&(g=!!f&&f!==e&&!this._composedTreeContains(f,e),g?this._lockedElementCache.push(e):this._unlockedElementCache.push(e),g)},pushScrollLock:function(e){0<=this._lockingElements.indexOf(e)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(e),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(e){var f=this._lockingElements.indexOf(e);-1===f||(this._lockingElements.splice(f,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(e){return-1<this._lockedElementCache.indexOf(e)},_hasCachedUnlockedElement:function(e){return-1<this._unlockedElementCache.indexOf(e)},_composedTreeContains:function(e,f){var g,h,j,k;if(e.contains(f))return!0;for(g=Polymer.dom(e).querySelectorAll('content,slot'),j=0;j<g.length;++j)for(h=Polymer.dom(g[j]).getDistributedNodes(),k=0;k<h.length;++k)if(h[k].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(h[k],f))return!0;return!1},_scrollInteractionHandler:function(e){if(e.cancelable&&this._shouldPreventScrolling(e)&&e.preventDefault(),e.targetTouches){var f=e.targetTouches[0];a.pageX=f.pageX,a.pageY=f.pageY}},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var e=0,f=d.length;e<f;e++)document.addEventListener(d[e],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var e=0,f=d.length;e<f;e++)document.removeEventListener(d[e],this._boundScrollHandler,{capture:!0,passive:!1})},_shouldPreventScrolling:function(e){var f=Polymer.dom(e).rootTarget;if('touchmove'!==e.type&&b!==f&&(b=f,c=this._getScrollableNodes(Polymer.dom(e).path)),!c.length)return!0;if('touchstart'===e.type)return!1;var g=this._getScrollInfo(e);return!this._getScrollingNode(c,g.deltaX,g.deltaY)},_getScrollableNodes:function(e){for(var f=[],g=e.indexOf(this.currentLockingElement),h=0;h<=g;h++)if(e[h].nodeType===Node.ELEMENT_NODE){var j=e[h],k=j.style;'scroll'!==k.overflow&&'auto'!==k.overflow&&(k=window.getComputedStyle(j)),('scroll'===k.overflow||'auto'===k.overflow)&&f.push(j)}return f},_getScrollingNode:function(e,f,g){if(f||g)for(var h=Math.abs(g)>=Math.abs(f),j=0;j<e.length;j++){var k=e[j],m=!1;if(m=h?0>g?0<k.scrollTop:k.scrollTop<k.scrollHeight-k.clientHeight:0>f?0<k.scrollLeft:k.scrollLeft<k.scrollWidth-k.clientWidth,m)return k}},_getScrollInfo:function(e){var f={deltaX:e.deltaX,deltaY:e.deltaY};if('deltaX'in e);else if('wheelDeltaX'in e)f.deltaX=-e.wheelDeltaX,f.deltaY=-e.wheelDeltaY;else if('axis'in e)f.deltaX=1===e.axis?e.detail:0,f.deltaY=2===e.axis?e.detail:0;else if(e.targetTouches){var g=e.targetTouches[0];f.deltaX=a.pageX-g.pageX,f.deltaY=a.pageY-g.pageY}return f}}})();</script><dom-module id="iron-dropdown" assetpath="bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){'use strict';Polymer({is:'iron-dropdown',behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:'left',reflectToAttribute:!0},verticalAlign:{type:String,value:'top',reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},observers:['_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)'],get containedElement(){for(var a=Polymer.dom(this.$.content).getDistributedNodes(),b=0,c=a.length;b<c;b++)if(a[b].nodeType===Node.ELEMENT_NODE)return a[b]},ready:function(){this._scrollTop=0,this._scrollLeft=0,this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation(),document.removeEventListener('scroll',this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener('scroll',this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):(document.removeEventListener('scroll',this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add('animating'),this.playAnimation('open')):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add('animating'),this.playAnimation('close')):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove('animating'),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}})})();</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:'cubic-bezier(0.4, 0, 0.2, 1)',fill:'both'}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn('No web animations detected. This element will not function without a web animations polyfill.')},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var f,d={transform:['webkitTransform'],transformOrigin:['mozTransformOrigin','webkitTransformOrigin']},e=d[b],g=0;f=e[g];g++)a.style[f]=c;a.style[b]=c},complete:function(){}};</script><script>Polymer({is:'fade-in-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;return this._effect=new KeyframeEffect(b,[{opacity:'0'},{opacity:'1'}],this.timingFromConfig(a)),this._effect}});</script><script>Polymer({is:'fade-out-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;return this._effect=new KeyframeEffect(b,[{opacity:'1'},{opacity:'0'}],this.timingFromConfig(a)),this._effect}});</script><script>Polymer({is:'paper-menu-grow-height-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.height;return this._effect=new KeyframeEffect(b,[{height:d/2+'px'},{height:d+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-grow-width-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.width;return this._effect=new KeyframeEffect(b,[{width:d/2+'px'},{width:d+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-shrink-width-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.width;return this._effect=new KeyframeEffect(b,[{width:d+'px'},{width:d-d/20+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-shrink-height-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.height,e=c.top;return this.setPrefixedProperty(b,'transformOrigin','0 0'),this._effect=new KeyframeEffect(b,[{height:d+'px',transform:'translateY(0)'},{height:d/2+'px',transform:'translateY(-20px)'}],this.timingFromConfig(a)),this._effect}});</script><dom-module id="paper-menu-button" assetpath="bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){'use strict';var a={ANIMATION_CUBIC_BEZIER:'cubic-bezier(.3,.95,.5,1)',MAX_ANIMATION_TIME_MS:400},b=Polymer({is:'paper-menu-button',behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'},horizontalAlign:{type:String,value:'left',reflectToAttribute:!0},verticalAlign:{type:String,value:'top',reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:'fade-in-animation',timing:{delay:100,duration:200}},{name:'paper-menu-grow-width-animation',timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:'paper-menu-grow-height-animation',timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:'fade-out-animation',timing:{duration:150}},{name:'paper-menu-shrink-width-animation',timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:'paper-menu-shrink-height-animation',timing:{duration:200,easing:'ease-in'}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:'group',"aria-haspopup":'true'},listeners:{"iron-activate":'_onIronActivate',"iron-select":'_onIronSelect'},get contentElement(){for(var c=Polymer.dom(this.$.content).getDistributedNodes(),d=0,e=c.length;d<e;d++)if(c[d].nodeType===Node.ELEMENT_NODE)return c[d]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(c,d){c?(this._dropdownContent=this.contentElement,this.fire('paper-dropdown-open')):null!=d&&this.fire('paper-dropdown-close')},_disabledChanged:function(c){Polymer.IronControlState._disabledChanged.apply(this,arguments),c&&this.opened&&this.close()},__onIronOverlayCanceled:function(c){var d=c.detail,e=Polymer.dom(d).rootTarget,f=this.$.trigger,g=Polymer.dom(d).path;-1<g.indexOf(f)&&c.preventDefault()}});Object.keys(a).forEach(function(c){b[c]=a[c]}),Polymer.PaperMenuButton=b})();</script></dom-module><dom-module id="paper-toolbar" assetpath="bower_components/paper-toolbar/"><template><style>:host{--calculated-paper-toolbar-height:var(--paper-toolbar-height, 64px);--calculated-paper-toolbar-sm-height:var(--paper-toolbar-sm-height, 56px);display:block;position:relative;box-sizing:border-box;-moz-box-sizing:border-box;height:var(--calculated-paper-toolbar-height);background:var(--paper-toolbar-background, var(--primary-color));color:var(--paper-toolbar-color, var(--dark-theme-text-color));@apply --paper-toolbar;}:host(.animate){transition:var(--paper-toolbar-transition, height 0.18s ease-in);}:host(.medium-tall){height:calc(var(--calculated-paper-toolbar-height) * 2);@apply --paper-toolbar-medium;}:host(.tall){height:calc(var(--calculated-paper-toolbar-height) * 3);@apply --paper-toolbar-tall;}.toolbar-tools{position:relative;height:var(--calculated-paper-toolbar-height);padding:0 16px;pointer-events:none;@apply --layout-horizontal;@apply --layout-center;@apply --paper-toolbar-content;}@media (max-width: 600px){:host{height:var(--calculated-paper-toolbar-sm-height);}:host(.medium-tall){height:calc(var(--calculated-paper-toolbar-sm-height) * 2);}:host(.tall){height:calc(var(--calculated-paper-toolbar-sm-height) * 3);}.toolbar-tools{height:var(--calculated-paper-toolbar-sm-height);}}#topBar{position:relative;}#middleBar{position:absolute;top:0;right:0;left:0;}:host(.tall) #middleBar,
      :host(.medium-tall) #middleBar{-webkit-transform:translateY(100%);transform:translateY(100%);}#bottomBar{position:absolute;right:0;bottom:0;left:0;}.toolbar-tools > ::slotted(*:not([disabled])){pointer-events:auto;}.toolbar-tools > ::slotted(.title){@apply --paper-font-common-base;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:20px;font-weight:400;line-height:1;pointer-events:none;@apply --layout-flex;}.toolbar-tools > ::slotted(.title){margin-left:56px;}.toolbar-tools > ::slotted(paper-icon-button + .title){margin-left:0;}.toolbar-tools > ::slotted(.title){@apply --paper-toolbar-title;}.toolbar-tools > ::slotted(paper-icon-button[icon=menu]){margin-right:24px;}.toolbar-tools > ::slotted(.fit){position:absolute;top:auto;right:0;bottom:0;left:0;width:auto;margin:0;}.start-justified{@apply --layout-start-justified;}.center-justified{@apply --layout-center-justified;}.end-justified{@apply --layout-end-justified;}.around-justified{@apply --layout-around-justified;}.justified{@apply --layout-justified;}</style><div id="topBar" class$="toolbar-tools [[_computeBarExtraClasses(justify)]]"><slot name="top"></slot></div><div id="middleBar" class$="toolbar-tools [[_computeBarExtraClasses(middleJustify)]]"><slot name="middle"></slot></div><div id="bottomBar" class$="toolbar-tools [[_computeBarExtraClasses(bottomJustify)]]"><slot name="bottom"></slot></div></template><script>Polymer({is:'paper-toolbar',hostAttributes:{role:'toolbar'},properties:{bottomJustify:{type:String,value:''},justify:{type:String,value:''},middleJustify:{type:String,value:''}},ready:function(){console.warn(this.is,'is deprecated. Please use app-layout instead!')},attached:function(){this._observer=this._observe(this),this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(a){var b=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));return b.observe(a,{childList:!0,subtree:!0}),b},_updateAriaLabelledBy:function(){Polymer.dom.flush();for(var c,e,a=[],b=Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll('slot')).concat(Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll('content'))),d=0;c=b[d];d++){e=Polymer.dom(c).getDistributedNodes();for(var f,g=0;f=e[g];g++)if(f.classList&&f.classList.contains('title'))if(f.id)a.push(f.id);else{var h='paper-toolbar-label-'+Math.floor(1e4*Math.random());f.id=h,a.push(h)}}0<a.length&&this.setAttribute('aria-labelledby',a.join(' '))},_computeBarExtraClasses:function(a){return a?a+('justified'===a?'':'-justified'):''}});</script></dom-module><dom-module id="paper-tooltip" assetpath="bower_components/paper-tooltip/"><template><style>:host{display:block;position:absolute;outline:none;z-index:1002;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:default;}#tooltip{display:block;outline:none;@apply --paper-font-common-base;font-size:10px;line-height:1;background-color:var(--paper-tooltip-background, #616161);opacity:var(--paper-tooltip-opacity, 0.9);color:var(--paper-tooltip-text-color, white);padding:8px;border-radius:2px;@apply --paper-tooltip;}.hidden{display:none !important;}</style><div id="tooltip" class="hidden"><slot></slot></div></template><script>Polymer({is:'paper-tooltip',hostAttributes:{role:'tooltip',tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:'_findTarget'},manualMode:{type:Boolean,value:!1,observer:'_manualModeChanged'},position:{type:String,value:'bottom'},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:'fade-in-animation',node:this,timing:{delay:0}}],exit:[{name:'fade-out-animation',node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":'_onAnimationFinish'},get target(){var c,a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return c=this.for?Polymer.dom(b).querySelector('#'+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a,c},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},show:function(){if(!this._showing){if(''===Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(''!==b[c].textContent.trim()){a=!1;break}if(a)return}this.cancelAnimation(),this._showing=!0,this.toggleClass('hidden',!1,this.$.tooltip),this.updatePosition(),this.animationConfig.entry[0].timing=this.animationConfig.entry[0].timing||{},this.animationConfig.entry[0].timing.delay=this.animationDelay,this._animationPlaying=!0,this.playAnimation('entry')}},hide:function(){return this._showing?this._animationPlaying?(this.cancelAnimation(),this._showing=!1,void this._onAnimationFinish()):void(this._showing=!1,this._animationPlaying=!0,this.playAnimation('exit')):void 0},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var j,k,b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left,h=c.top-b.top;switch(this.position){case'top':j=g+e,k=h-d.height-a;break;case'bottom':j=g+e,k=h+c.height+a;break;case'left':j=g-d.width-a,k=h+f;break;case'right':j=g+c.width+a,k=h+f;}this.fitToVisibleBounds?(b.left+j+d.width>window.innerWidth?(this.style.right='0px',this.style.left='auto'):(this.style.left=Math.max(0,j)+'px',this.style.right='auto'),b.top+k+d.height>window.innerHeight?(this.style.bottom=b.height+'px',this.style.top='auto'):(this.style.top=Math.max(-b.top,k)+'px',this.style.bottom='auto')):(this.style.left=j+'px',this.style.top=k+'px')}},_addListeners:function(){this._target&&(this.listen(this._target,'mouseenter','show'),this.listen(this._target,'focus','show'),this.listen(this._target,'mouseleave','hide'),this.listen(this._target,'blur','hide'),this.listen(this._target,'tap','hide')),this.listen(this,'mouseenter','hide')},_findTarget:function(){this.manualMode||this._removeListeners(),this._target=this.target,this.manualMode||this._addListeners()},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_onAnimationFinish:function(){this._animationPlaying=!1,this._showing||this.toggleClass('hidden',!0,this.$.tooltip)},_removeListeners:function(){this._target&&(this.unlisten(this._target,'mouseenter','show'),this.unlisten(this._target,'focus','show'),this.unlisten(this._target,'mouseleave','hide'),this.unlisten(this._target,'blur','hide'),this.unlisten(this._target,'tap','hide')),this.unlisten(this,'mouseenter','hide')}});</script></dom-module><script>!function(){function b(){this._events={},this._conf&&c.call(this,this._conf)}function c(j){j&&(this._conf=j,j.delimiter&&(this.delimiter=j.delimiter),j.maxListeners&&(this._events.maxListeners=j.maxListeners),j.wildcard&&(this.wildcard=j.wildcard),j.newListener&&(this.newListener=j.newListener),this.wildcard&&(this.listenerTree={}))}function d(j){this._events={},this.newListener=!1,c.call(this,j)}function e(j,k,o,p){if(!o)return[];var r,s,t,u,v,w,x,q=[],y=k.length,z=k[p],A=k[p+1];if(p===y&&o._listeners){if('function'===typeof o._listeners)return j&&j.push(o._listeners),[o];for(r=0,s=o._listeners.length;r<s;r++)j&&j.push(o._listeners[r]);return[o]}if('*'===z||'**'===z||o[z]){if('*'===z){for(t in o)'_listeners'!==t&&o.hasOwnProperty(t)&&(q=q.concat(e(j,k,o[t],p+1)));return q}if('**'===z){for(t in x=p+1===y||p+2===y&&'*'===A,x&&o._listeners&&(q=q.concat(e(j,k,o,y))),o)'_listeners'!==t&&o.hasOwnProperty(t)&&('*'===t||'**'===t?(o[t]._listeners&&!x&&(q=q.concat(e(j,k,o[t],y))),q=q.concat(e(j,k,o[t],p))):t===A?q=q.concat(e(j,k,o[t],p+2)):q=q.concat(e(j,k,o[t],p)));return q}q=q.concat(e(j,k,o[z],p+1))}if(u=o['*'],u&&e(j,k,u,p+1),v=o['**'],v)if(p<y)for(t in v._listeners&&e(j,k,v,y),v)'_listeners'!==t&&v.hasOwnProperty(t)&&(t===A?e(j,k,v[t],p+2):t===z?e(j,k,v[t],p+1):(w={},w[t]=v[t],e(j,k,{"**":w},p+1)));else v._listeners?e(j,k,v,y):v['*']&&v['*']._listeners&&e(j,k,v['*'],y);return q}function f(j,k){j='string'===typeof j?j.split(this.delimiter):j.slice();for(var o=0,p=j.length;o+1<p;o++)if('**'===j[o]&&'**'===j[o+1])return;for(var q=this.listenerTree,r=j.shift();r;){if(q[r]||(q[r]={}),q=q[r],0===j.length){if(!q._listeners)q._listeners=k;else if('function'===typeof q._listeners)q._listeners=[q._listeners,k];else if(g(q._listeners)&&(q._listeners.push(k),!q._listeners.warned)){var s=h;'undefined'!==typeof this._events.maxListeners&&(s=this._events.maxListeners),0<s&&q._listeners.length>s&&(q._listeners.warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',q._listeners.length),console.trace())}return!0}r=j.shift()}return!0}var g=Array.isArray?Array.isArray:function(k){return'[object Array]'===Object.prototype.toString.call(k)},h=10;d.prototype.delimiter='.',d.prototype.setMaxListeners=function(j){this._events||b.call(this),this._events.maxListeners=j,this._conf||(this._conf={}),this._conf.maxListeners=j},d.prototype.event='',d.prototype.once=function(j,k){return this.many(j,1,k),this},d.prototype.many=function(j,k,o){function p(){0===--k&&q.off(j,p),o.apply(this,arguments)}var q=this;if('function'!==typeof o)throw new Error('many only accepts instances of Function');return p._origin=o,this.on(j,p),q},d.prototype.emit=function(){this._events||b.call(this);var j=arguments[0];if('newListener'===j&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];for(p=0,k=this._all.length;p<k;p++)this.event=j,this._all[p].apply(this,o)}if('error'===j&&!this._all&&!this._events.error&&!(this.wildcard&&this.listenerTree.error)){if(arguments[1]instanceof Error)throw arguments[1];else throw new Error('Uncaught, unspecified \'error\' event.');return!1}var q;if(this.wildcard){q=[];var r='string'===typeof j?j.split(this.delimiter):j.slice();e.call(this,q,r,this.listenerTree,0)}else q=this._events[j];if('function'===typeof q){if(this.event=j,1===arguments.length)q.call(this);else if(1<arguments.length)switch(arguments.length){case 2:q.call(this,arguments[1]);break;case 3:q.call(this,arguments[1],arguments[2]);break;default:for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];q.apply(this,o);}return!0}if(q){for(var k=arguments.length,o=Array(k-1),p=1;p<k;p++)o[p-1]=arguments[p];for(var s=q.slice(),p=0,k=s.length;p<k;p++)this.event=j,s[p].apply(this,o);return 0<s.length||!!this._all}return!!this._all},d.prototype.on=function(j,k){if('function'===typeof j)return this.onAny(j),this;if('function'!==typeof k)throw new Error('on only accepts instances of Function');if(this._events||b.call(this),this.emit('newListener',j,k),this.wildcard)return f.call(this,j,k),this;if(!this._events[j])this._events[j]=k;else if('function'===typeof this._events[j])this._events[j]=[this._events[j],k];else if(g(this._events[j])&&(this._events[j].push(k),!this._events[j].warned)){var o=h;'undefined'!==typeof this._events.maxListeners&&(o=this._events.maxListeners),0<o&&this._events[j].length>o&&(this._events[j].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[j].length),console.trace())}return this},d.prototype.onAny=function(j){if('function'!==typeof j)throw new Error('onAny only accepts instances of Function');return this._all||(this._all=[]),this._all.push(j),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(j,k){if('function'!==typeof k)throw new Error('removeListener only takes instances of Function');var o,p=[];if(this.wildcard){var q='string'===typeof j?j.split(this.delimiter):j.slice();p=e.call(this,null,q,this.listenerTree,0)}else{if(!this._events[j])return this;o=this._events[j],p.push({_listeners:o})}for(var s,r=0;r<p.length;r++){if(s=p[r],o=s._listeners,g(o)){for(var t=-1,u=0,v=o.length;u<v;u++)if(o[u]===k||o[u].listener&&o[u].listener===k||o[u]._origin&&o[u]._origin===k){t=u;break}if(0>t)continue;return this.wildcard?s._listeners.splice(t,1):this._events[j].splice(t,1),0===o.length&&(this.wildcard?delete s._listeners:delete this._events[j]),this}(o===k||o.listener&&o.listener===k||o._origin&&o._origin===k)&&(this.wildcard?delete s._listeners:delete this._events[j])}return this},d.prototype.offAny=function(j){var p,k=0,o=0;if(j&&this._all&&0<this._all.length){for(p=this._all,k=0,o=p.length;k<o;k++)if(j===p[k])return p.splice(k,1),this;}else this._all=[];return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(j){if(0===arguments.length)return this._events&&b.call(this),this;if(this.wildcard)for(var q,k='string'===typeof j?j.split(this.delimiter):j.slice(),o=e.call(this,null,k,this.listenerTree,0),p=0;p<o.length;p++)q=o[p],q._listeners=null;else{if(!this._events[j])return this;this._events[j]=null}return this},d.prototype.listeners=function(j){if(this.wildcard){var k=[],o='string'===typeof j?j.split(this.delimiter):j.slice();return e.call(this,k,o,this.listenerTree,0),k}return this._events||b.call(this),this._events[j]||(this._events[j]=[]),g(this._events[j])||(this._events[j]=[this._events[j]]),this._events[j]},d.prototype.listenersAny=function(){return this._all?this._all:[]},'function'===typeof define&&define.amd?define(function(){return d}):'object'===typeof exports?exports.EventEmitter2=d:window.EventEmitter2=d}();</script><script>var THREE={REVISION:'64'};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,'')},THREE.extend=function(_,S){if(Object.keys)for(var M=Object.keys(S),T=0,C=M.length,A;T<C;T++)A=M[T],Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(S,A));else{var E={}.hasOwnProperty;for(var A in S)E.call(S,A)&&(_[A]=S[A])}return _},function(){for(var _=0,S=['ms','moz','webkit','o'],M=0;M<S.length&&!self.requestAnimationFrame;++M)self.requestAnimationFrame=self[S[M]+'RequestAnimationFrame'],self.cancelAnimationFrame=self[S[M]+'CancelAnimationFrame']||self[S[M]+'CancelRequestAnimationFrame'];self.requestAnimationFrame===void 0&&self.setTimeout!==void 0&&(self.requestAnimationFrame=function(T){var C=Date.now(),A=Math.max(0,16-(C-_)),E=self.setTimeout(function(){T(C+A)},A);return _=C+A,E}),self.cancelAnimationFrame===void 0&&self.clearTimeout!==void 0&&(self.cancelAnimationFrame=function(T){self.clearTimeout(T)})}(),THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.Color=function(_){return void 0!==_&&this.set(_),this},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(_){return _ instanceof THREE.Color?this.copy(_):'number'===typeof _?this.setHex(_):'string'===typeof _&&this.setStyle(_),this},setHex:function(_){return _=Math.floor(_),this.r=(255&_>>16)/255,this.g=(255&_>>8)/255,this.b=(255&_)/255,this},setRGB:function(_,S,M){return this.r=_,this.g=S,this.b=M,this},setHSL:function(_,S,M){if(0===S)this.r=this.g=this.b=M;else{var T=function(E,L,P){return 0>P&&(P+=1),1<P&&(P-=1),P<1/6?E+6*(L-E)*P:P<1/2?L:P<2/3?E+6*(L-E)*(2/3-P):E},C=0.5>=M?M*(1+S):M+S-M*S,A=2*M-C;this.r=T(A,C,_+1/3),this.g=T(A,C,_),this.b=T(A,C,_-1/3)}return this},setStyle:function(_){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(_)){var S=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(_);return this.r=Math.min(255,parseInt(S[1],10))/255,this.g=Math.min(255,parseInt(S[2],10))/255,this.b=Math.min(255,parseInt(S[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(_)){var S=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(_);return this.r=Math.min(100,parseInt(S[1],10))/100,this.g=Math.min(100,parseInt(S[2],10))/100,this.b=Math.min(100,parseInt(S[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(_)){var S=/^\#([0-9a-f]{6})$/i.exec(_);return this.setHex(parseInt(S[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(_)){var S=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(_);return this.setHex(parseInt(S[1]+S[1]+S[2]+S[2]+S[3]+S[3],16)),this}return /^(\w+)$/i.test(_)?(this.setHex(THREE.ColorKeywords[_]),this):void 0},copy:function(_){return this.r=_.r,this.g=_.g,this.b=_.b,this},copyGammaToLinear:function(_){return this.r=_.r*_.r,this.g=_.g*_.g,this.b=_.b*_.b,this},copyLinearToGamma:function(_){return this.r=Math.sqrt(_.r),this.g=Math.sqrt(_.g),this.b=Math.sqrt(_.b),this},convertGammaToLinear:function(){var _=this.r,S=this.g,M=this.b;return this.r=_*_,this.g=S*S,this.b=M*M,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return('000000'+this.getHex().toString(16)).slice(-6)},getHSL:function(_){var S=_||{h:0,s:0,l:0},M=this.r,T=this.g,C=this.b,A=Math.max(M,T,C),E=Math.min(M,T,C),D=(E+A)/2,L,P;if(E===A)L=0,P=0;else{var R=A-E;P=0.5>=D?R/(A+E):R/(2-A-E),A===M?L=(T-C)/R+(T<C?6:0):A===T?L=(C-M)/R+2:A===C?L=(M-T)/R+4:void 0,L/=6}return S.h=L,S.s=P,S.l=D,S},getStyle:function(){return'rgb('+(0|255*this.r)+','+(0|255*this.g)+','+(0|255*this.b)+')'},offsetHSL:function(_,S,M){var T=this.getHSL();return T.h+=_,T.s+=S,T.l+=M,this.setHSL(T.h,T.s,T.l),this},add:function(_){return this.r+=_.r,this.g+=_.g,this.b+=_.b,this},addColors:function(_,S){return this.r=_.r+S.r,this.g=_.g+S.g,this.b=_.b+S.b,this},addScalar:function(_){return this.r+=_,this.g+=_,this.b+=_,this},multiply:function(_){return this.r*=_.r,this.g*=_.g,this.b*=_.b,this},multiplyScalar:function(_){return this.r*=_,this.g*=_,this.b*=_,this},lerp:function(_,S){return this.r+=(_.r-this.r)*S,this.g+=(_.g-this.g)*S,this.b+=(_.b-this.b)*S,this},equals:function(_){return _.r===this.r&&_.g===this.g&&_.b===this.b},fromArray:function(_){return this.r=_[0],this.g=_[1],this.b=_[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return new THREE.Color().setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(_,S,M,T){this._x=_||0,this._y=S||0,this._z=M||0,this._w=T===void 0?1:T},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,_euler:void 0,_updateEuler:function(){this._euler!==void 0&&this._euler.setFromQuaternion(this,void 0,!1)},get x(){return this._x},set x(_){this._x=_,this._updateEuler()},get y(){return this._y},set y(_){this._y=_,this._updateEuler()},get z(){return this._z},set z(_){this._z=_,this._updateEuler()},get w(){return this._w},set w(_){this._w=_,this._updateEuler()},set:function(_,S,M,T){return this._x=_,this._y=S,this._z=M,this._w=T,this._updateEuler(),this},copy:function(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._w=_._w,this._updateEuler(),this},setFromEuler:function(_,S){if(!1===_ instanceof THREE.Euler)throw new Error('ERROR: Quaternion\'s .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.');var M=Math.cos(_._x/2),T=Math.cos(_._y/2),C=Math.cos(_._z/2),A=Math.sin(_._x/2),E=Math.sin(_._y/2),L=Math.sin(_._z/2);return'XYZ'===_.order?(this._x=A*T*C+M*E*L,this._y=M*E*C-A*T*L,this._z=M*T*L+A*E*C,this._w=M*T*C-A*E*L):'YXZ'===_.order?(this._x=A*T*C+M*E*L,this._y=M*E*C-A*T*L,this._z=M*T*L-A*E*C,this._w=M*T*C+A*E*L):'ZXY'===_.order?(this._x=A*T*C-M*E*L,this._y=M*E*C+A*T*L,this._z=M*T*L+A*E*C,this._w=M*T*C-A*E*L):'ZYX'===_.order?(this._x=A*T*C-M*E*L,this._y=M*E*C+A*T*L,this._z=M*T*L-A*E*C,this._w=M*T*C+A*E*L):'YZX'===_.order?(this._x=A*T*C+M*E*L,this._y=M*E*C+A*T*L,this._z=M*T*L-A*E*C,this._w=M*T*C-A*E*L):'XZY'===_.order&&(this._x=A*T*C-M*E*L,this._y=M*E*C-A*T*L,this._z=M*T*L+A*E*C,this._w=M*T*C+A*E*L),!1!==S&&this._updateEuler(),this},setFromAxisAngle:function(_,S){var M=S/2,T=Math.sin(M);return this._x=_.x*T,this._y=_.y*T,this._z=_.z*T,this._w=Math.cos(M),this._updateEuler(),this},setFromRotationMatrix:function(_){var S=_.elements,M=S[0],T=S[4],C=S[8],A=S[1],E=S[5],L=S[9],P=S[2],D=S[6],R=S[10],F=M+E+R,V;return 0<F?(V=0.5/Math.sqrt(F+1),this._w=0.25/V,this._x=(D-L)*V,this._y=(C-P)*V,this._z=(A-T)*V):M>E&&M>R?(V=2*Math.sqrt(1+M-E-R),this._w=(D-L)/V,this._x=0.25*V,this._y=(T+A)/V,this._z=(C+P)/V):E>R?(V=2*Math.sqrt(1+E-M-R),this._w=(C-P)/V,this._x=(T+A)/V,this._y=0.25*V,this._z=(L+D)/V):(V=2*Math.sqrt(1+R-M-E),this._w=(A-T)/V,this._x=(C+P)/V,this._y=(L+D)/V,this._z=0.25*V),this._updateEuler(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._updateEuler(),this},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var _=this.length();return 0===_?(this._x=0,this._y=0,this._z=0,this._w=1):(_=1/_,this._x*=_,this._y*=_,this._z*=_,this._w*=_),this},multiply:function(_,S){return void 0===S?this.multiplyQuaternions(this,_):(console.warn('DEPRECATED: Quaternion\'s .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.'),this.multiplyQuaternions(_,S))},multiplyQuaternions:function(_,S){var M=_._x,T=_._y,C=_._z,A=_._w,E=S._x,L=S._y,P=S._z,D=S._w;return this._x=M*D+A*E+T*P-C*L,this._y=T*D+A*L+C*E-M*P,this._z=C*D+A*P+M*L-T*E,this._w=A*D-M*E-T*L-C*P,this._updateEuler(),this},multiplyVector3:function(_){return console.warn('DEPRECATED: Quaternion\'s .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.'),_.applyQuaternion(this)},slerp:function(_,S){var M=this._x,T=this._y,C=this._z,A=this._w,E=A*_._w+M*_._x+T*_._y+C*_._z;if(0>E?(this._w=-_._w,this._x=-_._x,this._y=-_._y,this._z=-_._z,E=-E):this.copy(_),1<=E)return this._w=A,this._x=M,this._y=T,this._z=C,this;var L=Math.acos(E),P=Math.sqrt(1-E*E);if(1e-3>Math.abs(P))return this._w=0.5*(A+this._w),this._x=0.5*(M+this._x),this._y=0.5*(T+this._y),this._z=0.5*(C+this._z),this;var D=Math.sin((1-S)*L)/P,R=Math.sin(S*L)/P;return this._w=A*D+this._w*R,this._x=M*D+this._x*R,this._y=T*D+this._y*R,this._z=C*D+this._z*R,this._updateEuler(),this},equals:function(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._w===this._w},fromArray:function(_){return this._x=_[0],this._y=_[1],this._z=_[2],this._w=_[3],this._updateEuler(),this},toArray:function(){return[this._x,this._y,this._z,this._w]},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(_,S,M,T){return M.copy(_).slerp(S,T)},THREE.Vector2=function(_,S){this.x=_||0,this.y=S||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(_,S){return this.x=_,this.y=S,this},setX:function(_){return this.x=_,this},setY:function(_){return this.y=_,this},setComponent:function(_,S){switch(_){case 0:this.x=S;break;case 1:this.y=S;break;default:throw new Error('index is out of range: '+_);}},getComponent:function(_){switch(_){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+_);}},copy:function(_){return this.x=_.x,this.y=_.y,this},add:function(_,S){return void 0===S?(this.x+=_.x,this.y+=_.y,this):(console.warn('DEPRECATED: Vector2\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(_,S))},addVectors:function(_,S){return this.x=_.x+S.x,this.y=_.y+S.y,this},addScalar:function(_){return this.x+=_,this.y+=_,this},sub:function(_,S){return void 0===S?(this.x-=_.x,this.y-=_.y,this):(console.warn('DEPRECATED: Vector2\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(_,S))},subVectors:function(_,S){return this.x=_.x-S.x,this.y=_.y-S.y,this},multiplyScalar:function(_){return this.x*=_,this.y*=_,this},divideScalar:function(_){if(0!==_){var S=1/_;this.x*=S,this.y*=S}else this.x=0,this.y=0;return this},min:function(_){return this.x>_.x&&(this.x=_.x),this.y>_.y&&(this.y=_.y),this},max:function(_){return this.x<_.x&&(this.x=_.x),this.y<_.y&&(this.y=_.y),this},clamp:function(_,S){return this.x<_.x?this.x=_.x:this.x>S.x&&(this.x=S.x),this.y<_.y?this.y=_.y:this.y>S.y&&(this.y=S.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(_){return this.x*_.x+this.y*_.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(_){return Math.sqrt(this.distanceToSquared(_))},distanceToSquared:function(_){var S=this.x-_.x,M=this.y-_.y;return S*S+M*M},setLength:function(_){var S=this.length();return 0!==S&&_!==S&&this.multiplyScalar(_/S),this},lerp:function(_,S){return this.x+=(_.x-this.x)*S,this.y+=(_.y-this.y)*S,this},equals:function(_){return _.x===this.x&&_.y===this.y},fromArray:function(_){return this.x=_[0],this.y=_[1],this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(_,S,M){this.x=_||0,this.y=S||0,this.z=M||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(_,S,M){return this.x=_,this.y=S,this.z=M,this},setX:function(_){return this.x=_,this},setY:function(_){return this.y=_,this},setZ:function(_){return this.z=_,this},setComponent:function(_,S){switch(_){case 0:this.x=S;break;case 1:this.y=S;break;case 2:this.z=S;break;default:throw new Error('index is out of range: '+_);}},getComponent:function(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+_);}},copy:function(_){return this.x=_.x,this.y=_.y,this.z=_.z,this},add:function(_,S){return void 0===S?(this.x+=_.x,this.y+=_.y,this.z+=_.z,this):(console.warn('DEPRECATED: Vector3\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(_,S))},addScalar:function(_){return this.x+=_,this.y+=_,this.z+=_,this},addVectors:function(_,S){return this.x=_.x+S.x,this.y=_.y+S.y,this.z=_.z+S.z,this},sub:function(_,S){return void 0===S?(this.x-=_.x,this.y-=_.y,this.z-=_.z,this):(console.warn('DEPRECATED: Vector3\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(_,S))},subVectors:function(_,S){return this.x=_.x-S.x,this.y=_.y-S.y,this.z=_.z-S.z,this},multiply:function(_,S){return void 0===S?(this.x*=_.x,this.y*=_.y,this.z*=_.z,this):(console.warn('DEPRECATED: Vector3\'s .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.'),this.multiplyVectors(_,S))},multiplyScalar:function(_){return this.x*=_,this.y*=_,this.z*=_,this},multiplyVectors:function(_,S){return this.x=_.x*S.x,this.y=_.y*S.y,this.z=_.z*S.z,this},applyMatrix3:function(_){var S=this.x,M=this.y,T=this.z,C=_.elements;return this.x=C[0]*S+C[3]*M+C[6]*T,this.y=C[1]*S+C[4]*M+C[7]*T,this.z=C[2]*S+C[5]*M+C[8]*T,this},applyMatrix4:function(_){var S=this.x,M=this.y,T=this.z,C=_.elements;return this.x=C[0]*S+C[4]*M+C[8]*T+C[12],this.y=C[1]*S+C[5]*M+C[9]*T+C[13],this.z=C[2]*S+C[6]*M+C[10]*T+C[14],this},applyProjection:function(_){var S=this.x,M=this.y,T=this.z,C=_.elements,A=1/(C[3]*S+C[7]*M+C[11]*T+C[15]);return this.x=(C[0]*S+C[4]*M+C[8]*T+C[12])*A,this.y=(C[1]*S+C[5]*M+C[9]*T+C[13])*A,this.z=(C[2]*S+C[6]*M+C[10]*T+C[14])*A,this},applyQuaternion:function(_){var S=this.x,M=this.y,T=this.z,C=_.x,A=_.y,E=_.z,L=_.w,P=L*S+A*T-E*M,D=L*M+E*S-C*T,R=L*T+C*M-A*S,F=-C*S-A*M-E*T;return this.x=P*L+F*-C+D*-E-R*-A,this.y=D*L+F*-A+R*-C-P*-E,this.z=R*L+F*-E+P*-A-D*-C,this},transformDirection:function(_){var S=this.x,M=this.y,T=this.z,C=_.elements;return this.x=C[0]*S+C[4]*M+C[8]*T,this.y=C[1]*S+C[5]*M+C[9]*T,this.z=C[2]*S+C[6]*M+C[10]*T,this.normalize(),this},divide:function(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this},divideScalar:function(_){if(0!==_){var S=1/_;this.x*=S,this.y*=S,this.z*=S}else this.x=0,this.y=0,this.z=0;return this},min:function(_){return this.x>_.x&&(this.x=_.x),this.y>_.y&&(this.y=_.y),this.z>_.z&&(this.z=_.z),this},max:function(_){return this.x<_.x&&(this.x=_.x),this.y<_.y&&(this.y=_.y),this.z<_.z&&(this.z=_.z),this},clamp:function(_,S){return this.x<_.x?this.x=_.x:this.x>S.x&&(this.x=S.x),this.y<_.y?this.y=_.y:this.y>S.y&&(this.y=S.y),this.z<_.z?this.z=_.z:this.z>S.z&&(this.z=S.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(_){return this.x*_.x+this.y*_.y+this.z*_.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(_){var S=this.length();return 0!==S&&_!==S&&this.multiplyScalar(_/S),this},lerp:function(_,S){return this.x+=(_.x-this.x)*S,this.y+=(_.y-this.y)*S,this.z+=(_.z-this.z)*S,this},cross:function(_,S){if(void 0!==S)return console.warn('DEPRECATED: Vector3\'s .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.'),this.crossVectors(_,S);var M=this.x,T=this.y,C=this.z;return this.x=T*_.z-C*_.y,this.y=C*_.x-M*_.z,this.z=M*_.y-T*_.x,this},crossVectors:function(_,S){var M=_.x,T=_.y,C=_.z,A=S.x,E=S.y,L=S.z;return this.x=T*L-C*E,this.y=C*A-M*L,this.z=M*E-T*A,this},angleTo:function(_){var S=this.dot(_)/(this.length()*_.length());return Math.acos(THREE.Math.clamp(S,-1,1))},distanceTo:function(_){return Math.sqrt(this.distanceToSquared(_))},distanceToSquared:function(_){var S=this.x-_.x,M=this.y-_.y,T=this.z-_.z;return S*S+M*M+T*T},setEulerFromRotationMatrix:function(){console.error('REMOVED: Vector3\'s setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.')},setEulerFromQuaternion:function(){console.error('REMOVED: Vector3\'s setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.')},getPositionFromMatrix:function(_){return console.warn('DEPRECATED: Vector3\'s .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code.'),this.setFromMatrixPosition(_)},getScaleFromMatrix:function(_){return console.warn('DEPRECATED: Vector3\'s .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code.'),this.setFromMatrixScale(_)},getColumnFromMatrix:function(_,S){return console.warn('DEPRECATED: Vector3\'s .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code.'),this.setFromMatrixColumn(_,S)},setFromMatrixPosition:function(_){return this.x=_.elements[12],this.y=_.elements[13],this.z=_.elements[14],this},setFromMatrixScale:function(_){var S=this.set(_.elements[0],_.elements[1],_.elements[2]).length(),M=this.set(_.elements[4],_.elements[5],_.elements[6]).length(),T=this.set(_.elements[8],_.elements[9],_.elements[10]).length();return this.x=S,this.y=M,this.z=T,this},setFromMatrixColumn:function(_,S){var M=4*_,T=S.elements;return this.x=T[M],this.y=T[M+1],this.z=T[M+2],this},equals:function(_){return _.x===this.x&&_.y===this.y&&_.z===this.z},fromArray:function(_){return this.x=_[0],this.y=_[1],this.z=_[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.extend(THREE.Vector3.prototype,{applyEuler:function(){var _=new THREE.Quaternion;return function(S){return!1===S instanceof THREE.Euler&&console.error('ERROR: Vector3\'s .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.'),this.applyQuaternion(_.setFromEuler(S)),this}}(),applyAxisAngle:function(){var _=new THREE.Quaternion;return function(S,M){return this.applyQuaternion(_.setFromAxisAngle(S,M)),this}}(),projectOnVector:function(){var _=new THREE.Vector3;return function(S){_.copy(S).normalize();var M=this.dot(_);return this.copy(_).multiplyScalar(M)}}(),projectOnPlane:function(){var _=new THREE.Vector3;return function(S){return _.copy(this).projectOnVector(S),this.sub(_)}}(),reflect:function(){var _=new THREE.Vector3;return function(S){return _.copy(this).projectOnVector(S).multiplyScalar(2),this.subVectors(_,this)}}()}),THREE.Vector4=function(_,S,M,T){this.x=_||0,this.y=S||0,this.z=M||0,this.w=T===void 0?1:T},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(_,S,M,T){return this.x=_,this.y=S,this.z=M,this.w=T,this},setX:function(_){return this.x=_,this},setY:function(_){return this.y=_,this},setZ:function(_){return this.z=_,this},setW:function(_){return this.w=_,this},setComponent:function(_,S){switch(_){case 0:this.x=S;break;case 1:this.y=S;break;case 2:this.z=S;break;case 3:this.w=S;break;default:throw new Error('index is out of range: '+_);}},getComponent:function(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+_);}},copy:function(_){return this.x=_.x,this.y=_.y,this.z=_.z,this.w=void 0===_.w?1:_.w,this},add:function(_,S){return void 0===S?(this.x+=_.x,this.y+=_.y,this.z+=_.z,this.w+=_.w,this):(console.warn('DEPRECATED: Vector4\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(_,S))},addScalar:function(_){return this.x+=_,this.y+=_,this.z+=_,this.w+=_,this},addVectors:function(_,S){return this.x=_.x+S.x,this.y=_.y+S.y,this.z=_.z+S.z,this.w=_.w+S.w,this},sub:function(_,S){return void 0===S?(this.x-=_.x,this.y-=_.y,this.z-=_.z,this.w-=_.w,this):(console.warn('DEPRECATED: Vector4\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(_,S))},subVectors:function(_,S){return this.x=_.x-S.x,this.y=_.y-S.y,this.z=_.z-S.z,this.w=_.w-S.w,this},multiplyScalar:function(_){return this.x*=_,this.y*=_,this.z*=_,this.w*=_,this},applyMatrix4:function(_){var S=this.x,M=this.y,T=this.z,C=this.w,A=_.elements;return this.x=A[0]*S+A[4]*M+A[8]*T+A[12]*C,this.y=A[1]*S+A[5]*M+A[9]*T+A[13]*C,this.z=A[2]*S+A[6]*M+A[10]*T+A[14]*C,this.w=A[3]*S+A[7]*M+A[11]*T+A[15]*C,this},divideScalar:function(_){if(0!==_){var S=1/_;this.x*=S,this.y*=S,this.z*=S,this.w*=S}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(_){this.w=2*Math.acos(_.w);var S=Math.sqrt(1-_.w*_.w);return 1e-4>S?(this.x=1,this.y=0,this.z=0):(this.x=_.x/S,this.y=_.y/S,this.z=_.z/S),this},setAxisAngleFromRotationMatrix:function(_){var A=0.01,E=0.1,L=_.elements,P=L[0],D=L[4],R=L[8],F=L[1],V=L[5],U=L[9],B=L[2],N=L[6],I=L[10],S,M,T,C;if(Math.abs(D-F)<A&&Math.abs(R-B)<A&&Math.abs(U-N)<A){if(Math.abs(D+F)<E&&Math.abs(R+B)<E&&Math.abs(U+N)<E&&Math.abs(P+V+I-3)<E)return this.set(1,0,0,0),this;S=Math.PI;var O=(P+1)/2,G=(V+1)/2,H=(I+1)/2,W=(D+F)/4,X=(R+B)/4,Y=(U+N)/4;return O>G&&O>H?O<A?(M=0,T=0.707106781,C=0.707106781):(M=Math.sqrt(O),T=W/M,C=X/M):G>H?G<A?(M=0.707106781,T=0,C=0.707106781):(T=Math.sqrt(G),M=W/T,C=Y/T):H<A?(M=0.707106781,T=0.707106781,C=0):(C=Math.sqrt(H),M=X/C,T=Y/C),this.set(M,T,C,S),this}var K=Math.sqrt((N-U)*(N-U)+(R-B)*(R-B)+(F-D)*(F-D));return 1e-3>Math.abs(K)&&(K=1),this.x=(N-U)/K,this.y=(R-B)/K,this.z=(F-D)/K,this.w=Math.acos((P+V+I-1)/2),this},min:function(_){return this.x>_.x&&(this.x=_.x),this.y>_.y&&(this.y=_.y),this.z>_.z&&(this.z=_.z),this.w>_.w&&(this.w=_.w),this},max:function(_){return this.x<_.x&&(this.x=_.x),this.y<_.y&&(this.y=_.y),this.z<_.z&&(this.z=_.z),this.w<_.w&&(this.w=_.w),this},clamp:function(_,S){return this.x<_.x?this.x=_.x:this.x>S.x&&(this.x=S.x),this.y<_.y?this.y=_.y:this.y>S.y&&(this.y=S.y),this.z<_.z?this.z=_.z:this.z>S.z&&(this.z=S.z),this.w<_.w?this.w=_.w:this.w>S.w&&(this.w=S.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(_){return this.x*_.x+this.y*_.y+this.z*_.z+this.w*_.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(_){var S=this.length();return 0!==S&&_!==S&&this.multiplyScalar(_/S),this},lerp:function(_,S){return this.x+=(_.x-this.x)*S,this.y+=(_.y-this.y)*S,this.z+=(_.z-this.z)*S,this.w+=(_.w-this.w)*S,this},equals:function(_){return _.x===this.x&&_.y===this.y&&_.z===this.z&&_.w===this.w},fromArray:function(_){return this.x=_[0],this.y=_[1],this.z=_[2],this.w=_[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(_,S,M,T){this._x=_||0,this._y=S||0,this._z=M||0,this._order=T||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=['XYZ','YZX','ZXY','XZY','YXZ','ZYX'],THREE.Euler.DefaultOrder='XYZ',THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,_quaternion:void 0,_updateQuaternion:function(){this._quaternion!==void 0&&this._quaternion.setFromEuler(this,!1)},get x(){return this._x},set x(_){this._x=_,this._updateQuaternion()},get y(){return this._y},set y(_){this._y=_,this._updateQuaternion()},get z(){return this._z},set z(_){this._z=_,this._updateQuaternion()},get order(){return this._order},set order(_){this._order=_,this._updateQuaternion()},set:function(_,S,M,T){return this._x=_,this._y=S,this._z=M,this._order=T||this._order,this._updateQuaternion(),this},copy:function(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._order=_._order,this._updateQuaternion(),this},setFromRotationMatrix:function(_,S){function M(U){return Math.min(Math.max(U,-1),1)}var T=_.elements,C=T[0],A=T[4],E=T[8],L=T[1],P=T[5],D=T[9],R=T[2],F=T[6],V=T[10];return S=S||this._order,'XYZ'===S?(this._y=Math.asin(M(E)),0.99999>Math.abs(E)?(this._x=Math.atan2(-D,V),this._z=Math.atan2(-A,C)):(this._x=Math.atan2(F,P),this._z=0)):'YXZ'===S?(this._x=Math.asin(-M(D)),0.99999>Math.abs(D)?(this._y=Math.atan2(E,V),this._z=Math.atan2(L,P)):(this._y=Math.atan2(-R,C),this._z=0)):'ZXY'===S?(this._x=Math.asin(M(F)),0.99999>Math.abs(F)?(this._y=Math.atan2(-R,V),this._z=Math.atan2(-A,P)):(this._y=0,this._z=Math.atan2(L,C))):'ZYX'===S?(this._y=Math.asin(-M(R)),0.99999>Math.abs(R)?(this._x=Math.atan2(F,V),this._z=Math.atan2(L,C)):(this._x=0,this._z=Math.atan2(-A,P))):'YZX'===S?(this._z=Math.asin(M(L)),0.99999>Math.abs(L)?(this._x=Math.atan2(-D,P),this._y=Math.atan2(-R,C)):(this._x=0,this._y=Math.atan2(E,V))):'XZY'===S?(this._z=Math.asin(-M(A)),0.99999>Math.abs(A)?(this._x=Math.atan2(F,P),this._y=Math.atan2(E,C)):(this._x=Math.atan2(-D,V),this._y=0)):console.warn('WARNING: Euler.setFromRotationMatrix() given unsupported order: '+S),this._order=S,this._updateQuaternion(),this},setFromQuaternion:function(_,S,M){function T(P){return Math.min(Math.max(P,-1),1)}var C=_.x*_.x,A=_.y*_.y,E=_.z*_.z,L=_.w*_.w;return S=S||this._order,'XYZ'===S?(this._x=Math.atan2(2*(_.x*_.w-_.y*_.z),L-C-A+E),this._y=Math.asin(T(2*(_.x*_.z+_.y*_.w))),this._z=Math.atan2(2*(_.z*_.w-_.x*_.y),L+C-A-E)):'YXZ'===S?(this._x=Math.asin(T(2*(_.x*_.w-_.y*_.z))),this._y=Math.atan2(2*(_.x*_.z+_.y*_.w),L-C-A+E),this._z=Math.atan2(2*(_.x*_.y+_.z*_.w),L-C+A-E)):'ZXY'===S?(this._x=Math.asin(T(2*(_.x*_.w+_.y*_.z))),this._y=Math.atan2(2*(_.y*_.w-_.z*_.x),L-C-A+E),this._z=Math.atan2(2*(_.z*_.w-_.x*_.y),L-C+A-E)):'ZYX'===S?(this._x=Math.atan2(2*(_.x*_.w+_.z*_.y),L-C-A+E),this._y=Math.asin(T(2*(_.y*_.w-_.x*_.z))),this._z=Math.atan2(2*(_.x*_.y+_.z*_.w),L+C-A-E)):'YZX'===S?(this._x=Math.atan2(2*(_.x*_.w-_.z*_.y),L-C+A-E),this._y=Math.atan2(2*(_.y*_.w-_.x*_.z),L+C-A-E),this._z=Math.asin(T(2*(_.x*_.y+_.z*_.w)))):'XZY'===S?(this._x=Math.atan2(2*(_.x*_.w+_.y*_.z),L-C+A-E),this._y=Math.atan2(2*(_.x*_.z+_.y*_.w),L+C-A-E),this._z=Math.asin(T(2*(_.z*_.w-_.x*_.y)))):console.warn('WARNING: Euler.setFromQuaternion() given unsupported order: '+S),this._order=S,!1!==M&&this._updateQuaternion(),this},reorder:function(){var _=new THREE.Quaternion;return function(S){_.setFromEuler(this),this.setFromQuaternion(_,S)}}(),fromArray:function(_){return this._x=_[0],this._y=_[1],this._z=_[2],void 0!==_[3]&&(this._order=_[3]),this._updateQuaternion(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},equals:function(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._order===this._order},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(_,S){this.start=_===void 0?new THREE.Vector3:_,this.end=S===void 0?new THREE.Vector3:S},THREE.Line3.prototype={constructor:THREE.Line3,set:function(_,S){return this.start.copy(_),this.end.copy(S),this},copy:function(_){return this.start.copy(_.start),this.end.copy(_.end),this},center:function(_){var S=_||new THREE.Vector3;return S.addVectors(this.start,this.end).multiplyScalar(0.5)},delta:function(_){var S=_||new THREE.Vector3;return S.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(_,S){var M=S||new THREE.Vector3;return this.delta(M).multiplyScalar(_).add(this.start)},closestPointToPointParameter:function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(M,T){_.subVectors(M,this.start),S.subVectors(this.end,this.start);var C=S.dot(S),A=S.dot(_),E=A/C;return T&&(E=THREE.Math.clamp(E,0,1)),E}}(),closestPointToPoint:function(_,S,M){var T=this.closestPointToPointParameter(_,S),C=M||new THREE.Vector3;return this.delta(C).multiplyScalar(T).add(this.start)},applyMatrix4:function(_){return this.start.applyMatrix4(_),this.end.applyMatrix4(_),this},equals:function(_){return _.start.equals(this.start)&&_.end.equals(this.end)},clone:function(){return new THREE.Line3().copy(this)}},THREE.Box2=function(_,S){this.min=_===void 0?new THREE.Vector2(Infinity,Infinity):_,this.max=S===void 0?new THREE.Vector2(-Infinity,-Infinity):S},THREE.Box2.prototype={constructor:THREE.Box2,set:function(_,S){return this.min.copy(_),this.max.copy(S),this},setFromPoints:function(_){if(0<_.length){var S=_[0];this.min.copy(S),this.max.copy(S);for(var M=1,T=_.length;M<T;M++)S=_[M],S.x<this.min.x?this.min.x=S.x:S.x>this.max.x&&(this.max.x=S.x),S.y<this.min.y?this.min.y=S.y:S.y>this.max.y&&(this.max.y=S.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var _=new THREE.Vector2;return function(S,M){var T=_.copy(M).multiplyScalar(0.5);return this.min.copy(S).sub(T),this.max.copy(S).add(T),this}}(),copy:function(_){return this.min.copy(_.min),this.max.copy(_.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(_){var S=_||new THREE.Vector2;return S.addVectors(this.min,this.max).multiplyScalar(0.5)},size:function(_){var S=_||new THREE.Vector2;return S.subVectors(this.max,this.min)},expandByPoint:function(_){return this.min.min(_),this.max.max(_),this},expandByVector:function(_){return this.min.sub(_),this.max.add(_),this},expandByScalar:function(_){return this.min.addScalar(-_),this.max.addScalar(_),this},containsPoint:function(_){return _.x<this.min.x||_.x>this.max.x||_.y<this.min.y||_.y>this.max.y?!1:!0},containsBox:function(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y},getParameter:function(_,S){var M=S||new THREE.Vector2;return M.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(_){return _.max.x<this.min.x||_.min.x>this.max.x||_.max.y<this.min.y||_.min.y>this.max.y?!1:!0},clampPoint:function(_,S){var M=S||new THREE.Vector2;return M.copy(_).clamp(this.min,this.max)},distanceToPoint:function(){var _=new THREE.Vector2;return function(S){var M=_.copy(S).clamp(this.min,this.max);return M.sub(S).length()}}(),intersect:function(_){return this.min.max(_.min),this.max.min(_.max),this},union:function(_){return this.min.min(_.min),this.max.max(_.max),this},translate:function(_){return this.min.add(_),this.max.add(_),this},equals:function(_){return _.min.equals(this.min)&&_.max.equals(this.max)},clone:function(){return new THREE.Box2().copy(this)}},THREE.Box3=function(_,S){this.min=_===void 0?new THREE.Vector3(Infinity,Infinity,Infinity):_,this.max=S===void 0?new THREE.Vector3(-Infinity,-Infinity,-Infinity):S},THREE.Box3.prototype={constructor:THREE.Box3,set:function(_,S){return this.min.copy(_),this.max.copy(S),this},addPoint:function(_){_.x<this.min.x?this.min.x=_.x:_.x>this.max.x&&(this.max.x=_.x),_.y<this.min.y?this.min.y=_.y:_.y>this.max.y&&(this.max.y=_.y),_.z<this.min.z?this.min.z=_.z:_.z>this.max.z&&(this.max.z=_.z)},setFromPoints:function(_){if(0<_.length){var S=_[0];this.min.copy(S),this.max.copy(S);for(var M=1,T=_.length;M<T;M++)this.addPoint(_[M])}else this.makeEmpty();return this},setFromCenterAndSize:function(){var _=new THREE.Vector3;return function(S,M){var T=_.copy(M).multiplyScalar(0.5);return this.min.copy(S).sub(T),this.max.copy(S).add(T),this}}(),setFromObject:function(){var _=new THREE.Vector3;return function(S){var M=this;return S.updateMatrixWorld(!0),this.makeEmpty(),S.traverse(function(T){if(void 0!==T.geometry&&void 0!==T.geometry.vertices)for(var C=T.geometry.vertices,A=0,E=C.length;A<E;A++)_.copy(C[A]),_.applyMatrix4(T.matrixWorld),M.expandByPoint(_)}),this}}(),copy:function(_){return this.min.copy(_.min),this.max.copy(_.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(_){var S=_||new THREE.Vector3;return S.addVectors(this.min,this.max).multiplyScalar(0.5)},size:function(_){var S=_||new THREE.Vector3;return S.subVectors(this.max,this.min)},expandByPoint:function(_){return this.min.min(_),this.max.max(_),this},expandByVector:function(_){return this.min.sub(_),this.max.add(_),this},expandByScalar:function(_){return this.min.addScalar(-_),this.max.addScalar(_),this},containsPoint:function(_){return _.x<this.min.x||_.x>this.max.x||_.y<this.min.y||_.y>this.max.y||_.z<this.min.z||_.z>this.max.z?!1:!0},containsBox:function(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y&&this.min.z<=_.min.z&&_.max.z<=this.max.z},getParameter:function(_,S){var M=S||new THREE.Vector3;return M.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y),(_.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(_){return _.max.x<this.min.x||_.min.x>this.max.x||_.max.y<this.min.y||_.min.y>this.max.y||_.max.z<this.min.z||_.min.z>this.max.z?!1:!0},clampPoint:function(_,S){var M=S||new THREE.Vector3;return M.copy(_).clamp(this.min,this.max)},distanceToPoint:function(){var _=new THREE.Vector3;return function(S){var M=_.copy(S).clamp(this.min,this.max);return M.sub(S).length()}}(),getBoundingSphere:function(){var _=new THREE.Vector3;return function(S){var M=S||new THREE.Sphere;return M.center=this.center(),M.radius=0.5*this.size(_).length(),M}}(),intersect:function(_){return this.min.max(_.min),this.max.min(_.max),this},union:function(_){return this.min.min(_.min),this.max.max(_.max),this},applyMatrix4:function(){var _=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(S){return _[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(S),_[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(S),_[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(S),_[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(S),_[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(S),_[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(S),_[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(S),_[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(S),this.makeEmpty(),this.setFromPoints(_),this}}(),translate:function(_){return this.min.add(_),this.max.add(_),this},equals:function(_){return _.min.equals(this.min)&&_.max.equals(this.max)},clone:function(){return new THREE.Box3().copy(this)}},THREE.Matrix3=function(_,S,M,T,C,A,E,L,P){this.elements=new Float32Array(9),this.set(_===void 0?1:_,S||0,M||0,T||0,C===void 0?1:C,A||0,E||0,L||0,P===void 0?1:P)},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(_,S,M,T,C,A,E,L,P){var D=this.elements;return D[0]=_,D[3]=S,D[6]=M,D[1]=T,D[4]=C,D[7]=A,D[2]=E,D[5]=L,D[8]=P,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(_){var S=_.elements;return this.set(S[0],S[3],S[6],S[1],S[4],S[7],S[2],S[5],S[8]),this},multiplyVector3:function(_){return console.warn('DEPRECATED: Matrix3\'s .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.'),_.applyMatrix3(this)},multiplyVector3Array:function(){var _=new THREE.Vector3;return function(S){for(var M=0,T=S.length;M<T;M+=3)_.x=S[M],_.y=S[M+1],_.z=S[M+2],_.applyMatrix3(this),S[M]=_.x,S[M+1]=_.y,S[M+2]=_.z;return S}}(),multiplyScalar:function(_){var S=this.elements;return S[0]*=_,S[3]*=_,S[6]*=_,S[1]*=_,S[4]*=_,S[7]*=_,S[2]*=_,S[5]*=_,S[8]*=_,this},determinant:function(){var _=this.elements,S=_[0],M=_[1],T=_[2],C=_[3],A=_[4],E=_[5],L=_[6],P=_[7],D=_[8];return S*A*D-S*E*P-M*C*D+M*E*L+T*C*P-T*A*L},getInverse:function(_,S){var M=_.elements,T=this.elements;T[0]=M[10]*M[5]-M[6]*M[9],T[1]=-M[10]*M[1]+M[2]*M[9],T[2]=M[6]*M[1]-M[2]*M[5],T[3]=-M[10]*M[4]+M[6]*M[8],T[4]=M[10]*M[0]-M[2]*M[8],T[5]=-M[6]*M[0]+M[2]*M[4],T[6]=M[9]*M[4]-M[5]*M[8],T[7]=-M[9]*M[0]+M[1]*M[8],T[8]=M[5]*M[0]-M[1]*M[4];var C=M[0]*T[0]+M[1]*T[3]+M[2]*T[6];if(0===C){var A='Matrix3.getInverse(): can\'t invert matrix, determinant is 0';if(S||!1)throw new Error(A);else console.warn(A);return this.identity(),this}return this.multiplyScalar(1/C),this},transpose:function(){var S=this.elements,_;return _=S[1],S[1]=S[3],S[3]=_,_=S[2],S[2]=S[6],S[6]=_,_=S[5],S[5]=S[7],S[7]=_,this},getNormalMatrix:function(_){return this.getInverse(_).transpose(),this},transposeIntoArray:function(_){var S=this.elements;return _[0]=S[0],_[1]=S[3],_[2]=S[6],_[3]=S[1],_[4]=S[4],_[5]=S[7],_[6]=S[2],_[7]=S[5],_[8]=S[8],this},clone:function(){var _=this.elements;return new THREE.Matrix3(_[0],_[3],_[6],_[1],_[4],_[7],_[2],_[5],_[8])}},THREE.Matrix4=function(_,S,M,T,C,A,E,L,P,D,R,F,V,U,B,N){this.elements=new Float32Array(16);var I=this.elements;I[0]=_===void 0?1:_,I[4]=S||0,I[8]=M||0,I[12]=T||0,I[1]=C||0,I[5]=A===void 0?1:A,I[9]=E||0,I[13]=L||0,I[2]=P||0,I[6]=D||0,I[10]=R===void 0?1:R,I[14]=F||0,I[3]=V||0,I[7]=U||0,I[11]=B||0,I[15]=N===void 0?1:N},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(_,S,M,T,C,A,E,L,P,D,R,F,V,U,B,N){var I=this.elements;return I[0]=_,I[4]=S,I[8]=M,I[12]=T,I[1]=C,I[5]=A,I[9]=E,I[13]=L,I[2]=P,I[6]=D,I[10]=R,I[14]=F,I[3]=V,I[7]=U,I[11]=B,I[15]=N,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(_){return this.elements.set(_.elements),this},extractPosition:function(_){return console.warn('DEPRECATED: Matrix4\'s .extractPosition() has been renamed to .copyPosition().'),this.copyPosition(_)},copyPosition:function(_){var S=this.elements,M=_.elements;return S[12]=M[12],S[13]=M[13],S[14]=M[14],this},extractRotation:function(){var _=new THREE.Vector3;return function(S){var M=this.elements,T=S.elements,C=1/_.set(T[0],T[1],T[2]).length(),A=1/_.set(T[4],T[5],T[6]).length(),E=1/_.set(T[8],T[9],T[10]).length();return M[0]=T[0]*C,M[1]=T[1]*C,M[2]=T[2]*C,M[4]=T[4]*A,M[5]=T[5]*A,M[6]=T[6]*A,M[8]=T[8]*E,M[9]=T[9]*E,M[10]=T[10]*E,this}}(),makeRotationFromEuler:function(_){!1===_ instanceof THREE.Euler&&console.error('ERROR: Matrix\'s .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.');var S=this.elements,M=_.x,T=_.y,C=_.z,A=Math.cos(M),E=Math.sin(M),L=Math.cos(T),P=Math.sin(T),D=Math.cos(C),R=Math.sin(C);if('XYZ'===_.order){var F=A*D,V=A*R,U=E*D,B=E*R;S[0]=L*D,S[4]=-L*R,S[8]=P,S[1]=V+U*P,S[5]=F-B*P,S[9]=-E*L,S[2]=B-F*P,S[6]=U+V*P,S[10]=A*L}else if('YXZ'===_.order){var N=L*D,I=L*R,O=P*D,G=P*R;S[0]=N+G*E,S[4]=O*E-I,S[8]=A*P,S[1]=A*R,S[5]=A*D,S[9]=-E,S[2]=I*E-O,S[6]=G+N*E,S[10]=A*L}else if('ZXY'===_.order){var N=L*D,I=L*R,O=P*D,G=P*R;S[0]=N-G*E,S[4]=-A*R,S[8]=O+I*E,S[1]=I+O*E,S[5]=A*D,S[9]=G-N*E,S[2]=-A*P,S[6]=E,S[10]=A*L}else if('ZYX'===_.order){var F=A*D,V=A*R,U=E*D,B=E*R;S[0]=L*D,S[4]=U*P-V,S[8]=F*P+B,S[1]=L*R,S[5]=B*P+F,S[9]=V*P-U,S[2]=-P,S[6]=E*L,S[10]=A*L}else if('YZX'===_.order){var H=A*L,W=A*P,X=E*L,Y=E*P;S[0]=L*D,S[4]=Y-H*R,S[8]=X*R+W,S[1]=R,S[5]=A*D,S[9]=-E*D,S[2]=-P*D,S[6]=W*R+X,S[10]=H-Y*R}else if('XZY'===_.order){var H=A*L,W=A*P,X=E*L,Y=E*P;S[0]=L*D,S[4]=-R,S[8]=P*D,S[1]=H*R+Y,S[5]=A*D,S[9]=W*R-X,S[2]=X*R-W,S[6]=E*D,S[10]=Y*R+H}return S[3]=0,S[7]=0,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,this},setRotationFromQuaternion:function(_){return console.warn('DEPRECATED: Matrix4\'s .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code.'),this.makeRotationFromQuaternion(_)},makeRotationFromQuaternion:function(_){var S=this.elements,M=_.x,T=_.y,C=_.z,A=_.w,E=M+M,L=T+T,P=C+C,D=M*E,R=M*L,F=M*P,V=T*L,U=T*P,B=C*P,N=A*E,I=A*L,O=A*P;return S[0]=1-(V+B),S[4]=R-O,S[8]=F+I,S[1]=R+O,S[5]=1-(D+B),S[9]=U-N,S[2]=F-I,S[6]=U+N,S[10]=1-(D+V),S[3]=0,S[7]=0,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,this},lookAt:function(){var _=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Vector3;return function(T,C,A){var E=this.elements;return M.subVectors(T,C).normalize(),0===M.length()&&(M.z=1),_.crossVectors(A,M).normalize(),0===_.length()&&(M.x+=1e-4,_.crossVectors(A,M).normalize()),S.crossVectors(M,_),E[0]=_.x,E[4]=S.x,E[8]=M.x,E[1]=_.y,E[5]=S.y,E[9]=M.y,E[2]=_.z,E[6]=S.z,E[10]=M.z,this}}(),multiply:function(_,S){return void 0===S?this.multiplyMatrices(this,_):(console.warn('DEPRECATED: Matrix4\'s .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.'),this.multiplyMatrices(_,S))},multiplyMatrices:function(_,S){var M=_.elements,T=S.elements,C=this.elements,A=M[0],E=M[4],L=M[8],P=M[12],D=M[1],R=M[5],F=M[9],V=M[13],U=M[2],B=M[6],N=M[10],I=M[14],O=M[3],G=M[7],H=M[11],W=M[15],X=T[0],Y=T[4],K=T[8],Q=T[12],Z=T[1],J=T[5],$=T[9],ee=T[13],re=T[2],oe=T[6],ie=T[10],ne=T[14],se=T[3],le=T[7],pe=T[11],ue=T[15];return C[0]=A*X+E*Z+L*re+P*se,C[4]=A*Y+E*J+L*oe+P*le,C[8]=A*K+E*$+L*ie+P*pe,C[12]=A*Q+E*ee+L*ne+P*ue,C[1]=D*X+R*Z+F*re+V*se,C[5]=D*Y+R*J+F*oe+V*le,C[9]=D*K+R*$+F*ie+V*pe,C[13]=D*Q+R*ee+F*ne+V*ue,C[2]=U*X+B*Z+N*re+I*se,C[6]=U*Y+B*J+N*oe+I*le,C[10]=U*K+B*$+N*ie+I*pe,C[14]=U*Q+B*ee+N*ne+I*ue,C[3]=O*X+G*Z+H*re+W*se,C[7]=O*Y+G*J+H*oe+W*le,C[11]=O*K+G*$+H*ie+W*pe,C[15]=O*Q+G*ee+H*ne+W*ue,this},multiplyToArray:function(_,S,M){var T=this.elements;return this.multiplyMatrices(_,S),M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3],M[4]=T[4],M[5]=T[5],M[6]=T[6],M[7]=T[7],M[8]=T[8],M[9]=T[9],M[10]=T[10],M[11]=T[11],M[12]=T[12],M[13]=T[13],M[14]=T[14],M[15]=T[15],this},multiplyScalar:function(_){var S=this.elements;return S[0]*=_,S[4]*=_,S[8]*=_,S[12]*=_,S[1]*=_,S[5]*=_,S[9]*=_,S[13]*=_,S[2]*=_,S[6]*=_,S[10]*=_,S[14]*=_,S[3]*=_,S[7]*=_,S[11]*=_,S[15]*=_,this},multiplyVector3:function(_){return console.warn('DEPRECATED: Matrix4\'s .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.'),_.applyProjection(this)},multiplyVector4:function(_){return console.warn('DEPRECATED: Matrix4\'s .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.'),_.applyMatrix4(this)},multiplyVector3Array:function(){var _=new THREE.Vector3;return function(S){for(var M=0,T=S.length;M<T;M+=3)_.x=S[M],_.y=S[M+1],_.z=S[M+2],_.applyProjection(this),S[M]=_.x,S[M+1]=_.y,S[M+2]=_.z;return S}}(),rotateAxis:function(_){console.warn('DEPRECATED: Matrix4\'s .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.'),_.transformDirection(this)},crossVector:function(_){return console.warn('DEPRECATED: Matrix4\'s .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.'),_.applyMatrix4(this)},determinant:function(){var _=this.elements,S=_[0],M=_[4],T=_[8],C=_[12],A=_[1],E=_[5],L=_[9],P=_[13],D=_[2],R=_[6],F=_[10],V=_[14],U=_[3],B=_[7],N=_[11],I=_[15];return U*(+C*L*R-T*P*R-C*E*F+M*P*F+T*E*V-M*L*V)+B*(+S*L*V-S*P*F+C*A*F-T*A*V+T*P*D-C*L*D)+N*(+S*P*R-S*E*V-C*A*R+M*A*V+C*E*D-M*P*D)+I*(-T*E*D-S*L*R+S*E*F+T*A*R-M*A*F+M*L*D)},transpose:function(){var _=this.elements,S;return S=_[1],_[1]=_[4],_[4]=S,S=_[2],_[2]=_[8],_[8]=S,S=_[6],_[6]=_[9],_[9]=S,S=_[3],_[3]=_[12],_[12]=S,S=_[7],_[7]=_[13],_[13]=S,S=_[11],_[11]=_[14],_[14]=S,this},flattenToArray:function(_){var S=this.elements;return _[0]=S[0],_[1]=S[1],_[2]=S[2],_[3]=S[3],_[4]=S[4],_[5]=S[5],_[6]=S[6],_[7]=S[7],_[8]=S[8],_[9]=S[9],_[10]=S[10],_[11]=S[11],_[12]=S[12],_[13]=S[13],_[14]=S[14],_[15]=S[15],_},flattenToArrayOffset:function(_,S){var M=this.elements;return _[S]=M[0],_[S+1]=M[1],_[S+2]=M[2],_[S+3]=M[3],_[S+4]=M[4],_[S+5]=M[5],_[S+6]=M[6],_[S+7]=M[7],_[S+8]=M[8],_[S+9]=M[9],_[S+10]=M[10],_[S+11]=M[11],_[S+12]=M[12],_[S+13]=M[13],_[S+14]=M[14],_[S+15]=M[15],_},getPosition:function(){var _=new THREE.Vector3;return function(){console.warn('DEPRECATED: Matrix4\'s .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');var S=this.elements;return _.set(S[12],S[13],S[14])}}(),setPosition:function(_){var S=this.elements;return S[12]=_.x,S[13]=_.y,S[14]=_.z,this},getInverse:function(_,S){var M=this.elements,T=_.elements,C=T[0],A=T[4],E=T[8],L=T[12],P=T[1],D=T[5],R=T[9],F=T[13],V=T[2],U=T[6],B=T[10],N=T[14],I=T[3],O=T[7],G=T[11],H=T[15];M[0]=R*N*O-F*B*O+F*U*G-D*N*G-R*U*H+D*B*H,M[4]=L*B*O-E*N*O-L*U*G+A*N*G+E*U*H-A*B*H,M[8]=E*F*O-L*R*O+L*D*G-A*F*G-E*D*H+A*R*H,M[12]=L*R*U-E*F*U-L*D*B+A*F*B+E*D*N-A*R*N,M[1]=F*B*I-R*N*I-F*V*G+P*N*G+R*V*H-P*B*H,M[5]=E*N*I-L*B*I+L*V*G-C*N*G-E*V*H+C*B*H,M[9]=L*R*I-E*F*I-L*P*G+C*F*G+E*P*H-C*R*H,M[13]=E*F*V-L*R*V+L*P*B-C*F*B-E*P*N+C*R*N,M[2]=D*N*I-F*U*I+F*V*O-P*N*O-D*V*H+P*U*H,M[6]=L*U*I-A*N*I-L*V*O+C*N*O+A*V*H-C*U*H,M[10]=A*F*I-L*D*I+L*P*O-C*F*O-A*P*H+C*D*H,M[14]=L*D*V-A*F*V-L*P*U+C*F*U+A*P*N-C*D*N,M[3]=R*U*I-D*B*I-R*V*O+P*B*O+D*V*G-P*U*G,M[7]=A*B*I-E*U*I+E*V*O-C*B*O-A*V*G+C*U*G,M[11]=E*D*I-A*R*I-E*P*O+C*R*O+A*P*G-C*D*G,M[15]=A*R*V-E*D*V+E*P*U-C*R*U-A*P*B+C*D*B;var W=C*M[0]+P*M[4]+V*M[8]+I*M[12];if(0==W){var X='Matrix4.getInverse(): can\'t invert matrix, determinant is 0';if(S||!1)throw new Error(X);else console.warn(X);return this.identity(),this}return this.multiplyScalar(1/W),this},translate:function(){console.warn('DEPRECATED: Matrix4\'s .translate() has been removed.')},rotateX:function(){console.warn('DEPRECATED: Matrix4\'s .rotateX() has been removed.')},rotateY:function(){console.warn('DEPRECATED: Matrix4\'s .rotateY() has been removed.')},rotateZ:function(){console.warn('DEPRECATED: Matrix4\'s .rotateZ() has been removed.')},rotateByAxis:function(){console.warn('DEPRECATED: Matrix4\'s .rotateByAxis() has been removed.')},scale:function(_){var S=this.elements,M=_.x,T=_.y,C=_.z;return S[0]*=M,S[4]*=T,S[8]*=C,S[1]*=M,S[5]*=T,S[9]*=C,S[2]*=M,S[6]*=T,S[10]*=C,S[3]*=M,S[7]*=T,S[11]*=C,this},getMaxScaleOnAxis:function(){var _=this.elements,S=_[0]*_[0]+_[1]*_[1]+_[2]*_[2],M=_[4]*_[4]+_[5]*_[5]+_[6]*_[6],T=_[8]*_[8]+_[9]*_[9]+_[10]*_[10];return Math.sqrt(Math.max(S,Math.max(M,T)))},makeTranslation:function(_,S,M){return this.set(1,0,0,_,0,1,0,S,0,0,1,M,0,0,0,1),this},makeRotationX:function(_){var S=Math.cos(_),M=Math.sin(_);return this.set(1,0,0,0,0,S,-M,0,0,M,S,0,0,0,0,1),this},makeRotationY:function(_){var S=Math.cos(_),M=Math.sin(_);return this.set(S,0,M,0,0,1,0,0,-M,0,S,0,0,0,0,1),this},makeRotationZ:function(_){var S=Math.cos(_),M=Math.sin(_);return this.set(S,-M,0,0,M,S,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(_,S){var M=Math.cos(S),T=Math.sin(S),C=1-M,A=_.x,E=_.y,L=_.z,P=C*A,D=C*E;return this.set(P*A+M,P*E-T*L,P*L+T*E,0,P*E+T*L,D*E+M,D*L-T*A,0,P*L-T*E,D*L+T*A,C*L*L+M,0,0,0,0,1),this},makeScale:function(_,S,M){return this.set(_,0,0,0,0,S,0,0,0,0,M,0,0,0,0,1),this},compose:function(_,S,M){return this.makeRotationFromQuaternion(S),this.scale(M),this.setPosition(_),this},decompose:function(){var _=new THREE.Vector3,S=new THREE.Matrix4;return function(M,T,C){var A=this.elements,E=_.set(A[0],A[1],A[2]).length(),L=_.set(A[4],A[5],A[6]).length(),P=_.set(A[8],A[9],A[10]).length();M.x=A[12],M.y=A[13],M.z=A[14],S.elements.set(this.elements);var D=1/E,R=1/L,F=1/P;return S.elements[0]*=D,S.elements[1]*=D,S.elements[2]*=D,S.elements[4]*=R,S.elements[5]*=R,S.elements[6]*=R,S.elements[8]*=F,S.elements[9]*=F,S.elements[10]*=F,T.setFromRotationMatrix(S),C.x=E,C.y=L,C.z=P,this}}(),makeFrustum:function(_,S,M,T,C,A){var E=this.elements;return E[0]=2*C/(S-_),E[4]=0,E[8]=(S+_)/(S-_),E[12]=0,E[1]=0,E[5]=2*C/(T-M),E[9]=(T+M)/(T-M),E[13]=0,E[2]=0,E[6]=0,E[10]=-(A+C)/(A-C),E[14]=-2*A*C/(A-C),E[3]=0,E[7]=0,E[11]=-1,E[15]=0,this},makePerspective:function(_,S,M,T){var C=M*Math.tan(THREE.Math.degToRad(0.5*_)),A=-C;return this.makeFrustum(A*S,C*S,A,C,M,T)},makeOrthographic:function(_,S,M,T,C,A){var E=this.elements,L=S-_,P=M-T,D=A-C;return E[0]=2/L,E[4]=0,E[8]=0,E[12]=-((S+_)/L),E[1]=0,E[5]=2/P,E[9]=0,E[13]=-((M+T)/P),E[2]=0,E[6]=0,E[10]=-2/D,E[14]=-((A+C)/D),E[3]=0,E[7]=0,E[11]=0,E[15]=1,this},fromArray:function(_){return this.elements.set(_),this},toArray:function(){var _=this.elements;return[_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]]},clone:function(){var _=this.elements;return new THREE.Matrix4(_[0],_[4],_[8],_[12],_[1],_[5],_[9],_[13],_[2],_[6],_[10],_[14],_[3],_[7],_[11],_[15])}},THREE.Ray=function(_,S){this.origin=_===void 0?new THREE.Vector3:_,this.direction=S===void 0?new THREE.Vector3:S},THREE.Ray.prototype={constructor:THREE.Ray,set:function(_,S){return this.origin.copy(_),this.direction.copy(S),this},copy:function(_){return this.origin.copy(_.origin),this.direction.copy(_.direction),this},at:function(_,S){var M=S||new THREE.Vector3;return M.copy(this.direction).multiplyScalar(_).add(this.origin)},recast:function(){var _=new THREE.Vector3;return function(S){return this.origin.copy(this.at(S,_)),this}}(),closestPointToPoint:function(_,S){var M=S||new THREE.Vector3;M.subVectors(_,this.origin);var T=M.dot(this.direction);return 0>T?M.copy(this.origin):M.copy(this.direction).multiplyScalar(T).add(this.origin)},distanceToPoint:function(){var _=new THREE.Vector3;return function(S){var M=_.subVectors(S,this.origin).dot(this.direction);return 0>M?this.origin.distanceTo(S):(_.copy(this.direction).multiplyScalar(M).add(this.origin),_.distanceTo(S))}}(),distanceSqToSegment:function(_,S,M,T){var C=_.clone().add(S).multiplyScalar(0.5),A=S.clone().sub(_).normalize(),E=0.5*_.distanceTo(S),L=this.origin.clone().sub(C),P=-this.direction.dot(A),D=L.dot(this.direction),R=-L.dot(A),F=L.lengthSq(),V=Math.abs(1-P*P),U,B,N,I;if(!(0<=V))B=0<P?-E:E,U=Math.max(0,-(P*B+D)),N=-U*U+B*(B+2*R)+F;else if(U=P*R-D,B=P*D-R,I=E*V,!(0<=U))B<=-I?(U=Math.max(0,-(-P*E+D)),B=0<U?-E:Math.min(Math.max(-E,-R),E),N=-U*U+B*(B+2*R)+F):B<=I?(U=0,B=Math.min(Math.max(-E,-R),E),N=B*(B+2*R)+F):(U=Math.max(0,-(P*E+D)),B=0<U?E:Math.min(Math.max(-E,-R),E),N=-U*U+B*(B+2*R)+F);else if(!(B>=-I))B=-E,U=Math.max(0,-(P*B+D)),N=-U*U+B*(B+2*R)+F;else if(B<=I){var O=1/V;U*=O,B*=O,N=U*(U+P*B+2*D)+B*(P*U+B+2*R)+F}else B=E,U=Math.max(0,-(P*B+D)),N=-U*U+B*(B+2*R)+F;return M&&M.copy(this.direction.clone().multiplyScalar(U).add(this.origin)),T&&T.copy(A.clone().multiplyScalar(B).add(C)),N},isIntersectionSphere:function(_){return this.distanceToPoint(_.center)<=_.radius},isIntersectionPlane:function(_){var S=_.distanceToPoint(this.origin);if(0===S)return!0;var M=_.normal.dot(this.direction);return!!(0>M*S)},distanceToPlane:function(_){var S=_.normal.dot(this.direction);if(0==S)return 0==_.distanceToPoint(this.origin)?0:null;var M=-(this.origin.dot(_.normal)+_.constant)/S;return 0<=M?M:null},intersectPlane:function(_,S){var M=this.distanceToPlane(_);return null===M?null:this.at(M,S)},isIntersectionBox:function(){var _=new THREE.Vector3;return function(S){return null!==this.intersectBox(S,_)}}(),intersectBox:function(_,S){var P=1/this.direction.x,D=1/this.direction.y,R=1/this.direction.z,F=this.origin,M,T,C,A,E,L;return(0<=P?(M=(_.min.x-F.x)*P,T=(_.max.x-F.x)*P):(M=(_.max.x-F.x)*P,T=(_.min.x-F.x)*P),0<=D?(C=(_.min.y-F.y)*D,A=(_.max.y-F.y)*D):(C=(_.max.y-F.y)*D,A=(_.min.y-F.y)*D),M>A||C>T)?null:((C>M||M!==M)&&(M=C),(A<T||T!==T)&&(T=A),0<=R?(E=(_.min.z-F.z)*R,L=(_.max.z-F.z)*R):(E=(_.max.z-F.z)*R,L=(_.min.z-F.z)*R),M>L||E>T)?null:((E>M||M!==M)&&(M=E),(L<T||T!==T)&&(T=L),0>T?null:this.at(0<=M?M:T,S))},intersectTriangle:function(){var _=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Vector3,T=new THREE.Vector3;return function(C,A,E,L,P){S.subVectors(A,C),M.subVectors(E,C),T.crossVectors(S,M);var D=this.direction.dot(T),R;if(0<D){if(L)return null;R=1}else if(0>D)R=-1,D=-D;else return null;_.subVectors(this.origin,C);var F=R*this.direction.dot(M.crossVectors(_,M));if(0>F)return null;var V=R*this.direction.dot(S.cross(_));if(0>V)return null;if(F+V>D)return null;var U=-R*_.dot(T);return 0>U?null:this.at(U/D,P)}}(),applyMatrix4:function(_){return this.direction.add(this.origin).applyMatrix4(_),this.origin.applyMatrix4(_),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(_){return _.origin.equals(this.origin)&&_.direction.equals(this.direction)},clone:function(){return new THREE.Ray().copy(this)}},THREE.Sphere=function(_,S){this.center=_===void 0?new THREE.Vector3:_,this.radius=S===void 0?0:S},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(_,S){return this.center.copy(_),this.radius=S,this},setFromPoints:function(){var _=new THREE.Box3;return function(S,M){var T=this.center;void 0===M?_.setFromPoints(S).center(T):T.copy(M);for(var C=0,A=0,E=S.length;A<E;A++)C=Math.max(C,T.distanceToSquared(S[A]));return this.radius=Math.sqrt(C),this}}(),copy:function(_){return this.center.copy(_.center),this.radius=_.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(_){return _.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(_){return _.distanceTo(this.center)-this.radius},intersectsSphere:function(_){var S=this.radius+_.radius;return _.center.distanceToSquared(this.center)<=S*S},clampPoint:function(_,S){var M=this.center.distanceToSquared(_),T=S||new THREE.Vector3;return T.copy(_),M>this.radius*this.radius&&(T.sub(this.center).normalize(),T.multiplyScalar(this.radius).add(this.center)),T},getBoundingBox:function(_){var S=_||new THREE.Box3;return S.set(this.center,this.center),S.expandByScalar(this.radius),S},applyMatrix4:function(_){return this.center.applyMatrix4(_),this.radius*=_.getMaxScaleOnAxis(),this},translate:function(_){return this.center.add(_),this},equals:function(_){return _.center.equals(this.center)&&_.radius===this.radius},clone:function(){return new THREE.Sphere().copy(this)}},THREE.Frustum=function(_,S,M,T,C,A){this.planes=[_===void 0?new THREE.Plane:_,S===void 0?new THREE.Plane:S,M===void 0?new THREE.Plane:M,T===void 0?new THREE.Plane:T,C===void 0?new THREE.Plane:C,A===void 0?new THREE.Plane:A]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(_,S,M,T,C,A){var E=this.planes;return E[0].copy(_),E[1].copy(S),E[2].copy(M),E[3].copy(T),E[4].copy(C),E[5].copy(A),this},copy:function(_){for(var S=this.planes,M=0;6>M;M++)S[M].copy(_.planes[M]);return this},setFromMatrix:function(_){var S=this.planes,M=_.elements,T=M[0],C=M[1],A=M[2],E=M[3],L=M[4],P=M[5],D=M[6],R=M[7],F=M[8],V=M[9],U=M[10],B=M[11],N=M[12],I=M[13],O=M[14],G=M[15];return S[0].setComponents(E-T,R-L,B-F,G-N).normalize(),S[1].setComponents(E+T,R+L,B+F,G+N).normalize(),S[2].setComponents(E+C,R+P,B+V,G+I).normalize(),S[3].setComponents(E-C,R-P,B-V,G-I).normalize(),S[4].setComponents(E-A,R-D,B-U,G-O).normalize(),S[5].setComponents(E+A,R+D,B+U,G+O).normalize(),this},intersectsObject:function(){var _=new THREE.Sphere;return function(S){var M=S.geometry;return null===M.boundingSphere&&M.computeBoundingSphere(),_.copy(M.boundingSphere),_.applyMatrix4(S.matrixWorld),this.intersectsSphere(_)}}(),intersectsSphere:function(_){for(var S=this.planes,M=_.center,T=-_.radius,C=0,A;6>C;C++)if(A=S[C].distanceToPoint(M),A<T)return!1;return!0},intersectsBox:function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(M){for(var T=this.planes,C=0,A;6>C;C++){A=T[C],_.x=0<A.normal.x?M.min.x:M.max.x,S.x=0<A.normal.x?M.max.x:M.min.x,_.y=0<A.normal.y?M.min.y:M.max.y,S.y=0<A.normal.y?M.max.y:M.min.y,_.z=0<A.normal.z?M.min.z:M.max.z,S.z=0<A.normal.z?M.max.z:M.min.z;var E=A.distanceToPoint(_),L=A.distanceToPoint(S);if(0>E&&0>L)return!1}return!0}}(),containsPoint:function(_){for(var S=this.planes,M=0;6>M;M++)if(0>S[M].distanceToPoint(_))return!1;return!0},clone:function(){return new THREE.Frustum().copy(this)}},THREE.Plane=function(_,S){this.normal=_===void 0?new THREE.Vector3(1,0,0):_,this.constant=S===void 0?0:S},THREE.Plane.prototype={constructor:THREE.Plane,set:function(_,S){return this.normal.copy(_),this.constant=S,this},setComponents:function(_,S,M,T){return this.normal.set(_,S,M),this.constant=T,this},setFromNormalAndCoplanarPoint:function(_,S){return this.normal.copy(_),this.constant=-S.dot(this.normal),this},setFromCoplanarPoints:function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(M,T,C){var A=_.subVectors(C,T).cross(S.subVectors(M,T)).normalize();return this.setFromNormalAndCoplanarPoint(A,M),this}}(),copy:function(_){return this.normal.copy(_.normal),this.constant=_.constant,this},normalize:function(){var _=1/this.normal.length();return this.normal.multiplyScalar(_),this.constant*=_,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(_){return this.normal.dot(_)+this.constant},distanceToSphere:function(_){return this.distanceToPoint(_.center)-_.radius},projectPoint:function(_,S){return this.orthoPoint(_,S).sub(_).negate()},orthoPoint:function(_,S){var M=this.distanceToPoint(_),T=S||new THREE.Vector3;return T.copy(this.normal).multiplyScalar(M)},isIntersectionLine:function(_){var S=this.distanceToPoint(_.start),M=this.distanceToPoint(_.end);return 0>S&&0<M||0>M&&0<S},intersectLine:function(){var _=new THREE.Vector3;return function(S,M){var T=M||new THREE.Vector3,C=S.delta(_),A=this.normal.dot(C);if(0==A)return 0==this.distanceToPoint(S.start)?T.copy(S.start):void 0;var E=-(S.start.dot(this.normal)+this.constant)/A;return 0>E||1<E?void 0:T.copy(C).multiplyScalar(E).add(S.start)}}(),coplanarPoint:function(_){var S=_||new THREE.Vector3;return S.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var _=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Matrix3;return function(T,C){var A=C||M.getNormalMatrix(T),E=_.copy(this.normal).applyMatrix3(A),L=this.coplanarPoint(S);return L.applyMatrix4(T),this.setFromNormalAndCoplanarPoint(E,L),this}}(),translate:function(_){return this.constant-=_.dot(this.normal),this},equals:function(_){return _.normal.equals(this.normal)&&_.constant==this.constant},clone:function(){return new THREE.Plane().copy(this)}},THREE.Math={PI2:2*Math.PI,generateUUID:function(){var _='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),S=Array(36),M=0,T;return function(){for(var C=0;36>C;C++)8==C||13==C||18==C||23==C?S[C]='-':14==C?S[C]='4':(2>=M&&(M=0|33554432+16777216*Math.random()),T=15&M,M>>=4,S[C]=_[19==C?8|3&T:T]);return S.join('')}}(),clamp:function(_,S,M){return _<S?S:_>M?M:_},clampBottom:function(_,S){return _<S?S:_},mapLinear:function(_,S,M,T,C){return T+(_-S)*(C-T)/(M-S)},smoothstep:function(_,S,M){return _<=S?0:_>=M?1:(_=(_-S)/(M-S),_*_*(3-2*_))},smootherstep:function(_,S,M){return _<=S?0:_>=M?1:(_=(_-S)/(M-S),_*_*_*(_*(6*_-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(_,S){return _+Math.floor(Math.random()*(S-_+1))},randFloat:function(_,S){return _+Math.random()*(S-_)},randFloatSpread:function(_){return _*(0.5-Math.random())},sign:function(_){return 0>_?-1:0<_?1:0},degToRad:function(){var _=Math.PI/180;return function(S){return S*_}}(),radToDeg:function(){var _=180/Math.PI;return function(S){return S*_}}()},THREE.Spline=function(_){function S(U,B,N,I,O,G,H){var W=0.5*(N-U),X=0.5*(I-B);return(2*(B-N)+W+X)*H+(-3*(B-N)-2*W-X)*G+W*O+B}this.points=_;var M=[],T={x:0,y:0,z:0},C,A,E,L,P,D,R,F,V;this.initFromArray=function(U){this.points=[];for(var B=0;B<U.length;B++)this.points[B]={x:U[B][0],y:U[B][1],z:U[B][2]}},this.getPoint=function(U){return C=(this.points.length-1)*U,A=Math.floor(C),E=C-A,M[0]=0===A?A:A-1,M[1]=A,M[2]=A>this.points.length-2?this.points.length-1:A+1,M[3]=A>this.points.length-3?this.points.length-1:A+2,D=this.points[M[0]],R=this.points[M[1]],F=this.points[M[2]],V=this.points[M[3]],L=E*E,P=E*L,T.x=S(D.x,R.x,F.x,V.x,E,L,P),T.y=S(D.y,R.y,F.y,V.y,E,L,P),T.z=S(D.z,R.z,F.z,V.z,E,L,P),T},this.getControlPointsArray=function(){var N=this.points.length,I=[],U,B;for(U=0;U<N;U++)B=this.points[U],I[U]=[B.x,B.y,B.z];return I},this.getLength=function(U){var G=0,H=0,W=0,X=new THREE.Vector3,Y=new THREE.Vector3,K=[],Q=0,B,N,I,O;for(K[0]=0,U||(U=100),I=this.points.length*U,X.copy(this.points[0]),B=1;B<I;B++)N=B/I,O=this.getPoint(N),Y.copy(O),Q+=Y.distanceTo(X),X.copy(O),G=(this.points.length-1)*N,H=Math.floor(G),H!=W&&(K[H]=Q,W=H);return K[K.length]=Q,{chunks:K,total:Q}},this.reparametrizeByArcLength=function(U){var K=[],Q=new THREE.Vector3,Z=this.getLength(),B,N,I,O,G,W,X,Y;for(K.push(Q.copy(this.points[0]).clone()),B=1;B<this.points.length;B++){for(W=Z.chunks[B]-Z.chunks[B-1],X=Math.ceil(U*W/Z.total),O=(B-1)/(this.points.length-1),G=B/(this.points.length-1),N=1;N<X-1;N++)I=O+N*(1/X)*(G-O),Y=this.getPoint(I),K.push(Q.copy(Y).clone());K.push(Q.copy(this.points[B]).clone())}this.points=K}},THREE.Triangle=function(_,S,M){this.a=_===void 0?new THREE.Vector3:_,this.b=S===void 0?new THREE.Vector3:S,this.c=M===void 0?new THREE.Vector3:M},THREE.Triangle.normal=function(){var _=new THREE.Vector3;return function(S,M,T,C){var A=C||new THREE.Vector3;A.subVectors(T,M),_.subVectors(S,M),A.cross(_);var E=A.lengthSq();return 0<E?A.multiplyScalar(1/Math.sqrt(E)):A.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var _=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Vector3;return function(T,C,A,E,L){_.subVectors(E,C),S.subVectors(A,C),M.subVectors(T,C);var P=_.dot(_),D=_.dot(S),R=_.dot(M),F=S.dot(S),V=S.dot(M),U=P*F-D*D,B=L||new THREE.Vector3;if(0==U)return B.set(-2,-1,-1);var N=1/U,I=(F*R-D*V)*N,O=(P*V-D*R)*N;return B.set(1-I-O,O,I)}}(),THREE.Triangle.containsPoint=function(){var _=new THREE.Vector3;return function(S,M,T,C){var A=THREE.Triangle.barycoordFromPoint(S,M,T,C,_);return 0<=A.x&&0<=A.y&&1>=A.x+A.y}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(_,S,M){return this.a.copy(_),this.b.copy(S),this.c.copy(M),this},setFromPointsAndIndices:function(_,S,M,T){return this.a.copy(_[S]),this.b.copy(_[M]),this.c.copy(_[T]),this},copy:function(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this},area:function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(){return _.subVectors(this.c,this.b),S.subVectors(this.a,this.b),0.5*_.cross(S).length()}}(),midpoint:function(_){var S=_||new THREE.Vector3;return S.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(_){return THREE.Triangle.normal(this.a,this.b,this.c,_)},plane:function(_){var S=_||new THREE.Plane;return S.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(_,S){return THREE.Triangle.barycoordFromPoint(_,this.a,this.b,this.c,S)},containsPoint:function(_){return THREE.Triangle.containsPoint(_,this.a,this.b,this.c)},equals:function(_){return _.a.equals(this.a)&&_.b.equals(this.b)&&_.c.equals(this.c)},clone:function(){return new THREE.Triangle().copy(this)}},THREE.Vertex=function(_){return console.warn('THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.'),_},THREE.UV=function(_,S){return console.warn('THREE.UV has been DEPRECATED. Use THREE.Vector2 instead.'),new THREE.Vector2(_,S)},THREE.Clock=function(_){this.autoStart=!(_!==void 0)||_,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=self.performance!==void 0&&self.performance.now!==void 0?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var _=0;if(this.autoStart&&!this.running&&this.start(),this.running){var S=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();_=1e-3*(S-this.oldTime),this.oldTime=S,this.elapsedTime+=_}return _}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(_){_.addEventListener=THREE.EventDispatcher.prototype.addEventListener,_.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,_.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,_.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(_,S){this._listeners===void 0&&(this._listeners={});var M=this._listeners;M[_]===void 0&&(M[_]=[]),-1===M[_].indexOf(S)&&M[_].push(S)},hasEventListener:function(_,S){if(this._listeners===void 0)return!1;var M=this._listeners;return void 0!==M[_]&&-1!==M[_].indexOf(S)},removeEventListener:function(_,S){if(void 0!==this._listeners){var M=this._listeners,T=M[_];if(void 0!==T){var C=T.indexOf(S);-1!==C&&T.splice(C,1)}}},dispatchEvent:function(){var _=[];return function(S){if(void 0!==this._listeners){var M=this._listeners,T=M[S.type];if(void 0!==T){S.target=this;for(var C=T.length,A=0;A<C;A++)_[A]=T[A];for(var A=0;A<C;A++)_[A].call(this,S)}}}}()},function(_){_.Raycaster=function(U,B,N,I){this.ray=new _.Ray(U,B),this.near=N||0,this.far=I||Infinity};var S=new _.Sphere,M=new _.Ray,T=new _.Plane,C=new _.Vector3,A=new _.Vector3,E=new _.Matrix4,L=function(U,B){return U.distance-B.distance},P=new _.Vector3,D=new _.Vector3,R=new _.Vector3,F=function(U,B,N){if(U instanceof _.Sprite){A.setFromMatrixPosition(U.matrixWorld);var I=B.ray.distanceToPoint(A);if(I>U.scale.x)return N;N.push({distance:I,point:U.position,face:null,object:U})}else if(U instanceof _.LOD){A.setFromMatrixPosition(U.matrixWorld);var I=B.ray.origin.distanceTo(A);F(U.getObjectForDistance(I),B,N)}else if(U instanceof _.Mesh){var O=U.geometry;if(null===O.boundingSphere&&O.computeBoundingSphere(),S.copy(O.boundingSphere),S.applyMatrix4(U.matrixWorld),!1===B.ray.isIntersectionSphere(S))return N;if(E.getInverse(U.matrixWorld),M.copy(B.ray).applyMatrix4(E),null!==O.boundingBox&&!1===M.isIntersectionBox(O.boundingBox))return N;if(O instanceof _.BufferGeometry){var G=U.material;if(void 0===G)return N;if(!1===O.dynamic)return N;var Y=B.precision,H,W,X;if(void 0!==O.attributes.index)for(var K=O.offsets,Q=O.attributes.index.array,Z=O.attributes.position.array,J=O.offsets.length,$=O.attributes.index.array.length/3,ee=0;ee<J;++ee)for(var re=K[ee].start,oe=K[ee].count,ie=K[ee].index,ne=re;ne<re+oe;ne+=3){if(H=ie+Q[ne],W=ie+Q[ne+1],X=ie+Q[ne+2],P.set(Z[3*H],Z[3*H+1],Z[3*H+2]),D.set(Z[3*W],Z[3*W+1],Z[3*W+2]),R.set(Z[3*X],Z[3*X+1],Z[3*X+2]),G.side===_.BackSide)var le=M.intersectTriangle(R,D,P,!0);else var le=M.intersectTriangle(P,D,R,G.side!==_.DoubleSide);if(null!==le){le.applyMatrix4(U.matrixWorld);var I=B.ray.origin.distanceTo(le);I<Y||I<B.near||I>B.far||N.push({distance:I,point:le,face:null,faceIndex:null,object:U})}}else for(var K=O.offsets,Z=O.attributes.position.array,J=O.offsets.length,$=O.attributes.position.array.length,ne=0;ne<$;ne+=3){if(H=ne,W=ne+1,X=ne+2,P.set(Z[3*H],Z[3*H+1],Z[3*H+2]),D.set(Z[3*W],Z[3*W+1],Z[3*W+2]),R.set(Z[3*X],Z[3*X+1],Z[3*X+2]),G.side===_.BackSide)var le=M.intersectTriangle(R,D,P,!0);else var le=M.intersectTriangle(P,D,R,G.side!==_.DoubleSide);if(null!==le){le.applyMatrix4(U.matrixWorld);var I=B.ray.origin.distanceTo(le);I<Y||I<B.near||I>B.far||N.push({distance:I,point:le,face:null,faceIndex:null,object:U})}}}else if(O instanceof _.Geometry)for(var pe=U.material instanceof _.MeshFaceMaterial,ue=!0===pe?U.material.materials:null,Y=B.precision,fe=O.vertices,ge=0,$=O.faces.length,H,W,X;ge<$;ge++){var ye=O.faces[ge],G=!0===pe?ue[ye.materialIndex]:U.material;if(void 0!==G){if(H=fe[ye.a],W=fe[ye.b],X=fe[ye.c],G.side===_.BackSide)var le=M.intersectTriangle(X,W,H,!0);else var le=M.intersectTriangle(H,W,X,G.side!==_.DoubleSide);if(null!==le){le.applyMatrix4(U.matrixWorld);var I=B.ray.origin.distanceTo(le);I<Y||I<B.near||I>B.far||N.push({distance:I,point:le,face:ye,faceIndex:ge,object:U})}}}}else if(U instanceof _.Line){var Y=B.linePrecision,O=U.geometry;if(null===O.boundingSphere&&O.computeBoundingSphere(),S.copy(O.boundingSphere),S.applyMatrix4(U.matrixWorld),!1===B.ray.isIntersectionSphere(S))return N;if(E.getInverse(U.matrixWorld),M.copy(B.ray).applyMatrix4(E),O instanceof _.Geometry)for(var fe=O.vertices,ve=fe.length,_e=new _.Vector3,Se=new _.Vector3,Me=U.type===_.LineStrip?1:2,ne=0,Te;ne<ve-1;ne+=Me)if(Te=M.distanceSqToSegment(fe[ne],fe[ne+1],Se,_e),!(Te>Y*Y)){var I=M.origin.distanceTo(Se);I<B.near||I>B.far||N.push({distance:I,point:_e.clone().applyMatrix4(U.matrixWorld),face:null,faceIndex:null,object:U})}}},V=function(U,B,N){for(var I=U.getDescendants(),O=0,G=I.length;O<G;O++)F(I[O],B,N)};_.Raycaster.prototype.precision=1e-4,_.Raycaster.prototype.linePrecision=1,_.Raycaster.prototype.set=function(U,B){this.ray.set(U,B)},_.Raycaster.prototype.intersectObject=function(U,B){var N=[];return!0===B&&V(U,this,N),F(U,this,N),N.sort(L),N},_.Raycaster.prototype.intersectObjects=function(U,B){for(var N=[],I=0,O=U.length;I<O;I++)F(U[I],this,N),!0===B&&V(U[I],this,N);return N.sort(L),N}}(THREE),THREE.Object3D=function(){this.id=THREE.Object3DIdCount++,this.uuid=THREE.Math.generateUUID(),this.name='',this.parent=void 0,this.children=[],this.up=new THREE.Vector3(0,1,0),this.position=new THREE.Vector3,this._rotation=new THREE.Euler,this._quaternion=new THREE.Quaternion,this.scale=new THREE.Vector3(1,1,1),this._rotation._quaternion=this.quaternion,this._quaternion._euler=this.rotation,this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.prototype={constructor:THREE.Object3D,get rotation(){return this._rotation},set rotation(_){this._rotation=_,this._rotation._quaternion=this._quaternion,this._quaternion._euler=this._rotation,this._rotation._updateQuaternion()},get quaternion(){return this._quaternion},set quaternion(_){this._quaternion=_,this._quaternion._euler=this._rotation,this._rotation._quaternion=this._quaternion,this._quaternion._updateEuler()},get eulerOrder(){return console.warn('DEPRECATED: Object3D\'s .eulerOrder has been moved to Object3D\'s .rotation.order.'),this.rotation.order},set eulerOrder(_){console.warn('DEPRECATED: Object3D\'s .eulerOrder has been moved to Object3D\'s .rotation.order.'),this.rotation.order=_},get useQuaternion(){console.warn('DEPRECATED: Object3D\'s .useQuaternion has been removed. The library now uses quaternions by default.')},set useQuaternion(_){console.warn('DEPRECATED: Object3D\'s .useQuaternion has been removed. The library now uses quaternions by default.')},applyMatrix:function(){var _=new THREE.Matrix4;return function(S){this.matrix.multiplyMatrices(S,this.matrix),this.position.setFromMatrixPosition(this.matrix),this.scale.setFromMatrixScale(this.matrix),_.extractRotation(this.matrix),this.quaternion.setFromRotationMatrix(_)}}(),setRotationFromAxisAngle:function(_,S){this.quaternion.setFromAxisAngle(_,S)},setRotationFromEuler:function(_){this.quaternion.setFromEuler(_,!0)},setRotationFromMatrix:function(_){this.quaternion.setFromRotationMatrix(_)},setRotationFromQuaternion:function(_){this.quaternion.copy(_)},rotateOnAxis:function(){var _=new THREE.Quaternion;return function(S,M){return _.setFromAxisAngle(S,M),this.quaternion.multiply(_),this}}(),rotateX:function(){var _=new THREE.Vector3(1,0,0);return function(S){return this.rotateOnAxis(_,S)}}(),rotateY:function(){var _=new THREE.Vector3(0,1,0);return function(S){return this.rotateOnAxis(_,S)}}(),rotateZ:function(){var _=new THREE.Vector3(0,0,1);return function(S){return this.rotateOnAxis(_,S)}}(),translateOnAxis:function(){var _=new THREE.Vector3;return function(S,M){return _.copy(S),_.applyQuaternion(this.quaternion),this.position.add(_.multiplyScalar(M)),this}}(),translate:function(_,S){return console.warn('DEPRECATED: Object3D\'s .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed.'),this.translateOnAxis(S,_)},translateX:function(){var _=new THREE.Vector3(1,0,0);return function(S){return this.translateOnAxis(_,S)}}(),translateY:function(){var _=new THREE.Vector3(0,1,0);return function(S){return this.translateOnAxis(_,S)}}(),translateZ:function(){var _=new THREE.Vector3(0,0,1);return function(S){return this.translateOnAxis(_,S)}}(),localToWorld:function(_){return _.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var _=new THREE.Matrix4;return function(S){return S.applyMatrix4(_.getInverse(this.matrixWorld))}}(),lookAt:function(){var _=new THREE.Matrix4;return function(S){_.lookAt(S,this.position,this.up),this.quaternion.setFromRotationMatrix(_)}}(),add:function(_){if(_===this)return void console.warn('THREE.Object3D.add: An object can\'t be added as a child of itself.');if(_ instanceof THREE.Object3D){void 0!==_.parent&&_.parent.remove(_),_.parent=this,_.dispatchEvent({type:'added'}),this.children.push(_);for(var S=this;void 0!==S.parent;)S=S.parent;void 0!==S&&S instanceof THREE.Scene&&S.__addObject(_)}},remove:function(_){var S=this.children.indexOf(_);if(-1!==S){_.parent=void 0,_.dispatchEvent({type:'removed'}),this.children.splice(S,1);for(var M=this;M.parent!==void 0;)M=M.parent;M!==void 0&&M instanceof THREE.Scene&&M.__removeObject(_)}},traverse:function(_){_(this);for(var S=0,M=this.children.length;S<M;S++)this.children[S].traverse(_)},getObjectById:function(_,S){for(var M=0,T=this.children.length,C;M<T;M++){if(C=this.children[M],C.id===_)return C;if(!0===S&&(C=C.getObjectById(_,S),void 0!==C))return C}},getObjectByName:function(_,S){for(var M=0,T=this.children.length,C;M<T;M++){if(C=this.children[M],C.name===_)return C;if(!0===S&&(C=C.getObjectByName(_,S),void 0!==C))return C}},getChildByName:function(_,S){return console.warn('DEPRECATED: Object3D\'s .getChildByName() has been renamed to .getObjectByName().'),this.getObjectByName(_,S)},getDescendants:function(_){_===void 0&&(_=[]),Array.prototype.push.apply(_,this.children);for(var S=0,M=this.children.length;S<M;S++)this.children[S].getDescendants(_);return _},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(_){!0===this.matrixAutoUpdate&&this.updateMatrix(),(!0===this.matrixWorldNeedsUpdate||!0===_)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,_=!0);for(var S=0,M=this.children.length;S<M;S++)this.children[S].updateMatrixWorld(_)},clone:function(_,S){if(void 0===_&&(_=new THREE.Object3D),void 0===S&&(S=!0),_.name=this.name,_.up.copy(this.up),_.position.copy(this.position),_.quaternion.copy(this.quaternion),_.scale.copy(this.scale),_.renderDepth=this.renderDepth,_.rotationAutoUpdate=this.rotationAutoUpdate,_.matrix.copy(this.matrix),_.matrixWorld.copy(this.matrixWorld),_.matrixAutoUpdate=this.matrixAutoUpdate,_.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,_.visible=this.visible,_.castShadow=this.castShadow,_.receiveShadow=this.receiveShadow,_.frustumCulled=this.frustumCulled,_.userData=JSON.parse(JSON.stringify(this.userData)),!0===S)for(var M=0,T;M<this.children.length;M++)T=this.children[M],_.add(T.clone());return _}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Projector=function(){function _(){if(P===R){var Ce=new THREE.RenderableObject;return D.push(Ce),R++,P++,Ce}return D[P++]}function S(){if(V===B){var Ce=new THREE.RenderableVertex;return U.push(Ce),B++,V++,Ce}return U[V++]}function M(){if(I===G){var Ce=new THREE.RenderableFace3;return O.push(Ce),G++,I++,Ce}return O[I++]}function T(){if(W===Y){var Ce=new THREE.RenderableLine;return X.push(Ce),Y++,W++,Ce}return X[W++]}function C(){if(Q===J){var Ce=new THREE.RenderableSprite;return Z.push(Ce),J++,Q++,Ce}return Z[Q++]}function A(Ce,Ae){return Ce.z===Ae.z?Ce.id===Ae.id?0:Ce.id-Ae.id:Ae.z-Ce.z}function E(Ce,Ae){var we=0,Ee=1,Le=Ce.z+Ce.w,Pe=Ae.z+Ae.w,De=-Ce.z+Ce.w,Re=-Ae.z+Ae.w;return 0<=Le&&0<=Pe&&0<=De&&0<=Re||(0>Le&&0>Pe||0>De&&0>Re?!1:(0>Le?we=Math.max(we,Le/(Le-Pe)):0>Pe&&(Ee=Math.min(Ee,Le/(Le-Pe))),0>De?we=Math.max(we,De/(De-Re)):0>Re&&(Ee=Math.min(Ee,De/(De-Re))),!(Ee<we)&&(Ce.lerp(Ae,we),Ae.lerp(Ce,1-Ee),!0)))}var D=[],R=0,U=[],B=0,O=[],G=0,X=[],Y=0,Z=[],J=0,$={objects:[],sprites:[],lights:[],elements:[]},ee=new THREE.Vector3,re=new THREE.Vector4,oe=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),ie=new THREE.Box3,ne=[,,,],se=[,,,,],le=new THREE.Matrix4,pe=new THREE.Matrix4,he=new THREE.Matrix4,fe=new THREE.Matrix3,ge=new THREE.Matrix3,ye=new THREE.Vector3,xe=new THREE.Frustum,ve=new THREE.Vector4,_e=new THREE.Vector4,L,P,F,V,N,I,H,W,K,Q,ue;this.projectVector=function(Ce,Ae){return Ae.matrixWorldInverse.getInverse(Ae.matrixWorld),pe.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),Ce.applyProjection(pe)},this.unprojectVector=function(Ce,Ae){return Ae.projectionMatrixInverse.getInverse(Ae.projectionMatrix),pe.multiplyMatrices(Ae.matrixWorld,Ae.projectionMatrixInverse),Ce.applyProjection(pe)},this.pickingRay=function(Ce,Ae){Ce.z=-1;var we=new THREE.Vector3(Ce.x,Ce.y,1);return this.unprojectVector(Ce,Ae),this.unprojectVector(we,Ae),we.sub(Ce).normalize(),new THREE.Raycaster(Ce,we)};var Se=function(Ce){return L=_(),L.id=Ce.id,L.object=Ce,null===Ce.renderDepth?(ee.setFromMatrixPosition(Ce.matrixWorld),ee.applyProjection(pe),L.z=ee.z):L.z=Ce.renderDepth,L},Me=function(Ce){if(!1!==Ce.visible){Ce instanceof THREE.Light?$.lights.push(Ce):Ce instanceof THREE.Mesh||Ce instanceof THREE.Line?(!1===Ce.frustumCulled||!0===xe.intersectsObject(Ce))&&$.objects.push(Se(Ce)):Ce instanceof THREE.Sprite&&$.sprites.push(Se(Ce));for(var Ae=0,we=Ce.children.length;Ae<we;Ae++)Me(Ce.children[Ae])}},Te=function(Ce,Ae){P=0,$.objects.length=0,$.sprites.length=0,$.lights.length=0,Me(Ce),!0===Ae&&$.objects.sort(A)};this.projectScene=function(Ce,Ae,we,Ee){var Le=!1,Pe,De,Re,Fe,Ve,Ue,ze,Be,Ne,Ie,Oe,ke,Ge,He,We,je,Xe,qe,Ye,Ke,Qe,Ze,Je,et,tt;for(I=0,W=0,Q=0,$.elements.length=0,!0===Ce.autoUpdate&&Ce.updateMatrixWorld(),void 0===Ae.parent&&Ae.updateMatrixWorld(),le.copy(Ae.matrixWorldInverse.getInverse(Ae.matrixWorld)),pe.multiplyMatrices(Ae.projectionMatrix,le),ge.getNormalMatrix(le),xe.setFromMatrix(pe),Te(Ce,we),(Pe=0,De=$.objects.length);Pe<De;Pe++)if(Ge=$.objects[Pe].object,ue=Ge.matrixWorld,V=0,Ge instanceof THREE.Mesh){for(He=Ge.geometry,We=He.vertices,je=He.faces,Ye=He.faceVertexUvs,fe.getNormalMatrix(ue),et=Ge.material instanceof THREE.MeshFaceMaterial,tt=!0===et?Ge.material:null,(Re=0,Fe=We.length);Re<Fe;Re++){F=S(),F.positionWorld.copy(We[Re]).applyMatrix4(ue),F.positionScreen.copy(F.positionWorld).applyMatrix4(pe);var rt=1/F.positionScreen.w;F.positionScreen.x*=rt,F.positionScreen.y*=rt,F.positionScreen.z*=rt,F.visible=!(-1>F.positionScreen.x||1<F.positionScreen.x||-1>F.positionScreen.y||1<F.positionScreen.y||-1>F.positionScreen.z||1<F.positionScreen.z)}for(Ve=0,Ue=je.length;Ve<Ue;Ve++){Xe=je[Ve];var at=!0===et?tt.materials[Xe.materialIndex]:Ge.material;if(void 0!==at){var ot=at.side;if(Qe=U[Xe.a],Ze=U[Xe.b],Je=U[Xe.c],ne[0]=Qe.positionScreen,ne[1]=Ze.positionScreen,ne[2]=Je.positionScreen,!(!0===Qe.visible||!0===Ze.visible||!0===Je.visible||oe.isIntersectionBox(ie.setFromPoints(ne))))continue;else if(Le=0>(Je.positionScreen.x-Qe.positionScreen.x)*(Ze.positionScreen.y-Qe.positionScreen.y)-(Je.positionScreen.y-Qe.positionScreen.y)*(Ze.positionScreen.x-Qe.positionScreen.x),ot===THREE.DoubleSide||Le===(ot===THREE.FrontSide))N=M(),N.id=Ge.id,N.v1.copy(Qe),N.v2.copy(Ze),N.v3.copy(Je);else continue;for(N.normalModel.copy(Xe.normal),!1===Le&&(ot===THREE.BackSide||ot===THREE.DoubleSide)&&N.normalModel.negate(),N.normalModel.applyMatrix3(fe).normalize(),N.normalModelView.copy(N.normalModel).applyMatrix3(ge),N.centroidModel.copy(Xe.centroid).applyMatrix4(ue),qe=Xe.vertexNormals,(ze=0,Be=Math.min(qe.length,3));ze<Be;ze++){var it=N.vertexNormalsModel[ze];it.copy(qe[ze]),!1===Le&&(ot===THREE.BackSide||ot===THREE.DoubleSide)&&it.negate(),it.applyMatrix3(fe).normalize();var nt=N.vertexNormalsModelView[ze];nt.copy(it).applyMatrix3(ge)}for(N.vertexNormalsLength=qe.length,Ne=0,Ie=Math.min(Ye.length,3);Ne<Ie;Ne++)if(Ke=Ye[Ne][Ve],void 0!==Ke)for(Oe=0,ke=Ke.length;Oe<ke;Oe++)N.uvs[Ne][Oe]=Ke[Oe];N.color=Xe.color,N.material=at,ye.copy(N.centroidModel).applyProjection(pe),N.z=ye.z,$.elements.push(N)}}}else if(Ge instanceof THREE.Line){he.multiplyMatrices(pe,ue),We=Ge.geometry.vertices,Qe=S(),Qe.positionScreen.copy(We[0]).applyMatrix4(he);var st=Ge.type===THREE.LinePieces?2:1;for(Re=1,Fe=We.length;Re<Fe;Re++)Qe=S(),Qe.positionScreen.copy(We[Re]).applyMatrix4(he),0<(Re+1)%st||(Ze=U[V-2],ve.copy(Qe.positionScreen),_e.copy(Ze.positionScreen),!0===E(ve,_e)&&(ve.multiplyScalar(1/ve.w),_e.multiplyScalar(1/_e.w),H=T(),H.id=Ge.id,H.v1.positionScreen.copy(ve),H.v2.positionScreen.copy(_e),H.z=Math.max(ve.z,_e.z),H.material=Ge.material,Ge.material.vertexColors===THREE.VertexColors&&(H.vertexColors[0].copy(Ge.geometry.colors[Re]),H.vertexColors[1].copy(Ge.geometry.colors[Re-1])),$.elements.push(H)))}for(Pe=0,De=$.sprites.length;Pe<De;Pe++){Ge=$.sprites[Pe].object,ue=Ge.matrixWorld,re.set(ue.elements[12],ue.elements[13],ue.elements[14],1),re.applyMatrix4(pe);var rt=1/re.w;re.z*=rt,-1<=re.z&&1>=re.z&&(K=C(),K.id=Ge.id,K.x=re.x*rt,K.y=re.y*rt,K.z=re.z,K.object=Ge,K.rotation=Ge.rotation,K.scale.x=Ge.scale.x*Math.abs(K.x-(re.x+Ae.projectionMatrix.elements[0])/(re.w+Ae.projectionMatrix.elements[12])),K.scale.y=Ge.scale.y*Math.abs(K.y-(re.y+Ae.projectionMatrix.elements[5])/(re.w+Ae.projectionMatrix.elements[13])),K.material=Ge.material,$.elements.push(K))}return!0===Ee&&$.elements.sort(A),$}},THREE.Face3=function(_,S,M,T,C,A){this.a=_,this.b=S,this.c=M,this.normal=T instanceof THREE.Vector3?T:new THREE.Vector3,this.vertexNormals=T instanceof Array?T:[],this.color=C instanceof THREE.Color?C:new THREE.Color,this.vertexColors=C instanceof Array?C:[],this.vertexTangents=[],this.materialIndex=A===void 0?0:A,this.centroid=new THREE.Vector3},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var _=new THREE.Face3(this.a,this.b,this.c);_.normal.copy(this.normal),_.color.copy(this.color),_.centroid.copy(this.centroid),_.materialIndex=this.materialIndex;var S,M;for(S=0,M=this.vertexNormals.length;S<M;S++)_.vertexNormals[S]=this.vertexNormals[S].clone();for(S=0,M=this.vertexColors.length;S<M;S++)_.vertexColors[S]=this.vertexColors[S].clone();for(S=0,M=this.vertexTangents.length;S<M;S++)_.vertexTangents[S]=this.vertexTangents[S].clone();return _}},THREE.Face4=function(_,S,M,T,C,A,E){return console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.'),new THREE.Face3(_,S,M,C,A,E)},THREE.Geometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name='',this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.buffersNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(_){for(var S=new THREE.Matrix3().getNormalMatrix(_),M=0,T=this.vertices.length,C;M<T;M++)C=this.vertices[M],C.applyMatrix4(_);for(var M=0,T=this.faces.length,A;M<T;M++){A=this.faces[M],A.normal.applyMatrix3(S).normalize();for(var E=0,L=A.vertexNormals.length;E<L;E++)A.vertexNormals[E].applyMatrix3(S).normalize();A.centroid.applyMatrix4(_)}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},computeCentroids:function(){var _,S,M;for(_=0,S=this.faces.length;_<S;_++)M=this.faces[_],M.centroid.set(0,0,0),M.centroid.add(this.vertices[M.a]),M.centroid.add(this.vertices[M.b]),M.centroid.add(this.vertices[M.c]),M.centroid.divideScalar(3)},computeFaceNormals:function(){for(var _=new THREE.Vector3,S=new THREE.Vector3,M=0,T=this.faces.length;M<T;M++){var C=this.faces[M],A=this.vertices[C.a],E=this.vertices[C.b],L=this.vertices[C.c];_.subVectors(L,E),S.subVectors(A,E),_.cross(S),_.normalize(),C.normal.copy(_)}},computeVertexNormals:function(_){var S,M,T,C,A,E;if(this.__tmpVertices===void 0){for(this.__tmpVertices=Array(this.vertices.length),E=this.__tmpVertices,(S=0,M=this.vertices.length);S<M;S++)E[S]=new THREE.Vector3;for(T=0,C=this.faces.length;T<C;T++)A=this.faces[T],A.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}else for(E=this.__tmpVertices,S=0,M=this.vertices.length;S<M;S++)E[S].set(0,0,0);if(_){var F=new THREE.Vector3,V=new THREE.Vector3,U=new THREE.Vector3,B=new THREE.Vector3,N=new THREE.Vector3,L,P,D;for(T=0,C=this.faces.length;T<C;T++)A=this.faces[T],L=this.vertices[A.a],P=this.vertices[A.b],D=this.vertices[A.c],F.subVectors(D,P),V.subVectors(L,P),F.cross(V),E[A.a].add(F),E[A.b].add(F),E[A.c].add(F)}else for(T=0,C=this.faces.length;T<C;T++)A=this.faces[T],E[A.a].add(A.normal),E[A.b].add(A.normal),E[A.c].add(A.normal);for(S=0,M=this.vertices.length;S<M;S++)E[S].normalize();for(T=0,C=this.faces.length;T<C;T++)A=this.faces[T],A.vertexNormals[0].copy(E[A.a]),A.vertexNormals[1].copy(E[A.b]),A.vertexNormals[2].copy(E[A.c])},computeMorphNormals:function(){var _,S,M,T,C;for(M=0,T=this.faces.length;M<T;M++)for(C=this.faces[M],C.__originalFaceNormal?C.__originalFaceNormal.copy(C.normal):C.__originalFaceNormal=C.normal.clone(),C.__originalVertexNormals||(C.__originalVertexNormals=[]),(_=0,S=C.vertexNormals.length);_<S;_++)C.__originalVertexNormals[_]?C.__originalVertexNormals[_].copy(C.vertexNormals[_]):C.__originalVertexNormals[_]=C.vertexNormals[_].clone();var A=new THREE.Geometry;for(A.faces=this.faces,_=0,S=this.morphTargets.length;_<S;_++){if(!this.morphNormals[_]){this.morphNormals[_]={},this.morphNormals[_].faceNormals=[],this.morphNormals[_].vertexNormals=[];var E=this.morphNormals[_].faceNormals,L=this.morphNormals[_].vertexNormals,P,D;for(M=0,T=this.faces.length;M<T;M++)C=this.faces[M],P=new THREE.Vector3,D={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},E.push(P),L.push(D)}var R=this.morphNormals[_];A.vertices=this.morphTargets[_].vertices,A.computeFaceNormals(),A.computeVertexNormals();var P,D;for(M=0,T=this.faces.length;M<T;M++)C=this.faces[M],P=R.faceNormals[M],D=R.vertexNormals[M],P.copy(C.normal),D.a.copy(C.vertexNormals[0]),D.b.copy(C.vertexNormals[1]),D.c.copy(C.vertexNormals[2])}for(M=0,T=this.faces.length;M<T;M++)C=this.faces[M],C.normal=C.__originalFaceNormal,C.vertexNormals=C.__originalVertexNormals},computeTangents:function(){function _(fe,ge,ye,xe,ve,_e,Se){R=fe.vertices[ge],F=fe.vertices[ye],V=fe.vertices[xe],U=D[ve],B=D[_e],N=D[Se],I=F.x-R.x,O=V.x-R.x,G=F.y-R.y,H=V.y-R.y,W=F.z-R.z,X=V.z-R.z,Y=B.x-U.x,K=N.x-U.x,Q=B.y-U.y,Z=N.y-U.y,J=1/(Y*Z-K*Q),ie.set((Z*I-Q*O)*J,(Z*G-Q*H)*J,(Z*W-Q*X)*J),ne.set((Y*O-K*I)*J,(Y*H-K*G)*J,(Y*X-K*W)*J),re[ge].add(ie),re[ye].add(ie),re[xe].add(ie),oe[ge].add(ne),oe[ye].add(ne),oe[xe].add(ne)}var re=[],oe=[],ie=new THREE.Vector3,ne=new THREE.Vector3,se=new THREE.Vector3,le=new THREE.Vector3,pe=new THREE.Vector3,S,M,T,C,A,L,P,D,R,F,V,U,B,N,I,O,G,H,W,X,Y,K,Q,Z,J,$,ee,ue;for(T=0,C=this.vertices.length;T<C;T++)re[T]=new THREE.Vector3,oe[T]=new THREE.Vector3;for(S=0,M=this.faces.length;S<M;S++)P=this.faces[S],D=this.faceVertexUvs[0][S],_(this,P.a,P.b,P.c,0,1,2);var he=['a','b','c','d'];for(S=0,M=this.faces.length;S<M;S++)for(P=this.faces[S],A=0;A<Math.min(P.vertexNormals.length,3);A++)pe.copy(P.vertexNormals[A]),L=P[he[A]],$=re[L],se.copy($),se.sub(pe.multiplyScalar(pe.dot($))).normalize(),le.crossVectors(P.vertexNormals[A],$),ee=le.dot(oe[L]),ue=0>ee?-1:1,P.vertexTangents[A]=new THREE.Vector4(se.x,se.y,se.z,ue);this.hasTangents=!0},computeLineDistances:function(){for(var _=0,S=this.vertices,M=0,T=S.length;M<T;M++)0<M&&(_+=S[M].distanceTo(S[M-1])),this.lineDistances[M]=_},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},mergeVertices:function(){var _={},S=[],M=[],E=Math.pow(10,4),T,C,L,P,D,R,V,U;for(this.__tmpVertices=void 0,L=0,P=this.vertices.length;L<P;L++)T=this.vertices[L],C=Math.round(T.x*E)+'_'+Math.round(T.y*E)+'_'+Math.round(T.z*E),void 0===_[C]?(_[C]=L,S.push(this.vertices[L]),M[L]=S.length-1):M[L]=M[_[C]];var N=[];for(L=0,P=this.faces.length;L<P;L++){D=this.faces[L],D.a=M[D.a],D.b=M[D.b],D.c=M[D.c],R=[D.a,D.b,D.c];for(var I=-1,O=0;3>O;O++)if(R[O]==R[(O+1)%3]){I=O,N.push(L);break}}for(L=N.length-1;0<=L;L--){var G=N[L];for(this.faces.splice(G,1),V=0,U=this.faceVertexUvs.length;V<U;V++)this.faceVertexUvs[V].splice(G,1)}var H=this.vertices.length-S.length;return this.vertices=S,H},clone:function(){for(var _=new THREE.Geometry,S=this.vertices,M=0,T=S.length;M<T;M++)_.vertices.push(S[M].clone());for(var C=this.faces,M=0,T=C.length;M<T;M++)_.faces.push(C[M].clone());for(var A=this.faceVertexUvs[0],M=0,T=A.length;M<T;M++){for(var E=A[M],L=[],P=0,D=E.length;P<D;P++)L.push(new THREE.Vector2(E[P].x,E[P].y));_.faceVertexUvs[0].push(L)}return _},dispose:function(){this.dispatchEvent({type:'dispose'})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++,this.uuid=THREE.Math.generateUUID(),this.name='',this.attributes={},this.dynamic=!0,this.offsets=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.morphTargets=[]},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(_,S,M,T){this.attributes[_]={itemSize:T,array:new S(M*T)}},applyMatrix:function(_){var S,M;if(this.attributes.position&&(S=this.attributes.position.array),this.attributes.normal&&(M=this.attributes.normal.array),void 0!==S&&(_.multiplyVector3Array(S),this.verticesNeedUpdate=!0),void 0!==M){var T=new THREE.Matrix3().getNormalMatrix(_);T.multiplyVector3Array(M),this.normalizeNormals(),this.normalsNeedUpdate=!0}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var _=this.attributes.position.array;if(_){var S=this.boundingBox,M,T,C;3<=_.length&&(S.min.x=S.max.x=_[0],S.min.y=S.max.y=_[1],S.min.z=S.max.z=_[2]);for(var A=3,E=_.length;A<E;A+=3)M=_[A],T=_[A+1],C=_[A+2],M<S.min.x?S.min.x=M:M>S.max.x&&(S.max.x=M),T<S.min.y?S.min.y=T:T>S.max.y&&(S.max.y=T),C<S.min.z?S.min.z=C:C>S.max.z&&(S.max.z=C)}(_===void 0||0===_.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0))},computeBoundingSphere:function(){var _=new THREE.Box3,S=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var M=this.attributes.position.array;if(M){for(var T=this.boundingSphere.center,C=0,A=M.length;C<A;C+=3)S.set(M[C],M[C+1],M[C+2]),_.addPoint(S);_.center(T);for(var E=0,C=0,A=M.length;C<A;C+=3)S.set(M[C],M[C+1],M[C+2]),E=Math.max(E,T.distanceToSquared(S));this.boundingSphere.radius=Math.sqrt(E)}}}(),computeVertexNormals:function(){if(this.attributes.position){var _,S,M,T,C=this.attributes.position.array.length;if(this.attributes.normal===void 0)this.attributes.normal={itemSize:3,array:new Float32Array(C)};else for(_=0,S=this.attributes.normal.array.length;_<S;_++)this.attributes.normal.array[_]=0;var A=this.attributes.position.array,E=this.attributes.normal.array,L,P,D,R,F,V,U=new THREE.Vector3,B=new THREE.Vector3,N=new THREE.Vector3,I=new THREE.Vector3,O=new THREE.Vector3;if(this.attributes.index){var G=this.attributes.index.array,H=this.offsets;for(M=0,T=H.length;M<T;++M){var W=H[M].start,X=H[M].count,Y=H[M].index;for(_=W,S=W+X;_<S;_+=3)L=Y+G[_],P=Y+G[_+1],D=Y+G[_+2],R=A[3*L],F=A[3*L+1],V=A[3*L+2],U.set(R,F,V),R=A[3*P],F=A[3*P+1],V=A[3*P+2],B.set(R,F,V),R=A[3*D],F=A[3*D+1],V=A[3*D+2],N.set(R,F,V),I.subVectors(N,B),O.subVectors(U,B),I.cross(O),E[3*L]+=I.x,E[3*L+1]+=I.y,E[3*L+2]+=I.z,E[3*P]+=I.x,E[3*P+1]+=I.y,E[3*P+2]+=I.z,E[3*D]+=I.x,E[3*D+1]+=I.y,E[3*D+2]+=I.z}}else for(_=0,S=A.length;_<S;_+=9)R=A[_],F=A[_+1],V=A[_+2],U.set(R,F,V),R=A[_+3],F=A[_+4],V=A[_+5],B.set(R,F,V),R=A[_+6],F=A[_+7],V=A[_+8],N.set(R,F,V),I.subVectors(N,B),O.subVectors(U,B),I.cross(O),E[_]=I.x,E[_+1]=I.y,E[_+2]=I.z,E[_+3]=I.x,E[_+4]=I.y,E[_+5]=I.z,E[_+6]=I.x,E[_+7]=I.y,E[_+8]=I.z;this.normalizeNormals(),this.normalsNeedUpdate=!0}},normalizeNormals:function(){for(var _=this.attributes.normal.array,A=0,E=_.length,S,M,T,C;A<E;A+=3)S=_[A],M=_[A+1],T=_[A+2],C=1/Math.sqrt(S*S+M*M+T*T),_[A]*=C,_[A+1]*=C,_[A+2]*=C},computeTangents:function(){function _(ze,Be,Ne){V=T[3*ze],U=T[3*ze+1],B=T[3*ze+2],N=T[3*Be],I=T[3*Be+1],O=T[3*Be+2],G=T[3*Ne],H=T[3*Ne+1],W=T[3*Ne+2],X=A[2*ze],Y=A[2*ze+1],K=A[2*Be],Q=A[2*Be+1],Z=A[2*Ne],J=A[2*Ne+1],$=N-V,ee=G-V,re=I-U,oe=H-U,ie=O-B,ne=W-B,se=K-X,le=Z-X,pe=Q-Y,ue=J-Y,he=1/(se*ue-le*pe),fe.set((ue*$-pe*ee)*he,(ue*re-pe*oe)*he,(ue*ie-pe*ne)*he),ge.set((se*ee-le*$)*he,(se*oe-le*re)*he,(se*ne-le*ie)*he),D[ze].add(fe),D[Be].add(fe),D[Ne].add(fe),R[ze].add(ge),R[Be].add(ge),R[Ne].add(ge)}function S(ze){De.x=C[3*ze],De.y=C[3*ze+1],De.z=C[3*ze+2],Re.copy(De),Ve=D[ze],Le.copy(Ve),Le.sub(De.multiplyScalar(De.dot(Ve))).normalize(),Pe.crossVectors(Re,Ve),Ue=Pe.dot(R[ze]),Fe=0>Ue?-1:1,P[4*ze]=Le.x,P[4*ze+1]=Le.y,P[4*ze+2]=Le.z,P[4*ze+3]=Fe}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn('Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()');var M=this.attributes.index.array,T=this.attributes.position.array,C=this.attributes.normal.array,A=this.attributes.uv.array,E=T.length/3;if(this.attributes.tangent===void 0){this.attributes.tangent={itemSize:4,array:new Float32Array(4*E)}}for(var P=this.attributes.tangent.array,D=[],R=[],F=0;F<E;F++)D[F]=new THREE.Vector3,R[F]=new THREE.Vector3;var V,U,B,N,I,O,G,H,W,X,Y,K,Q,Z,J,$,ee,re,oe,ie,ne,se,le,pe,ue,he,fe=new THREE.Vector3,ge=new THREE.Vector3,ye,xe,ve,_e,Se,Me,Te,Ce=this.offsets;for(ve=0,_e=Ce.length;ve<_e;++ve){var Ae=Ce[ve].start,we=Ce[ve].count,Ee=Ce[ve].index;for(ye=Ae,xe=Ae+we;ye<xe;ye+=3)Se=Ee+M[ye],Me=Ee+M[ye+1],Te=Ee+M[ye+2],_(Se,Me,Te)}var Le=new THREE.Vector3,Pe=new THREE.Vector3,De=new THREE.Vector3,Re=new THREE.Vector3,Fe,Ve,Ue;for(ve=0,_e=Ce.length;ve<_e;++ve){var Ae=Ce[ve].start,we=Ce[ve].count,Ee=Ce[ve].index;for(ye=Ae,xe=Ae+we;ye<xe;ye+=3)Se=Ee+M[ye],Me=Ee+M[ye+1],Te=Ee+M[ye+2],S(Se),S(Me),S(Te)}this.hasTangents=!0,this.tangentsNeedUpdate=!0},clone:function(){var _=new THREE.BufferGeometry,S=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(var M in this.attributes){for(var T=this.attributes[M],C=T.array,A={itemSize:T.itemSize,numItems:T.numItems,array:null},E=0,L=S.length,P;E<L;E++)if(P=S[E],C instanceof P){A.array=new P(C);break}_.attributes[M]=A}for(var E=0,L=this.offsets.length,D;E<L;E++)D=this.offsets[E],_.offsets.push({start:D.start,index:D.index,count:D.count});return _},dispose:function(){this.dispatchEvent({type:'dispose'})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Camera=function(){THREE.Object3D.call(this),this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4,this.projectionMatrixInverse=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.lookAt=function(){var _=new THREE.Matrix4;return function(S){_.lookAt(this.position,S,this.up),this.quaternion.setFromRotationMatrix(_)}}(),THREE.Camera.prototype.clone=function(_){return void 0===_&&(_=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,_),_.matrixWorldInverse.copy(this.matrixWorldInverse),_.projectionMatrix.copy(this.projectionMatrix),_.projectionMatrixInverse.copy(this.projectionMatrixInverse),_},THREE.OrthographicCamera=function(_,S,M,T,C,A){THREE.Camera.call(this),this.left=_,this.right=S,this.top=M,this.bottom=T,this.near=C===void 0?0.1:C,this.far=A===void 0?2e3:A,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var _=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,_),_.left=this.left,_.right=this.right,_.top=this.top,_.bottom=this.bottom,_.near=this.near,_.far=this.far,_},THREE.PerspectiveCamera=function(_,S,M,T){THREE.Camera.call(this),this.fov=_===void 0?50:_,this.aspect=S===void 0?1:S,this.near=M===void 0?0.1:M,this.far=T===void 0?2e3:T,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(_,S){S===void 0&&(S=24),this.fov=2*THREE.Math.radToDeg(Math.atan(S/(2*_))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(_,S,M,T,C,A){this.fullWidth=_,this.fullHeight=S,this.x=M,this.y=T,this.width=C,this.height=A,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var _=this.fullWidth/this.fullHeight,S=Math.tan(THREE.Math.degToRad(0.5*this.fov))*this.near,M=-S,T=_*M,A=Math.abs(_*S-T),E=Math.abs(S-M);this.projectionMatrix.makeFrustum(T+this.x*A/this.fullWidth,T+(this.x+this.width)*A/this.fullWidth,S-(this.y+this.height)*E/this.fullHeight,S-this.y*E/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var _=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,_),_.fov=this.fov,_.aspect=this.aspect,_.near=this.near,_.far=this.far,_},THREE.Light=function(_){THREE.Object3D.call(this),this.color=new THREE.Color(_)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(_){return void 0===_&&(_=new THREE.Light),THREE.Object3D.prototype.clone.call(this,_),_.color.copy(this.color),_},THREE.AmbientLight=function(_){THREE.Light.call(this,_)},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var _=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,_),_},THREE.AreaLight=function(_,S){THREE.Light.call(this,_),this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=S===void 0?1:S,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=0.5,this.quadraticAttenuation=0.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(_,S){THREE.Light.call(this,_),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=S===void 0?1:S,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=0.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,0.99,0.998],this.shadowCascadeFarZ=[0.99,0.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var _=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,_),_.target=this.target.clone(),_.intensity=this.intensity,_.castShadow=this.castShadow,_.onlyShadow=this.onlyShadow,_},THREE.HemisphereLight=function(_,S,M){THREE.Light.call(this,_),this.position.set(0,100,0),this.groundColor=new THREE.Color(S),this.intensity=M===void 0?1:M},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var _=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,_),_.groundColor.copy(this.groundColor),_.intensity=this.intensity,_},THREE.PointLight=function(_,S,M){THREE.Light.call(this,_),this.intensity=S===void 0?1:S,this.distance=M===void 0?0:M},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var _=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,_),_.intensity=this.intensity,_.distance=this.distance,_},THREE.SpotLight=function(_,S,M,T,C){THREE.Light.call(this,_),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=S===void 0?1:S,this.distance=M===void 0?0:M,this.angle=T===void 0?Math.PI/3:T,this.exponent=C===void 0?10:C,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=0.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var _=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,_),_.target=this.target.clone(),_.intensity=this.intensity,_.distance=this.distance,_.angle=this.angle,_.exponent=this.exponent,_.castShadow=this.castShadow,_.onlyShadow=this.onlyShadow,_},THREE.Loader=function(_){this.showStatus=_,this.statusDomElement=_?THREE.Loader.prototype.addStatusElement():null,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:'anonymous',addStatusElement:function(){var _=document.createElement('div');return _.style.position='absolute',_.style.right='0px',_.style.top='0px',_.style.fontSize='0.8em',_.style.textAlign='left',_.style.background='rgba(0,0,0,0.25)',_.style.color='#fff',_.style.width='120px',_.style.padding='0.5em 0.5em 0.5em 0.5em',_.style.zIndex=1e3,_.innerHTML='Loading ...',_},updateProgress:function(_){var S='Loaded ';S+=_.total?(100*_.loaded/_.total).toFixed(0)+'%':(_.loaded/1e3).toFixed(2)+' KB',this.statusDomElement.innerHTML=S},extractUrlBase:function(_){var S=_.split('/');return S.pop(),(1>S.length?'.':S.join('/'))+'/'},initMaterials:function(_,S){for(var M=[],T=0;T<_.length;++T)M[T]=THREE.Loader.prototype.createMaterial(_[T],S);return M},needsTangents:function(_){for(var S=0,M=_.length,T;S<M;S++)if(T=_[S],T instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(_,S){function M(N){var I=Math.log(N)/Math.LN2;return Math.floor(I)==I}function T(N){var I=Math.log(N)/Math.LN2;return Math.pow(2,Math.round(I))}function C(N,I){var O=new Image;O.onload=function(){if(!M(this.width)||!M(this.height)){var G=T(this.width),H=T(this.height);N.image.width=G,N.image.height=H,N.image.getContext('2d').drawImage(this,0,0,G,H)}else N.image=this;N.needsUpdate=!0},O.crossOrigin=L.crossOrigin,O.src=I}function A(N,I,O,G,H,W,X){var Y=/\.dds$/i.test(O),K=S+'/'+O;if(Y){var Q=THREE.ImageUtils.loadCompressedTexture(K);N[I]=Q}else{var Q=document.createElement('canvas');N[I]=new THREE.Texture(Q)}if(N[I].sourceFile=O,G&&(N[I].repeat.set(G[0],G[1]),1!==G[0]&&(N[I].wrapS=THREE.RepeatWrapping),1!==G[1]&&(N[I].wrapT=THREE.RepeatWrapping)),H&&N[I].offset.set(H[0],H[1]),W){var Z={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==Z[W[0]]&&(N[I].wrapS=Z[W[0]]),void 0!==Z[W[1]]&&(N[I].wrapT=Z[W[1]])}X&&(N[I].anisotropy=X),Y||C(N[I],K)}function E(N){return(255*N[0]<<16)+(255*N[1]<<8)+255*N[2]}var L=this,P='MeshLambertMaterial',D={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(_.shading){var R=_.shading.toLowerCase();'phong'===R?P='MeshPhongMaterial':'basic'===R&&(P='MeshBasicMaterial')}if(void 0!==_.blending&&void 0!==THREE[_.blending]&&(D.blending=THREE[_.blending]),(void 0!==_.transparent||1>_.opacity)&&(D.transparent=_.transparent),void 0!==_.depthTest&&(D.depthTest=_.depthTest),void 0!==_.depthWrite&&(D.depthWrite=_.depthWrite),void 0!==_.visible&&(D.visible=_.visible),void 0!==_.flipSided&&(D.side=THREE.BackSide),void 0!==_.doubleSided&&(D.side=THREE.DoubleSide),void 0!==_.wireframe&&(D.wireframe=_.wireframe),void 0!==_.vertexColors&&('face'===_.vertexColors?D.vertexColors=THREE.FaceColors:_.vertexColors&&(D.vertexColors=THREE.VertexColors)),_.colorDiffuse?D.color=E(_.colorDiffuse):_.DbgColor&&(D.color=_.DbgColor),_.colorSpecular&&(D.specular=E(_.colorSpecular)),_.colorAmbient&&(D.ambient=E(_.colorAmbient)),_.transparency&&(D.opacity=_.transparency),_.specularCoef&&(D.shininess=_.specularCoef),_.mapDiffuse&&S&&A(D,'map',_.mapDiffuse,_.mapDiffuseRepeat,_.mapDiffuseOffset,_.mapDiffuseWrap,_.mapDiffuseAnisotropy),_.mapLight&&S&&A(D,'lightMap',_.mapLight,_.mapLightRepeat,_.mapLightOffset,_.mapLightWrap,_.mapLightAnisotropy),_.mapBump&&S&&A(D,'bumpMap',_.mapBump,_.mapBumpRepeat,_.mapBumpOffset,_.mapBumpWrap,_.mapBumpAnisotropy),_.mapNormal&&S&&A(D,'normalMap',_.mapNormal,_.mapNormalRepeat,_.mapNormalOffset,_.mapNormalWrap,_.mapNormalAnisotropy),_.mapSpecular&&S&&A(D,'specularMap',_.mapSpecular,_.mapSpecularRepeat,_.mapSpecularOffset,_.mapSpecularWrap,_.mapSpecularAnisotropy),_.mapBumpScale&&(D.bumpScale=_.mapBumpScale),_.mapNormal){var F=THREE.ShaderLib.normalmap,V=THREE.UniformsUtils.clone(F.uniforms);V.tNormal.value=D.normalMap,_.mapNormalFactor&&V.uNormalScale.value.set(_.mapNormalFactor,_.mapNormalFactor),D.map&&(V.tDiffuse.value=D.map,V.enableDiffuse.value=!0),D.specularMap&&(V.tSpecular.value=D.specularMap,V.enableSpecular.value=!0),D.lightMap&&(V.tAO.value=D.lightMap,V.enableAO.value=!0),V.uDiffuseColor.value.setHex(D.color),V.uSpecularColor.value.setHex(D.specular),V.uAmbientColor.value.setHex(D.ambient),V.uShininess.value=D.shininess,void 0!==D.opacity&&(V.uOpacity.value=D.opacity);var U={fragmentShader:F.fragmentShader,vertexShader:F.vertexShader,uniforms:V,lights:!0,fog:!0},B=new THREE.ShaderMaterial(U);D.transparent&&(B.transparent=!0)}else var B=new THREE[P](D);return void 0!==_.DbgName&&(B.name=_.DbgName),B}},THREE.XHRLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(_,S,M,T){var C=this,A=new XMLHttpRequest;S!==void 0&&A.addEventListener('load',function(E){S(E.target.responseText),C.manager.itemEnd(_)},!1),M!==void 0&&A.addEventListener('progress',function(E){M(E)},!1),T!==void 0&&A.addEventListener('error',function(E){T(E)},!1),this.crossOrigin!==void 0&&(A.crossOrigin=this.crossOrigin),A.open('GET',_,!0),A.send(null),C.manager.itemStart(_)},setCrossOrigin:function(_){this.crossOrigin=_}},THREE.ImageLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(_,S,M,T){var C=this,A=document.createElement('img');return void 0!==S&&A.addEventListener('load',function(){C.manager.itemEnd(_),S(this)},!1),void 0!==M&&A.addEventListener('progress',function(E){M(E)},!1),void 0!==T&&A.addEventListener('error',function(E){T(E)},!1),void 0!==this.crossOrigin&&(A.crossOrigin=this.crossOrigin),A.src=_,C.manager.itemStart(_),A},setCrossOrigin:function(_){this.crossOrigin=_}},THREE.JSONLoader=function(_){THREE.Loader.call(this,_),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(_,S,M){this;M=M&&'string'===typeof M?M:this.extractUrlBase(_),this.onLoadStart(),this.loadAjaxJSON(this,_,S,M)},THREE.JSONLoader.prototype.loadAjaxJSON=function(_,S,M,T,C){var A=new XMLHttpRequest,E=0;A.onreadystatechange=function(){if(!(A.readyState===A.DONE))A.readyState===A.LOADING?C&&(0===E&&(E=A.getResponseHeader('Content-Length')),C({total:E,loaded:A.responseText.length})):A.readyState===A.HEADERS_RECEIVED&&void 0!==C&&(E=A.getResponseHeader('Content-Length'));else if(200===A.status||0===A.status){if(A.responseText){var L=JSON.parse(A.responseText),P=_.parse(L,T);M(P.geometry,P.materials)}else console.warn('THREE.JSONLoader: ['+S+'] seems to be unreachable or file there is empty');_.onLoadComplete()}else console.error('THREE.JSONLoader: Couldn\'t load ['+S+'] ['+A.status+']')},A.open('GET',S,!0),A.withCredentials=this.withCredentials,A.send(null)},THREE.JSONLoader.prototype.parse=function(_,S){var A=this,E=new THREE.Geometry,L=void 0===_.scale?1:1/_.scale;if(function(D){function R(Se,Me){return Se&1<<Me}var ge=_.faces,ye=_.vertices,xe=_.normals,ve=_.colors,_e=0,F,V,U,B,N,I,O,G,H,W,X,Y,K,Q,Z,J,$,ee,re,oe,ie,se,le,pe,ue,he,fe;if(void 0!==_.uvs){for(F=0;F<_.uvs.length;F++)_.uvs[F].length&&_e++;for(F=0;F<_e;F++)E.faceVertexUvs[F]=[]}for(B=0,N=ye.length;B<N;)ee=new THREE.Vector3,ee.x=ye[B++]*D,ee.y=ye[B++]*D,ee.z=ye[B++]*D,E.vertices.push(ee);for(B=0,N=ge.length;B<N;)if(W=ge[B++],X=R(W,0),Y=R(W,1),K=R(W,3),Q=R(W,4),Z=R(W,5),J=R(W,6),$=R(W,7),X){if(oe=new THREE.Face3,oe.a=ge[B],oe.b=ge[B+1],oe.c=ge[B+3],ie=new THREE.Face3,ie.a=ge[B+1],ie.b=ge[B+2],ie.c=ge[B+3],B+=4,Y&&(H=ge[B++],oe.materialIndex=H,ie.materialIndex=H),U=E.faces.length,K)for(F=0;F<_e;F++)for(pe=_.uvs[F],E.faceVertexUvs[F][U]=[],E.faceVertexUvs[F][U+1]=[],V=0;4>V;V++)G=ge[B++],he=pe[2*G],fe=pe[2*G+1],ue=new THREE.Vector2(he,fe),2!==V&&E.faceVertexUvs[F][U].push(ue),0!==V&&E.faceVertexUvs[F][U+1].push(ue);if(Q&&(O=3*ge[B++],oe.normal.set(xe[O++],xe[O++],xe[O]),ie.normal.copy(oe.normal)),Z)for(F=0;4>F;F++)O=3*ge[B++],le=new THREE.Vector3(xe[O++],xe[O++],xe[O]),2!==F&&oe.vertexNormals.push(le),0!==F&&ie.vertexNormals.push(le);if(J&&(I=ge[B++],se=ve[I],oe.color.setHex(se),ie.color.setHex(se)),$)for(F=0;4>F;F++)I=ge[B++],se=ve[I],2!==F&&oe.vertexColors.push(new THREE.Color(se)),0!==F&&ie.vertexColors.push(new THREE.Color(se));E.faces.push(oe),E.faces.push(ie)}else{if(re=new THREE.Face3,re.a=ge[B++],re.b=ge[B++],re.c=ge[B++],Y&&(H=ge[B++],re.materialIndex=H),U=E.faces.length,K)for(F=0;F<_e;F++)for(pe=_.uvs[F],E.faceVertexUvs[F][U]=[],V=0;3>V;V++)G=ge[B++],he=pe[2*G],fe=pe[2*G+1],ue=new THREE.Vector2(he,fe),E.faceVertexUvs[F][U].push(ue);if(Q&&(O=3*ge[B++],re.normal.set(xe[O++],xe[O++],xe[O])),Z)for(F=0;3>F;F++)O=3*ge[B++],le=new THREE.Vector3(xe[O++],xe[O++],xe[O]),re.vertexNormals.push(le);if(J&&(I=ge[B++],re.color.setHex(ve[I])),$)for(F=0;3>F;F++)I=ge[B++],re.vertexColors.push(new THREE.Color(ve[I]));E.faces.push(re)}}(L),function(){var D,R,F,V,U,B,N,I,O,G;if(_.skinWeights)for(D=0,R=_.skinWeights.length;D<R;D+=2)F=_.skinWeights[D],V=_.skinWeights[D+1],U=0,B=0,E.skinWeights.push(new THREE.Vector4(F,V,U,B));if(_.skinIndices)for(D=0,R=_.skinIndices.length;D<R;D+=2)N=_.skinIndices[D],I=_.skinIndices[D+1],O=0,G=0,E.skinIndices.push(new THREE.Vector4(N,I,O,G));E.bones=_.bones,E.animation=_.animation,E.animations=_.animations}(),function(D){if(void 0!==_.morphTargets){var R,F,V,U,B,N;for(R=0,F=_.morphTargets.length;R<F;R++)for(E.morphTargets[R]={},E.morphTargets[R].name=_.morphTargets[R].name,E.morphTargets[R].vertices=[],B=E.morphTargets[R].vertices,N=_.morphTargets[R].vertices,(V=0,U=N.length);V<U;V+=3){var I=new THREE.Vector3;I.x=N[V]*D,I.y=N[V+1]*D,I.z=N[V+2]*D,B.push(I)}}if(void 0!==_.morphColors){var R,F,O,G,H,W,X;for(R=0,F=_.morphColors.length;R<F;R++)for(E.morphColors[R]={},E.morphColors[R].name=_.morphColors[R].name,E.morphColors[R].colors=[],H=E.morphColors[R].colors,W=_.morphColors[R].colors,(O=0,G=W.length);O<G;O+=3)X=new THREE.Color(16755200),X.setRGB(W[O],W[O+1],W[O+2]),H.push(X)}}(L),E.computeCentroids(),E.computeFaceNormals(),E.computeBoundingSphere(),void 0===_.materials)return{geometry:E};var P=this.initMaterials(_.materials,S);return this.needsTangents(P)&&E.computeTangents(),{geometry:E,materials:P}},THREE.LoadingManager=function(_,S,M){var T=this,C=0,A=0;this.onLoad=_,this.onProgress=S,this.onError=M,this.itemStart=function(){A++},this.itemEnd=function(E){C++,T.onProgress!==void 0&&T.onProgress(E,C,A),C===A&&T.onLoad!==void 0&&T.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(_,S){var C=this,A=new THREE.XHRLoader;A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){S(C.parse(JSON.parse(E)))})},setCrossOrigin:function(_){this.crossOrigin=_},parse:function(_){var S=new THREE.BufferGeometry,M=_.attributes,T=_.offsets,C=_.boundingSphere;for(var A in M){var E=M[A];S.attributes[A]={itemSize:E.itemSize,array:new self[E.type](E.array)}}return void 0!==T&&(S.offsets=JSON.parse(JSON.stringify(T))),void 0!==C&&(S.boundingSphere=new THREE.Sphere(new THREE.Vector3().fromArray(void 0===C.center?[0,0,0]:C.center),C.radius)),S}},THREE.GeometryLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.GeometryLoader.prototype={constructor:THREE.GeometryLoader,load:function(_,S){var C=this,A=new THREE.XHRLoader;A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){S(C.parse(JSON.parse(E)))})},setCrossOrigin:function(_){this.crossOrigin=_},parse:function(){}},THREE.MaterialLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(_,S){var C=this,A=new THREE.XHRLoader;A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){S(C.parse(JSON.parse(E)))})},setCrossOrigin:function(_){this.crossOrigin=_},parse:function(_){var S=new THREE[_.type];if(void 0!==_.color&&S.color.setHex(_.color),void 0!==_.ambient&&S.ambient.setHex(_.ambient),void 0!==_.emissive&&S.emissive.setHex(_.emissive),void 0!==_.specular&&S.specular.setHex(_.specular),void 0!==_.shininess&&(S.shininess=_.shininess),void 0!==_.vertexColors&&(S.vertexColors=_.vertexColors),void 0!==_.blending&&(S.blending=_.blending),void 0!==_.side&&(S.side=_.side),void 0!==_.opacity&&(S.opacity=_.opacity),void 0!==_.transparent&&(S.transparent=_.transparent),void 0!==_.wireframe&&(S.wireframe=_.wireframe),void 0!==_.materials)for(var M=0,T=_.materials.length;M<T;M++)S.materials.push(this.parse(_.materials[M]));return S}},THREE.ObjectLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(_,S){var C=this,A=new THREE.XHRLoader(C.manager);A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){S(C.parse(JSON.parse(E)))})},setCrossOrigin:function(_){this.crossOrigin=_},parse:function(_){var S=this.parseGeometries(_.geometries),M=this.parseMaterials(_.materials),T=this.parseObject(_.object,S,M);return T},parseGeometries:function(_){var S={};if(_!==void 0)for(var M=new THREE.JSONLoader,T=new THREE.BufferGeometryLoader,C=0,A=_.length;C<A;C++){var L=_[C],E;switch(L.type){case'PlaneGeometry':E=new THREE.PlaneGeometry(L.width,L.height,L.widthSegments,L.heightSegments);break;case'CircleGeometry':E=new THREE.CircleGeometry(L.radius,L.segments);break;case'CubeGeometry':E=new THREE.CubeGeometry(L.width,L.height,L.depth,L.widthSegments,L.heightSegments,L.depthSegments);break;case'CylinderGeometry':E=new THREE.CylinderGeometry(L.radiusTop,L.radiusBottom,L.height,L.radialSegments,L.heightSegments,L.openEnded);break;case'SphereGeometry':E=new THREE.SphereGeometry(L.radius,L.widthSegments,L.heightSegments,L.phiStart,L.phiLength,L.thetaStart,L.thetaLength);break;case'IcosahedronGeometry':E=new THREE.IcosahedronGeometry(L.radius,L.detail);break;case'TorusGeometry':E=new THREE.TorusGeometry(L.radius,L.tube,L.radialSegments,L.tubularSegments,L.arc);break;case'TorusKnotGeometry':E=new THREE.TorusKnotGeometry(L.radius,L.tube,L.radialSegments,L.tubularSegments,L.p,L.q,L.heightScale);break;case'BufferGeometry':E=T.parse(L.data);break;case'Geometry':E=M.parse(L.data).geometry;}E.uuid=L.uuid,void 0!==L.name&&(E.name=L.name),S[L.uuid]=E}return S},parseMaterials:function(_){var S={};if(_!==void 0)for(var M=new THREE.MaterialLoader,T=0,C=_.length;T<C;T++){var A=_[T],E=M.parse(A);E.uuid=A.uuid,void 0!==A.name&&(E.name=A.name),S[A.uuid]=E}return S},parseObject:function(){var _=new THREE.Matrix4;return function(S,M,T){var C;switch(S.type){case'Scene':C=new THREE.Scene;break;case'PerspectiveCamera':C=new THREE.PerspectiveCamera(S.fov,S.aspect,S.near,S.far);break;case'OrthographicCamera':C=new THREE.OrthographicCamera(S.left,S.right,S.top,S.bottom,S.near,S.far);break;case'AmbientLight':C=new THREE.AmbientLight(S.color);break;case'DirectionalLight':C=new THREE.DirectionalLight(S.color,S.intensity);break;case'PointLight':C=new THREE.PointLight(S.color,S.intensity,S.distance);break;case'SpotLight':C=new THREE.SpotLight(S.color,S.intensity,S.distance,S.angle,S.exponent);break;case'HemisphereLight':C=new THREE.HemisphereLight(S.color,S.groundColor,S.intensity);break;case'Mesh':var A=M[S.geometry],E=T[S.material];void 0===A&&console.error('THREE.ObjectLoader: Undefined geometry '+S.geometry),void 0===E&&console.error('THREE.ObjectLoader: Undefined material '+S.material),C=new THREE.Mesh(A,E);break;case'Sprite':var E=T[S.material];void 0===E&&console.error('THREE.ObjectLoader: Undefined material '+S.material),C=new THREE.Sprite(E);break;default:C=new THREE.Object3D;}if(C.uuid=S.uuid,void 0!==S.name&&(C.name=S.name),void 0===S.matrix?(void 0!==S.position&&C.position.fromArray(S.position),void 0!==S.rotation&&C.rotation.fromArray(S.rotation),void 0!==S.scale&&C.scale.fromArray(S.scale)):(_.fromArray(S.matrix),_.decompose(C.position,C.quaternion,C.scale)),void 0!==S.visible&&(C.visible=S.visible),void 0!==S.userData&&(C.userData=S.userData),void 0!==S.children)for(var L in S.children)C.add(this.parseObject(S.children[L],M,T));return C}}()},THREE.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlers={},this.hierarchyHandlers={},this.addGeometryHandler('ascii',THREE.JSONLoader)},THREE.SceneLoader.prototype={constructor:THREE.SceneLoader,load:function(_,S){var C=this,A=new THREE.XHRLoader(C.manager);A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){C.parse(JSON.parse(E),S,_)})},setCrossOrigin:function(_){this.crossOrigin=_},addGeometryHandler:function(_,S){this.geometryHandlers[_]={loaderClass:S}},addHierarchyHandler:function(_,S){this.hierarchyHandlers[_]={loaderClass:S}},parse:function(_,S,M){function T($e,et){return'relativeToHTML'==et?$e:N+'/'+$e}function C(){A(oe.scene,ne.objects)}function A($e,et){var tt,at,ot,it,nt;for(var st in et){var lt=oe.objects[st],ct=et[st];if(void 0===lt){if(ct.type&&ct.type in B.hierarchyHandlers){if(void 0===ct.loading){var dt={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1},mt={};for(var ut in ct)ut in dt||(mt[ut]=ct[ut]);O=oe.materials[ct.material],ct.loading=!0;var ht=B.hierarchyHandlers[ct.type].loaderObject;ht.options?ht.load(T(ct.url,ne.urlBaseType),D(st,$e,O,ct)):ht.load(T(ct.url,ne.urlBaseType),D(st,$e,O,ct),mt)}}else if(void 0!==ct.geometry){if(I=oe.geometries[ct.geometry],I){var ft=!1;if(O=oe.materials[ct.material],ft=O instanceof THREE.ShaderMaterial,at=ct.position,ot=ct.rotation,it=ct.scale,tt=ct.matrix,nt=ct.quaternion,ct.material||(O=new THREE.MeshFaceMaterial(oe.face_materials[ct.geometry])),O instanceof THREE.MeshFaceMaterial&&0===O.materials.length&&(O=new THREE.MeshFaceMaterial(oe.face_materials[ct.geometry])),O instanceof THREE.MeshFaceMaterial)for(var gt=0;gt<O.materials.length;gt++)ft=ft||O.materials[gt]instanceof THREE.ShaderMaterial;ft&&I.computeTangents(),ct.skin?lt=new THREE.SkinnedMesh(I,O):ct.morph?(lt=new THREE.MorphAnimMesh(I,O),void 0!==ct.duration&&(lt.duration=ct.duration),void 0!==ct.time&&(lt.time=ct.time),void 0!==ct.mirroredLoop&&(lt.mirroredLoop=ct.mirroredLoop),O.morphNormals&&I.computeMorphNormals()):lt=new THREE.Mesh(I,O),lt.name=st,tt?(lt.matrixAutoUpdate=!1,lt.matrix.set(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],tt[8],tt[9],tt[10],tt[11],tt[12],tt[13],tt[14],tt[15])):(lt.position.fromArray(at),nt?lt.quaternion.fromArray(nt):lt.rotation.fromArray(ot),lt.scale.fromArray(it)),lt.visible=ct.visible,lt.castShadow=ct.castShadow,lt.receiveShadow=ct.receiveShadow,$e.add(lt),oe.objects[st]=lt}}else if('AmbientLight'===ct.type||'PointLight'===ct.type||'DirectionalLight'===ct.type||'SpotLight'===ct.type||'HemisphereLight'===ct.type||'AreaLight'===ct.type){var yt=ct.color,xt=ct.intensity,vt=ct.distance,_t=ct.position,bt=ct.rotation;switch(ct.type){case'AmbientLight':K=new THREE.AmbientLight(yt);break;case'PointLight':K=new THREE.PointLight(yt,xt,vt),K.position.fromArray(_t);break;case'DirectionalLight':K=new THREE.DirectionalLight(yt,xt),K.position.fromArray(ct.direction);break;case'SpotLight':K=new THREE.SpotLight(yt,xt,vt,1),K.angle=ct.angle,K.position.fromArray(_t),K.target.set(_t[0],_t[1]-vt,_t[2]),K.target.applyEuler(new THREE.Euler(bt[0],bt[1],bt[2],'XYZ'));break;case'HemisphereLight':K=new THREE.DirectionalLight(yt,xt,vt),K.target.set(_t[0],_t[1]-vt,_t[2]),K.target.applyEuler(new THREE.Euler(bt[0],bt[1],bt[2],'XYZ'));break;case'AreaLight':K=new THREE.AreaLight(yt,xt),K.position.fromArray(_t),K.width=ct.size,K.height=ct.size_y;}$e.add(K),K.name=st,oe.lights[st]=K,oe.objects[st]=K}else'PerspectiveCamera'===ct.type||'OrthographicCamera'===ct.type?(at=ct.position,ot=ct.rotation,nt=ct.quaternion,'PerspectiveCamera'===ct.type?G=new THREE.PerspectiveCamera(ct.fov,ct.aspect,ct.near,ct.far):'OrthographicCamera'===ct.type&&(G=new THREE.OrthographicCamera(ct.left,ct.right,ct.top,ct.bottom,ct.near,ct.far)),G.name=st,G.position.fromArray(at),void 0===nt?void 0!==ot&&G.rotation.fromArray(ot):G.quaternion.fromArray(nt),$e.add(G),oe.cameras[st]=G,oe.objects[st]=G):(at=ct.position,ot=ct.rotation,it=ct.scale,nt=ct.quaternion,lt=new THREE.Object3D,lt.name=st,lt.position.fromArray(at),nt?lt.quaternion.fromArray(nt):lt.rotation.fromArray(ot),lt.scale.fromArray(it),lt.visible=void 0!==ct.visible&&ct.visible,$e.add(lt),oe.objects[st]=lt,oe.empties[st]=lt);if(lt){if(void 0!==ct.userData)for(var St in ct.userData){var Mt=ct.userData[St];lt.userData[St]=Mt}if(void 0!==ct.groups)for(var gt=0,Tt;gt<ct.groups.length;gt++)Tt=ct.groups[gt],void 0===oe.groups[Tt]&&(oe.groups[Tt]=[]),oe.groups[Tt].push(st)}}void 0!==lt&&void 0!==ct.children&&A(lt,ct.children)}}function E($e,et,tt){oe.geometries[tt]=$e,oe.face_materials[tt]=et,C()}function L($e,et,tt,rt,at){var ot=at.position,it=at.rotation,nt=at.quaternion,st=at.scale;$e.position.fromArray(ot),nt?$e.quaternion.fromArray(nt):$e.rotation.fromArray(it),$e.scale.fromArray(st),rt&&$e.traverse(function(ct){ct.material=rt});var lt=void 0===at.visible||at.visible;$e.traverse(function(ct){ct.visible=lt}),tt.add($e),$e.name=et,oe.objects[et]=$e,C()}function P($e){return function(et,tt){et.name=$e,E(et,tt,$e),J-=1,B.onLoadComplete(),F()}}function D($e,et,tt,rt){return function(at){var ot;ot=at.content?at.content:at.dae?at.scene:at,L(ot,$e,et,tt,rt),J-=1,B.onLoadComplete(),F()}}function R($e){return function(et,tt){et.name=$e,oe.geometries[$e]=et,oe.face_materials[$e]=tt}}function F(){var $e={totalModels:ee,totalTextures:re,loadedModels:ee-J,loadedTextures:re-$};B.callbackProgress($e,oe),B.onLoadProgress(),0===J&&0===$&&(V(),S(oe))}function V(){for(var $e=0;$e<ie.length;$e++){var et=ie[$e],tt=oe.objects[et.targetName];tt?et.object.target=tt:(et.object.target=new THREE.Object3D,oe.scene.add(et.object.target)),et.object.target.userData.targetInverse=et.object}}function U($e,et){if(et($e),void 0!==$e.children)for(var tt in $e.children)U($e.children[tt],et)}var B=this,N=THREE.Loader.prototype.extractUrlBase(M),ie=[],ne=_,I,O,G,H,W,Y,K,J,$,ee,re,oe;for(var se in this.geometryHandlers){var le=this.geometryHandlers[se].loaderClass;this.geometryHandlers[se].loaderObject=new le}for(var se in this.hierarchyHandlers){var le=this.hierarchyHandlers[se].loaderClass;this.hierarchyHandlers[se].loaderObject=new le}if(J=0,$=0,oe={scene:new THREE.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},ne.transform){var pe=ne.transform.position,ue=ne.transform.rotation,he=ne.transform.scale;pe&&oe.scene.position.fromArray(pe),ue&&oe.scene.rotation.fromArray(ue),he&&oe.scene.scale.fromArray(he),(pe||ue||he)&&(oe.scene.updateMatrix(),oe.scene.updateMatrixWorld())}var fe=function($e){$-=$e,F(),B.onLoadComplete()},ge=function($e){return function(){fe($e)}},ye,xe;for(ye in ne.fogs)xe=ne.fogs[ye],'linear'===xe.type?H=new THREE.Fog(0,xe.near,xe.far):'exp2'===xe.type&&(H=new THREE.FogExp2(0,xe.density)),Y=xe.color,H.color.setRGB(Y[0],Y[1],Y[2]),oe.fogs[ye]=H;var ve,_e;for(ve in ne.geometries)_e=ne.geometries[ve],_e.type in this.geometryHandlers&&(J+=1,B.onLoadStart());for(var Se in ne.objects)U(ne.objects[Se],function($e){$e.type&&$e.type in B.hierarchyHandlers&&(J+=1,B.onLoadStart())});for(ve in ee=J,ne.geometries)if(_e=ne.geometries[ve],'cube'===_e.type)I=new THREE.CubeGeometry(_e.width,_e.height,_e.depth,_e.widthSegments,_e.heightSegments,_e.depthSegments),I.name=ve,oe.geometries[ve]=I;else if('plane'===_e.type)I=new THREE.PlaneGeometry(_e.width,_e.height,_e.widthSegments,_e.heightSegments),I.name=ve,oe.geometries[ve]=I;else if('sphere'===_e.type)I=new THREE.SphereGeometry(_e.radius,_e.widthSegments,_e.heightSegments),I.name=ve,oe.geometries[ve]=I;else if('cylinder'===_e.type)I=new THREE.CylinderGeometry(_e.topRad,_e.botRad,_e.height,_e.radSegs,_e.heightSegs),I.name=ve,oe.geometries[ve]=I;else if('torus'===_e.type)I=new THREE.TorusGeometry(_e.radius,_e.tube,_e.segmentsR,_e.segmentsT),I.name=ve,oe.geometries[ve]=I;else if('icosahedron'===_e.type)I=new THREE.IcosahedronGeometry(_e.radius,_e.subdivisions),I.name=ve,oe.geometries[ve]=I;else if(_e.type in this.geometryHandlers){var Me={};for(var Te in _e)'type'!==Te&&'url'!==Te&&(Me[Te]=_e[Te]);var Ce=this.geometryHandlers[_e.type].loaderObject;Ce.load(T(_e.url,ne.urlBaseType),P(ve),Me)}else if('embedded'===_e.type){var Ae=ne.embeds[_e.id];if(Ae.metadata=ne.metadata,Ae){var Ee=this.geometryHandlers.ascii.loaderObject,Le=Ee.parse(Ae,'');R(ve)(Le.geometry,Le.materials)}}var Pe,De;for(Pe in ne.textures)if(De=ne.textures[Pe],De.url instanceof Array){$+=De.url.length;for(var Re=0;Re<De.url.length;Re++)B.onLoadStart()}else $+=1,B.onLoadStart();for(Pe in re=$,ne.textures){if(De=ne.textures[Pe],void 0!==De.mapping&&void 0!==THREE[De.mapping]&&(De.mapping=new THREE[De.mapping]),De.url instanceof Array){for(var Fe=De.url.length,Ve=[],Ue=0;Ue<Fe;Ue++)Ve[Ue]=T(De.url[Ue],ne.urlBaseType);var ze=/\.dds$/i.test(Ve[0]);W=ze?THREE.ImageUtils.loadCompressedTextureCube(Ve,De.mapping,ge(Fe)):THREE.ImageUtils.loadTextureCube(Ve,De.mapping,ge(Fe))}else{var ze=/\.dds$/i.test(De.url),Be=T(De.url,ne.urlBaseType),Ne=ge(1);if(W=ze?THREE.ImageUtils.loadCompressedTexture(Be,De.mapping,Ne):THREE.ImageUtils.loadTexture(Be,De.mapping,Ne),void 0!==THREE[De.minFilter]&&(W.minFilter=THREE[De.minFilter]),void 0!==THREE[De.magFilter]&&(W.magFilter=THREE[De.magFilter]),De.anisotropy&&(W.anisotropy=De.anisotropy),De.repeat&&(W.repeat.set(De.repeat[0],De.repeat[1]),1!==De.repeat[0]&&(W.wrapS=THREE.RepeatWrapping),1!==De.repeat[1]&&(W.wrapT=THREE.RepeatWrapping)),De.offset&&W.offset.set(De.offset[0],De.offset[1]),De.wrap){var Ie={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==Ie[De.wrap[0]]&&(W.wrapS=Ie[De.wrap[0]]),void 0!==Ie[De.wrap[1]]&&(W.wrapT=Ie[De.wrap[1]])}}oe.textures[Pe]=W}var Oe,ke,Ge;for(Oe in ne.materials){for(Ge in ke=ne.materials[Oe],ke.parameters)if('envMap'===Ge||'map'===Ge||'lightMap'===Ge||'bumpMap'===Ge)ke.parameters[Ge]=oe.textures[ke.parameters[Ge]];else if('shading'===Ge)ke.parameters[Ge]='flat'===ke.parameters[Ge]?THREE.FlatShading:THREE.SmoothShading;else if('side'===Ge)ke.parameters[Ge]='double'==ke.parameters[Ge]?THREE.DoubleSide:'back'==ke.parameters[Ge]?THREE.BackSide:THREE.FrontSide;else if('blending'===Ge)ke.parameters[Ge]=ke.parameters[Ge]in THREE?THREE[ke.parameters[Ge]]:THREE.NormalBlending;else if('combine'===Ge)ke.parameters[Ge]=ke.parameters[Ge]in THREE?THREE[ke.parameters[Ge]]:THREE.MultiplyOperation;else if('vertexColors'===Ge)'face'==ke.parameters[Ge]?ke.parameters[Ge]=THREE.FaceColors:ke.parameters[Ge]&&(ke.parameters[Ge]=THREE.VertexColors);else if('wrapRGB'===Ge){var He=ke.parameters[Ge];ke.parameters[Ge]=new THREE.Vector3(He[0],He[1],He[2])}if(void 0!==ke.parameters.opacity&&1>ke.parameters.opacity&&(ke.parameters.transparent=!0),ke.parameters.normalMap){var We=THREE.ShaderLib.normalmap,je=THREE.UniformsUtils.clone(We.uniforms),Xe=ke.parameters.color,qe=ke.parameters.specular,Ye=ke.parameters.ambient,Ke=ke.parameters.shininess;je.tNormal.value=oe.textures[ke.parameters.normalMap],ke.parameters.normalScale&&je.uNormalScale.value.set(ke.parameters.normalScale[0],ke.parameters.normalScale[1]),ke.parameters.map&&(je.tDiffuse.value=ke.parameters.map,je.enableDiffuse.value=!0),ke.parameters.envMap&&(je.tCube.value=ke.parameters.envMap,je.enableReflection.value=!0,je.uReflectivity.value=ke.parameters.reflectivity),ke.parameters.lightMap&&(je.tAO.value=ke.parameters.lightMap,je.enableAO.value=!0),ke.parameters.specularMap&&(je.tSpecular.value=oe.textures[ke.parameters.specularMap],je.enableSpecular.value=!0),ke.parameters.displacementMap&&(je.tDisplacement.value=oe.textures[ke.parameters.displacementMap],je.enableDisplacement.value=!0,je.uDisplacementBias.value=ke.parameters.displacementBias,je.uDisplacementScale.value=ke.parameters.displacementScale),je.uDiffuseColor.value.setHex(Xe),je.uSpecularColor.value.setHex(qe),je.uAmbientColor.value.setHex(Ye),je.uShininess.value=Ke,ke.parameters.opacity&&(je.uOpacity.value=ke.parameters.opacity);var Qe={fragmentShader:We.fragmentShader,vertexShader:We.vertexShader,uniforms:je,lights:!0,fog:!0};O=new THREE.ShaderMaterial(Qe)}else O=new THREE[ke.type](ke.parameters);O.name=Oe,oe.materials[Oe]=O}for(Oe in ne.materials)if(ke=ne.materials[Oe],ke.parameters.materials){for(var Ze=[],Ue=0,Je;Ue<ke.parameters.materials.length;Ue++)Je=ke.parameters.materials[Ue],Ze.push(oe.materials[Je]);oe.materials[Oe].materials=Ze}C(),oe.cameras&&ne.defaults.camera&&(oe.currentCamera=oe.cameras[ne.defaults.camera]),oe.fogs&&ne.defaults.fog&&(oe.scene.fog=oe.fogs[ne.defaults.fog]),B.callbackSync(oe),F()}},THREE.TextureLoader=function(_){this.manager=_===void 0?THREE.DefaultLoadingManager:_},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(_,S){var C=this,A=new THREE.ImageLoader(C.manager);A.setCrossOrigin(this.crossOrigin),A.load(_,function(E){var L=new THREE.Texture(E);L.needsUpdate=!0,S!==void 0&&S(L)})},setCrossOrigin:function(_){this.crossOrigin=_}},THREE.Material=function(){this.id=THREE.MaterialIdCount++,this.uuid=THREE.Math.generateUUID(),this.name='',this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(_){if(void 0!==_)for(var S in _){var M=_[S];if(void 0===M){console.warn('THREE.Material: \''+S+'\' parameter is undefined.');continue}if(S in this){var T=this[S];T instanceof THREE.Color?T.set(M):T instanceof THREE.Vector3&&M instanceof THREE.Vector3?T.copy(M):'overdraw'==S?this[S]=+M:this[S]=M}}},clone:function(_){return void 0===_&&(_=new THREE.Material),_.name=this.name,_.side=this.side,_.opacity=this.opacity,_.transparent=this.transparent,_.blending=this.blending,_.blendSrc=this.blendSrc,_.blendDst=this.blendDst,_.blendEquation=this.blendEquation,_.depthTest=this.depthTest,_.depthWrite=this.depthWrite,_.polygonOffset=this.polygonOffset,_.polygonOffsetFactor=this.polygonOffsetFactor,_.polygonOffsetUnits=this.polygonOffsetUnits,_.alphaTest=this.alphaTest,_.overdraw=this.overdraw,_.visible=this.visible,_},dispose:function(){this.dispatchEvent({type:'dispose'})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap='round',this.linejoin='round',this.vertexColors=!1,this.fog=!0,this.setValues(_)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var _=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.linewidth=this.linewidth,_.linecap=this.linecap,_.linejoin=this.linejoin,_.vertexColors=this.vertexColors,_.fog=this.fog,_},THREE.LineDashedMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(_)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var _=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.linewidth=this.linewidth,_.scale=this.scale,_.dashSize=this.dashSize,_.gapSize=this.gapSize,_.vertexColors=this.vertexColors,_.fog=this.fog,_},THREE.MeshBasicMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=0.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(_)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var _=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.map=this.map,_.lightMap=this.lightMap,_.specularMap=this.specularMap,_.envMap=this.envMap,_.combine=this.combine,_.reflectivity=this.reflectivity,_.refractionRatio=this.refractionRatio,_.fog=this.fog,_.shading=this.shading,_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_.wireframeLinecap=this.wireframeLinecap,_.wireframeLinejoin=this.wireframeLinejoin,_.vertexColors=this.vertexColors,_.skinning=this.skinning,_.morphTargets=this.morphTargets,_},THREE.MeshLambertMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=0.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(_)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var _=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.ambient.copy(this.ambient),_.emissive.copy(this.emissive),_.wrapAround=this.wrapAround,_.wrapRGB.copy(this.wrapRGB),_.map=this.map,_.lightMap=this.lightMap,_.specularMap=this.specularMap,_.envMap=this.envMap,_.combine=this.combine,_.reflectivity=this.reflectivity,_.refractionRatio=this.refractionRatio,_.fog=this.fog,_.shading=this.shading,_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_.wireframeLinecap=this.wireframeLinecap,_.wireframeLinejoin=this.wireframeLinejoin,_.vertexColors=this.vertexColors,_.skinning=this.skinning,_.morphTargets=this.morphTargets,_.morphNormals=this.morphNormals,_},THREE.MeshPhongMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.perPixel=!0,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.specularMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=0.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(_)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var _=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.ambient.copy(this.ambient),_.emissive.copy(this.emissive),_.specular.copy(this.specular),_.shininess=this.shininess,_.metal=this.metal,_.perPixel=this.perPixel,_.wrapAround=this.wrapAround,_.wrapRGB.copy(this.wrapRGB),_.map=this.map,_.lightMap=this.lightMap,_.bumpMap=this.bumpMap,_.bumpScale=this.bumpScale,_.normalMap=this.normalMap,_.normalScale.copy(this.normalScale),_.specularMap=this.specularMap,_.envMap=this.envMap,_.combine=this.combine,_.reflectivity=this.reflectivity,_.refractionRatio=this.refractionRatio,_.fog=this.fog,_.shading=this.shading,_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_.wireframeLinecap=this.wireframeLinecap,_.wireframeLinejoin=this.wireframeLinejoin,_.vertexColors=this.vertexColors,_.skinning=this.skinning,_.morphTargets=this.morphTargets,_.morphNormals=this.morphNormals,_},THREE.MeshDepthMaterial=function(_){THREE.Material.call(this),this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var _=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,_),_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_},THREE.MeshNormalMaterial=function(_){THREE.Material.call(this,_),this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(_)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var _=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,_),_.shading=this.shading,_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_},THREE.MeshFaceMaterial=function(_){this.materials=_ instanceof Array?_:[]},THREE.MeshFaceMaterial.prototype.clone=function(){for(var _=new THREE.MeshFaceMaterial,S=0;S<this.materials.length;S++)_.materials.push(this.materials[S].clone());return _},THREE.ParticleSystemMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(_)},THREE.ParticleSystemMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ParticleSystemMaterial.prototype.clone=function(){var _=new THREE.ParticleSystemMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.map=this.map,_.size=this.size,_.sizeAttenuation=this.sizeAttenuation,_.vertexColors=this.vertexColors,_.fog=this.fog,_},THREE.ParticleBasicMaterial=THREE.ParticleSystemMaterial,THREE.ShaderMaterial=function(_){THREE.Material.call(this),this.fragmentShader='void main() {}',this.vertexShader='void main() {}',this.uniforms={},this.defines={},this.attributes=null,this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName='position',this.setValues(_)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var _=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,_),_.fragmentShader=this.fragmentShader,_.vertexShader=this.vertexShader,_.uniforms=THREE.UniformsUtils.clone(this.uniforms),_.attributes=this.attributes,_.defines=this.defines,_.shading=this.shading,_.wireframe=this.wireframe,_.wireframeLinewidth=this.wireframeLinewidth,_.fog=this.fog,_.lights=this.lights,_.vertexColors=this.vertexColors,_.skinning=this.skinning,_.morphTargets=this.morphTargets,_.morphNormals=this.morphNormals,_},THREE.SpriteMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.uvOffset=new THREE.Vector2(0,0),this.uvScale=new THREE.Vector2(1,1),this.setValues(_)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var _=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.map=this.map,_.rotation=this.rotation,_.uvOffset.copy(this.uvOffset),_.uvScale.copy(this.uvScale),_.fog=this.fog,_},THREE.SpriteCanvasMaterial=function(_){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.program=function(){},this.setValues(_)},THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteCanvasMaterial.prototype.clone=function(){var _=new THREE.SpriteCanvasMaterial;return THREE.Material.prototype.clone.call(this,_),_.color.copy(this.color),_.program=this.program,_},THREE.ParticleCanvasMaterial=THREE.SpriteCanvasMaterial,THREE.Texture=function(_,S,M,T,C,A,E,L,P){this.id=THREE.TextureIdCount++,this.uuid=THREE.Math.generateUUID(),this.name='',this.image=_,this.mipmaps=[],this.mapping=S===void 0?new THREE.UVMapping:S,this.wrapS=M===void 0?THREE.ClampToEdgeWrapping:M,this.wrapT=T===void 0?THREE.ClampToEdgeWrapping:T,this.magFilter=C===void 0?THREE.LinearFilter:C,this.minFilter=A===void 0?THREE.LinearMipMapLinearFilter:A,this.anisotropy=P===void 0?1:P,this.format=E===void 0?THREE.RGBAFormat:E,this.type=L===void 0?THREE.UnsignedByteType:L,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},THREE.Texture.prototype={constructor:THREE.Texture,clone:function(_){return void 0===_&&(_=new THREE.Texture),_.image=this.image,_.mipmaps=this.mipmaps.slice(0),_.mapping=this.mapping,_.wrapS=this.wrapS,_.wrapT=this.wrapT,_.magFilter=this.magFilter,_.minFilter=this.minFilter,_.anisotropy=this.anisotropy,_.format=this.format,_.type=this.type,_.offset.copy(this.offset),_.repeat.copy(this.repeat),_.generateMipmaps=this.generateMipmaps,_.premultiplyAlpha=this.premultiplyAlpha,_.flipY=this.flipY,_.unpackAlignment=this.unpackAlignment,_},dispose:function(){this.dispatchEvent({type:'dispose'})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CompressedTexture=function(_,S,M,T,C,A,E,L,P,D,R){THREE.Texture.call(this,null,A,E,L,P,D,T,C,R),this.image={width:S,height:M},this.mipmaps=_,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var _=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,_),_},THREE.DataTexture=function(_,S,M,T,C,A,E,L,P,D,R){THREE.Texture.call(this,null,A,E,L,P,D,T,C,R),this.image={data:_,width:S,height:M}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var _=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,_),_},THREE.ParticleSystem=function(_,S){THREE.Object3D.call(this),this.geometry=_===void 0?new THREE.Geometry:_,this.material=S===void 0?new THREE.ParticleSystemMaterial({color:16777215*Math.random()}):S,this.sortParticles=!1,this.frustumCulled=!1},THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype),THREE.ParticleSystem.prototype.clone=function(_){return void 0===_&&(_=new THREE.ParticleSystem(this.geometry,this.material)),_.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,_),_},THREE.Line=function(_,S,M){THREE.Object3D.call(this),this.geometry=_===void 0?new THREE.Geometry:_,this.material=S===void 0?new THREE.LineBasicMaterial({color:16777215*Math.random()}):S,this.type=M===void 0?THREE.LineStrip:M},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.clone=function(_){return void 0===_&&(_=new THREE.Line(this.geometry,this.material,this.type)),THREE.Object3D.prototype.clone.call(this,_),_},THREE.Mesh=function(_,S){THREE.Object3D.call(this),this.geometry=_===void 0?new THREE.Geometry:_,this.material=S===void 0?new THREE.MeshBasicMaterial({color:16777215*Math.random()}):S,this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets=function(){if(0<this.geometry.morphTargets.length){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var _=0,S=this.geometry.morphTargets.length;_<S;_++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[_].name]=_}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(_){return void 0===this.morphTargetDictionary[_]?(console.log('THREE.Mesh.getMorphTargetIndexByName: morph target '+_+' does not exist. Returning 0.'),0):this.morphTargetDictionary[_]},THREE.Mesh.prototype.clone=function(_){return void 0===_&&(_=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,_),_},THREE.Bone=function(_){THREE.Object3D.call(this),this.skin=_,this.skinMatrix=new THREE.Matrix4},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.update=function(_,S){this.matrixAutoUpdate&&(S|=this.updateMatrix()),(S||this.matrixWorldNeedsUpdate)&&(_?this.skinMatrix.multiplyMatrices(_,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,S=!0);var C=this.children.length,T;for(T=0;T<C;T++)this.children[T].update(this.skinMatrix,S)},THREE.SkinnedMesh=function(_,S,M){THREE.Mesh.call(this,_,S),this.useVertexTexture=!(M!==void 0)||M,this.identityMatrix=new THREE.Matrix4,this.bones=[],this.boneMatrices=[];var T,C,A,E,L,P;if(this.geometry&&this.geometry.bones!==void 0){for(T=0;T<this.geometry.bones.length;T++)A=this.geometry.bones[T],E=A.pos,L=A.rotq,P=A.scl,C=this.addBone(),C.name=A.name,C.position.set(E[0],E[1],E[2]),C.quaternion.set(L[0],L[1],L[2],L[3]),void 0===P?C.scale.set(1,1,1):C.scale.set(P[0],P[1],P[2]);for(T=0;T<this.bones.length;T++)A=this.geometry.bones[T],C=this.bones[T],-1===A.parent?this.add(C):this.bones[A.parent].add(C);var D=this.bones.length;if(this.useVertexTexture){var R;R=256<D?64:64<D?32:16<D?16:8,this.boneTextureWidth=R,this.boneTextureHeight=R,this.boneMatrices=new Float32Array(4*(this.boneTextureWidth*this.boneTextureHeight)),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*D);this.pose()}},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.addBone=function(_){return void 0===_&&(_=new THREE.Bone(this)),this.bones.push(_),_},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){var _=new THREE.Matrix4;return function(S){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||S)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,S=!0);for(var M=0,T=this.children.length,C;M<T;M++)C=this.children[M],C instanceof THREE.Bone?C.update(this.identityMatrix,!1):C.updateMatrixWorld(!0);if(this.boneInverses==void 0){this.boneInverses=[];for(var A=0,E=this.bones.length,L;A<E;A++)L=new THREE.Matrix4,L.getInverse(this.bones[A].skinMatrix),this.boneInverses.push(L)}for(var A=0,E=this.bones.length;A<E;A++)_.multiplyMatrices(this.bones[A].skinMatrix,this.boneInverses[A]),_.flattenToArrayOffset(this.boneMatrices,16*A);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0),this.normalizeSkinWeights()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var _=0;_<this.geometry.skinIndices.length;_++){var S=this.geometry.skinWeights[_],M=1/S.lengthManhattan();M===Infinity?S.set(1):S.multiplyScalar(M)}else;},THREE.SkinnedMesh.prototype.clone=function(_){return void 0===_&&(_=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,_),_},THREE.MorphAnimMesh=function(_,S){THREE.Mesh.call(this,_,S),this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(_,S){this.startKeyframe=_,this.endKeyframe=S,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var _=this.geometry;_.animations||(_.animations={});for(var M=_.animations,T=/([a-z]+)(\d+)/,C=0,A=_.morphTargets.length,S;C<A;C++){var E=_.morphTargets[C],L=E.name.match(T);if(L&&1<L.length){var P=L[1],D=L[2];M[P]||(M[P]={start:Infinity,end:-Infinity});var R=M[P];C<R.start&&(R.start=C),C>R.end&&(R.end=C),S||(S=P)}}_.firstAnimation=S},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(_,S,M){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[_]={start:S,end:M}},THREE.MorphAnimMesh.prototype.playAnimation=function(_,S){var M=this.geometry.animations[_];M?(this.setFrameRange(M.start,M.end),this.duration=1e3*((M.end-M.start)/S),this.time=0):console.warn('animation['+_+'] undefined')},THREE.MorphAnimMesh.prototype.updateAnimation=function(_){var S=this.duration/this.length;this.time+=this.direction*_,this.mirroredLoop?(this.time>this.duration||0>this.time)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)):(this.time%=this.duration,0>this.time&&(this.time+=this.duration));var M=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/S),0,this.length-1);M!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[M]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=M);var T=this.time%S/S;this.directionBackwards&&(T=1-T),this.morphTargetInfluences[this.currentKeyframe]=T,this.morphTargetInfluences[this.lastKeyframe]=1-T},THREE.MorphAnimMesh.prototype.clone=function(_){return void 0===_&&(_=new THREE.MorphAnimMesh(this.geometry,this.material)),_.duration=this.duration,_.mirroredLoop=this.mirroredLoop,_.time=this.time,_.lastKeyframe=this.lastKeyframe,_.currentKeyframe=this.currentKeyframe,_.direction=this.direction,_.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,_),_},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(_,S){S===void 0&&(S=0),S=Math.abs(S);for(var M=0;M<this.objects.length&&!(S<this.objects[M].distance);M++);this.objects.splice(M,0,{distance:S,object:_}),this.add(_)},THREE.LOD.prototype.getObjectForDistance=function(_){for(var S=1,M=this.objects.length;S<M&&!(_<this.objects[S].distance);S++);return this.objects[S-1].object},THREE.LOD.prototype.update=function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(M){if(1<this.objects.length){_.setFromMatrixPosition(M.matrixWorld),S.setFromMatrixPosition(this.matrixWorld);var T=_.distanceTo(S);this.objects[0].object.visible=!0;for(var C=1,A=this.objects.length;C<A&&T>=this.objects[C].distance;C++)this.objects[C-1].object.visible=!1,this.objects[C].object.visible=!0;for(;C<A;C++)this.objects[C].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(){},THREE.Sprite=function(_){THREE.Object3D.call(this),this.material=_===void 0?new THREE.SpriteMaterial:_},THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},THREE.Sprite.prototype.clone=function(_){return void 0===_&&(_=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,_),_},THREE.Particle=THREE.Sprite,THREE.Scene=function(){THREE.Object3D.call(this),this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,this.matrixAutoUpdate=!1,this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.__addObject=function(_){if(_ instanceof THREE.Light)-1===this.__lights.indexOf(_)&&this.__lights.push(_),_.target&&void 0===_.target.parent&&this.add(_.target);else if(!(_ instanceof THREE.Camera||_ instanceof THREE.Bone)){this.__objectsAdded.push(_);var S=this.__objectsRemoved.indexOf(_);-1!==S&&this.__objectsRemoved.splice(S,1)}for(var M=0;M<_.children.length;M++)this.__addObject(_.children[M])},THREE.Scene.prototype.__removeObject=function(_){if(_ instanceof THREE.Light){var S=this.__lights.indexOf(_);if(-1!==S&&this.__lights.splice(S,1),_.shadowCascadeArray)for(var M=0;M<_.shadowCascadeArray.length;M++)this.__removeObject(_.shadowCascadeArray[M])}else if(!(_ instanceof THREE.Camera)){this.__objectsRemoved.push(_);var S=this.__objectsAdded.indexOf(_);-1!==S&&this.__objectsAdded.splice(S,1)}for(var T=0;T<_.children.length;T++)this.__removeObject(_.children[T])},THREE.Scene.prototype.clone=function(_){return void 0===_&&(_=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,_),null!==this.fog&&(_.fog=this.fog.clone()),null!==this.overrideMaterial&&(_.overrideMaterial=this.overrideMaterial.clone()),_.autoUpdate=this.autoUpdate,_.matrixAutoUpdate=this.matrixAutoUpdate,_},THREE.Fog=function(_,S,M){this.name='',this.color=new THREE.Color(_),this.near=S===void 0?1:S,this.far=M===void 0?1e3:M},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(_,S){this.name='',this.color=new THREE.Color(_),this.density=S===void 0?2.5e-4:S},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.CanvasRenderer=function(_){function S(){dt.setRGB(0,0,0),mt.setRGB(0,0,0),ut.setRGB(0,0,0);for(var St=0,Mt=Z.length;St<Mt;St++){var Tt=Z[St],Ct=Tt.color;Tt instanceof THREE.AmbientLight?dt.add(Ct):Tt instanceof THREE.DirectionalLight?mt.add(Ct):Tt instanceof THREE.PointLight&&ut.add(Ct)}}function M(St,Mt,Tt){for(var Ct=0,At=Z.length,wt;Ct<At;Ct++)if(wt=Z[Ct],Ye.copy(wt.color),wt instanceof THREE.DirectionalLight){var Et=ht.setFromMatrixPosition(wt.matrixWorld).normalize(),Lt=Mt.dot(Et);if(0>=Lt)continue;Lt*=wt.intensity,Tt.add(Ye.multiplyScalar(Lt))}else if(wt instanceof THREE.PointLight){var Et=ht.setFromMatrixPosition(wt.matrixWorld),Lt=Mt.dot(ht.subVectors(Et,St).normalize());if(0>=Lt)continue;if(Lt*=0==wt.distance?1:1-Math.min(St.distanceTo(Et)/wt.distance,1),0==Lt)continue;Lt*=wt.intensity,Tt.add(Ye.multiplyScalar(Lt))}}function T(St,Mt,Tt){U(Tt.opacity),B(Tt.blending);var Ct=Mt.scale.x*oe,At=Mt.scale.y*ie,wt=0.5*Math.sqrt(Ct*Ct+At*At);if(ct.min.set(St.x-wt,St.y-wt),ct.max.set(St.x+wt,St.y+wt),!1===st.isIntersectionBox(ct))return void ct.makeEmpty();if(!(Tt instanceof THREE.SpriteMaterial||Tt instanceof THREE.ParticleSystemMaterial))Tt instanceof THREE.SpriteCanvasMaterial&&(G(Tt.color.getStyle()),H(Tt.color.getStyle()),ne.save(),ne.translate(St.x,St.y),ne.rotate(-Mt.rotation),ne.scale(Ct,At),Tt.program(ne),ne.restore());else if(null!==Tt.map){var Et=Tt.map.image;ne.save(),ne.translate(St.x,St.y),ne.rotate(Tt.rotation),ne.scale(Ct,-At),ne.drawImage(Et,0,0,Et.width,Et.height,-0.5,-0.5,1,1),ne.restore()}else H(Tt.color.getStyle()),ne.save(),ne.translate(St.x,St.y),ne.rotate(Tt.rotation),ne.scale(Ct,-At),ne.fillRect(-0.5,-0.5,1,1),ne.restore()}function C(St,Mt,Tt,Ct){if(U(Ct.opacity),B(Ct.blending),ne.beginPath(),ne.moveTo(St.positionScreen.x,St.positionScreen.y),ne.lineTo(Mt.positionScreen.x,Mt.positionScreen.y),Ct instanceof THREE.LineBasicMaterial){if(N(Ct.linewidth),I(Ct.linecap),O(Ct.linejoin),Ct.vertexColors!==THREE.VertexColors)G(Ct.color.getStyle());else{var At=Tt.vertexColors[0].getStyle(),wt=Tt.vertexColors[1].getStyle();if(At===wt)G(At);else{try{var Et=ne.createLinearGradient(St.positionScreen.x,St.positionScreen.y,Mt.positionScreen.x,Mt.positionScreen.y);Et.addColorStop(0,At),Et.addColorStop(1,wt)}catch(Lt){Et=At}G(Et)}}ne.stroke(),ct.expandByScalar(2*Ct.linewidth)}else Ct instanceof THREE.LineDashedMaterial&&(N(Ct.linewidth),I(Ct.linecap),O(Ct.linejoin),G(Ct.color.getStyle()),W(Ct.dashSize,Ct.gapSize),ne.stroke(),ct.expandByScalar(2*Ct.linewidth),W(null,null))}function A(St,Mt,Tt,Ct,At,wt,Et,Lt){if(Y.info.render.vertices+=3,Y.info.render.faces++,U(Lt.opacity),B(Lt.blending),Le=St.positionScreen.x,Pe=St.positionScreen.y,De=Mt.positionScreen.x,Re=Mt.positionScreen.y,Fe=Tt.positionScreen.x,Ve=Tt.positionScreen.y,E(Le,Pe,De,Re,Fe,Ve),(Lt instanceof THREE.MeshLambertMaterial||Lt instanceof THREE.MeshPhongMaterial)&&null===Lt.map)Xe.copy(Lt.color),qe.copy(Lt.emissive),Lt.vertexColors===THREE.FaceColors&&Xe.multiply(Et.color),!1===Lt.wireframe&&Lt.shading===THREE.SmoothShading&&3===Et.vertexNormalsLength?(Ge.copy(dt),He.copy(dt),We.copy(dt),M(Et.v1.positionWorld,Et.vertexNormalsModel[0],Ge),M(Et.v2.positionWorld,Et.vertexNormalsModel[1],He),M(Et.v3.positionWorld,Et.vertexNormalsModel[2],We),Ge.multiply(Xe).add(qe),He.multiply(Xe).add(qe),We.multiply(Xe).add(qe),je.addColors(He,We).multiplyScalar(0.5),$e=F(Ge,He,We,je),R(Le,Pe,De,Re,Fe,Ve,0,0,1,0,0,1,$e)):(ke.copy(dt),M(Et.centroidModel,Et.normalModel,ke),ke.multiply(Xe).add(qe),!0===Lt.wireframe?L(ke,Lt.wireframeLinewidth,Lt.wireframeLinecap,Lt.wireframeLinejoin):P(ke));else if(Lt instanceof THREE.MeshBasicMaterial||Lt instanceof THREE.MeshLambertMaterial||Lt instanceof THREE.MeshPhongMaterial)null===Lt.map?null===Lt.envMap?(ke.copy(Lt.color),Lt.vertexColors===THREE.FaceColors&&ke.multiply(Et.color),!0===Lt.wireframe?L(ke,Lt.wireframeLinewidth,Lt.wireframeLinecap,Lt.wireframeLinejoin):P(ke)):Lt.envMap.mapping instanceof THREE.SphericalReflectionMapping&&(ht.copy(Et.vertexNormalsModelView[Ct]),tt=0.5*ht.x+0.5,rt=0.5*ht.y+0.5,ht.copy(Et.vertexNormalsModelView[At]),at=0.5*ht.x+0.5,ot=0.5*ht.y+0.5,ht.copy(Et.vertexNormalsModelView[wt]),it=0.5*ht.x+0.5,nt=0.5*ht.y+0.5,D(Le,Pe,De,Re,Fe,Ve,tt,rt,at,ot,it,nt,Lt.envMap)):Lt.map.mapping instanceof THREE.UVMapping&&(et=Et.uvs[0],D(Le,Pe,De,Re,Fe,Ve,et[Ct].x,et[Ct].y,et[At].x,et[At].y,et[wt].x,et[wt].y,Lt.map));else if(Lt instanceof THREE.MeshDepthMaterial)Ze=Se.near,Je=Se.far,Ge.r=Ge.g=Ge.b=1-X(St.positionScreen.z*St.positionScreen.w,Ze,Je),He.r=He.g=He.b=1-X(Mt.positionScreen.z*Mt.positionScreen.w,Ze,Je),We.r=We.g=We.b=1-X(Tt.positionScreen.z*Tt.positionScreen.w,Ze,Je),je.addColors(He,We).multiplyScalar(0.5),$e=F(Ge,He,We,je),R(Le,Pe,De,Re,Fe,Ve,0,0,1,0,0,1,$e);else if(Lt instanceof THREE.MeshNormalMaterial){var Pt;Lt.shading===THREE.FlatShading?(Pt=Et.normalModelView,ke.setRGB(Pt.x,Pt.y,Pt.z).multiplyScalar(0.5).addScalar(0.5),!0===Lt.wireframe?L(ke,Lt.wireframeLinewidth,Lt.wireframeLinecap,Lt.wireframeLinejoin):P(ke)):Lt.shading===THREE.SmoothShading&&(Pt=Et.vertexNormalsModelView[Ct],Ge.setRGB(Pt.x,Pt.y,Pt.z).multiplyScalar(0.5).addScalar(0.5),Pt=Et.vertexNormalsModelView[At],He.setRGB(Pt.x,Pt.y,Pt.z).multiplyScalar(0.5).addScalar(0.5),Pt=Et.vertexNormalsModelView[wt],We.setRGB(Pt.x,Pt.y,Pt.z).multiplyScalar(0.5).addScalar(0.5),je.addColors(He,We).multiplyScalar(0.5),$e=F(Ge,He,We,je),R(Le,Pe,De,Re,Fe,Ve,0,0,1,0,0,1,$e))}}function E(St,Mt,Tt,Ct,At,wt){ne.beginPath(),ne.moveTo(St,Mt),ne.lineTo(Tt,Ct),ne.lineTo(At,wt),ne.closePath()}function L(St,Mt,Tt,Ct){N(Mt),I(Tt),O(Ct),G(St.getStyle()),ne.stroke(),ct.expandByScalar(2*Mt)}function P(St){H(St.getStyle()),ne.fill()}function D(St,Mt,Tt,Ct,At,wt,Et,Lt,Pt,Dt,Rt,Ft,Vt){if(!(Vt instanceof THREE.DataTexture||void 0===Vt.image||0===Vt.image.width)){if(!0===Vt.needsUpdate){var Ut=Vt.wrapS===THREE.RepeatWrapping,zt=Vt.wrapT===THREE.RepeatWrapping;Ke[Vt.id]=ne.createPattern(Vt.image,!0===Ut&&!0===zt?'repeat':!0===Ut&&!1===zt?'repeat-x':!1===Ut&&!0===zt?'repeat-y':'no-repeat'),Vt.needsUpdate=!1}void 0===Ke[Vt.id]?H('rgba(0,0,0,1)'):H(Ke[Vt.id]);var jt=Vt.offset.x/Vt.repeat.x,Xt=Vt.offset.y/Vt.repeat.y,qt=Vt.image.width*Vt.repeat.x,Yt=Vt.image.height*Vt.repeat.y,Bt,Nt,It,Ot,kt,Gt,Ht,Wt;if(Et=(Et+jt)*qt,Lt=(1-Lt+Xt)*Yt,Pt=(Pt+jt)*qt,Dt=(1-Dt+Xt)*Yt,Rt=(Rt+jt)*qt,Ft=(1-Ft+Xt)*Yt,Tt-=St,Ct-=Mt,At-=St,wt-=Mt,Pt-=Et,Dt-=Lt,Rt-=Et,Ft-=Lt,Ht=Pt*Ft-Rt*Dt,0===Ht){if(void 0===Qe[Vt.id]){var Kt=document.createElement('canvas');Kt.width=Vt.image.width,Kt.height=Vt.image.height;var Qt=Kt.getContext('2d');Qt.drawImage(Vt.image,0,0),Qe[Vt.id]=Qt.getImageData(0,0,Vt.image.width,Vt.image.height).data}var Zt=Qe[Vt.id],Jt=4*(Math.floor(Et)+Math.floor(Lt)*Vt.image.width);return ke.setRGB(Zt[Jt]/255,Zt[Jt+1]/255,Zt[Jt+2]/255),void P(ke)}Wt=1/Ht,Bt=(Ft*Tt-Dt*At)*Wt,Nt=(Ft*Ct-Dt*wt)*Wt,It=(Pt*At-Rt*Tt)*Wt,Ot=(Pt*wt-Rt*Ct)*Wt,kt=St-Bt*Et-It*Lt,Gt=Mt-Nt*Et-Ot*Lt,ne.save(),ne.transform(Bt,Nt,It,Ot,kt,Gt),ne.fill(),ne.restore()}}function R(St,Mt,Tt,Ct,At,wt,Et,Lt,Pt,Dt,Rt,Ft,Vt){var Ht=Vt.width-1,Wt=Vt.height-1,Ut,zt,Bt,Nt,It,Ot,kt,Gt;Et*=Ht,Lt*=Wt,Pt*=Ht,Dt*=Wt,Rt*=Ht,Ft*=Wt,Tt-=St,Ct-=Mt,At-=St,wt-=Mt,Pt-=Et,Dt-=Lt,Rt-=Et,Ft-=Lt,kt=Pt*Ft-Rt*Dt,Gt=1/kt,Ut=(Ft*Tt-Dt*At)*Gt,zt=(Ft*Ct-Dt*wt)*Gt,Bt=(Pt*At-Rt*Tt)*Gt,Nt=(Pt*wt-Rt*Ct)*Gt,It=St-Ut*Et-Bt*Lt,Ot=Mt-zt*Et-Nt*Lt,ne.save(),ne.transform(Ut,zt,Bt,Nt,It,Ot),ne.clip(),ne.drawImage(Vt,0,0),ne.restore()}function F(St,Mt,Tt,Ct){return xt[0]=0|255*St.r,xt[1]=0|255*St.g,xt[2]=0|255*St.b,xt[4]=0|255*Mt.r,xt[5]=0|255*Mt.g,xt[6]=0|255*Mt.b,xt[8]=0|255*Tt.r,xt[9]=0|255*Tt.g,xt[10]=0|255*Tt.b,xt[12]=0|255*Ct.r,xt[13]=0|255*Ct.g,xt[14]=0|255*Ct.b,gt.putImageData(yt,0,0),_t.drawImage(ft,0,0),vt}function V(St,Mt,Tt){var Ct=Mt.x-St.x,At=Mt.y-St.y,wt=Ct*Ct+At*At,Et;0===wt||(Et=Tt/Math.sqrt(wt),Ct*=Et,At*=Et,Mt.x+=Ct,Mt.y+=At,St.x-=Ct,St.y-=At)}function U(St){pe!==St&&(ne.globalAlpha=St,pe=St)}function B(St){ue!==St&&(St===THREE.NormalBlending?ne.globalCompositeOperation='source-over':St===THREE.AdditiveBlending?ne.globalCompositeOperation='lighter':St===THREE.SubtractiveBlending&&(ne.globalCompositeOperation='darker'),ue=St)}function N(St){ge!==St&&(ne.lineWidth=St,ge=St)}function I(St){ye!==St&&(ne.lineCap=St,ye=St)}function O(St){xe!==St&&(ne.lineJoin=St,xe=St)}function G(St){he!==St&&(ne.strokeStyle=St,he=St)}function H(St){fe!==St&&(ne.fillStyle=St,fe=St)}function W(St,Mt){(ve!==St||_e!==Mt)&&(ne.setLineDash([St,Mt]),ve=St,_e=Mt)}console.log('THREE.CanvasRenderer',THREE.REVISION);var X=THREE.Math.smoothstep;_=_||{};var Y=this,J=new THREE.Projector,$=_.canvas===void 0?document.createElement('canvas'):_.canvas,ee=$.width,re=$.height,oe=Math.floor(ee/2),ie=Math.floor(re/2),ne=$.getContext('2d'),se=new THREE.Color(0),le=0,pe=1,ue=0,he=null,fe=null,ge=null,ye=null,xe=null,ve=null,_e=0,we=new THREE.RenderableVertex,Ee=new THREE.RenderableVertex,ke=new THREE.Color,Ge=new THREE.Color,He=new THREE.Color,We=new THREE.Color,je=new THREE.Color,Xe=new THREE.Color,qe=new THREE.Color,Ye=new THREE.Color,Ke={},Qe={},st=new THREE.Box2,lt=new THREE.Box2,ct=new THREE.Box2,dt=new THREE.Color,mt=new THREE.Color,ut=new THREE.Color,ht=new THREE.Vector3,bt=16,K,Q,Z,Se,Me,Te,Ce,Le,Pe,De,Re,Fe,Ve,Ze,Je,$e,et,tt,rt,at,ot,it,nt,ft,gt,yt,xt,vt,_t;ft=document.createElement('canvas'),ft.width=ft.height=2,gt=ft.getContext('2d'),gt.fillStyle='rgba(0,0,0,1)',gt.fillRect(0,0,2,2),yt=gt.getImageData(0,0,2,2),xt=yt.data,vt=document.createElement('canvas'),vt.width=vt.height=bt,_t=vt.getContext('2d'),_t.translate(-bt/2,-bt/2),_t.scale(bt,bt),bt--,ne.setLineDash===void 0&&(ne.mozDash===void 0?ne.setLineDash=function(){}:ne.setLineDash=function(St){ne.mozDash=null===St[0]?null:St}),this.domElement=$,this.devicePixelRatio=_.devicePixelRatio===void 0?self.devicePixelRatio===void 0?1:self.devicePixelRatio:_.devicePixelRatio,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(St,Mt,Tt){ee=St*this.devicePixelRatio,re=Mt*this.devicePixelRatio,oe=Math.floor(ee/2),ie=Math.floor(re/2),$.width=ee,$.height=re,1!==this.devicePixelRatio&&!1!==Tt&&($.style.width=St+'px',$.style.height=Mt+'px'),st.set(new THREE.Vector2(-oe,-ie),new THREE.Vector2(oe,ie)),lt.set(new THREE.Vector2(-oe,-ie),new THREE.Vector2(oe,ie)),pe=1,ue=0,he=null,fe=null,ge=null,ye=null,xe=null},this.setClearColor=function(St,Mt){se.set(St),le=Mt===void 0?1:Mt,lt.set(new THREE.Vector2(-oe,-ie),new THREE.Vector2(oe,ie))},this.setClearColorHex=function(St,Mt){console.warn('DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.'),this.setClearColor(St,Mt)},this.getMaxAnisotropy=function(){return 0},this.clear=function(){ne.setTransform(1,0,0,-1,oe,ie),!1===lt.empty()&&(lt.intersect(st),lt.expandByScalar(2),1>le&&ne.clearRect(0|lt.min.x,0|lt.min.y,0|lt.max.x-lt.min.x,0|lt.max.y-lt.min.y),0<le&&(B(THREE.NormalBlending),U(1),H('rgba('+Math.floor(255*se.r)+','+Math.floor(255*se.g)+','+Math.floor(255*se.b)+','+le+')'),ne.fillRect(0|lt.min.x,0|lt.min.y,0|lt.max.x-lt.min.x,0|lt.max.y-lt.min.y)),lt.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(St,Mt){if(!1===Mt instanceof THREE.Camera)return void console.error('THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.');!0===this.autoClear&&this.clear(),ne.setTransform(1,0,0,-1,oe,ie),Y.info.render.vertices=0,Y.info.render.faces=0,K=J.projectScene(St,Mt,this.sortObjects,this.sortElements),Q=K.elements,Z=K.lights,Se=Mt,S();for(var Tt=0,Ct=Q.length;Tt<Ct;Tt++){var At=Q[Tt],wt=At.material;if(void 0!==wt&&!1!==wt.visible){if(ct.makeEmpty(),At instanceof THREE.RenderableSprite)Me=At,Me.x*=oe,Me.y*=ie,T(Me,At,wt);else if(At instanceof THREE.RenderableLine)Me=At.v1,Te=At.v2,Me.positionScreen.x*=oe,Me.positionScreen.y*=ie,Te.positionScreen.x*=oe,Te.positionScreen.y*=ie,ct.setFromPoints([Me.positionScreen,Te.positionScreen]),!0===st.isIntersectionBox(ct)&&C(Me,Te,At,wt);else if(At instanceof THREE.RenderableFace3){if(Me=At.v1,Te=At.v2,Ce=At.v3,-1>Me.positionScreen.z||1<Me.positionScreen.z)continue;if(-1>Te.positionScreen.z||1<Te.positionScreen.z)continue;if(-1>Ce.positionScreen.z||1<Ce.positionScreen.z)continue;Me.positionScreen.x*=oe,Me.positionScreen.y*=ie,Te.positionScreen.x*=oe,Te.positionScreen.y*=ie,Ce.positionScreen.x*=oe,Ce.positionScreen.y*=ie,0<wt.overdraw&&(V(Me.positionScreen,Te.positionScreen,wt.overdraw),V(Te.positionScreen,Ce.positionScreen,wt.overdraw),V(Ce.positionScreen,Me.positionScreen,wt.overdraw)),ct.setFromPoints([Me.positionScreen,Te.positionScreen,Ce.positionScreen]),!0===st.isIntersectionBox(ct)&&A(Me,Te,Ce,0,1,2,At,wt)}lt.union(ct)}}ne.setTransform(1,0,0,1,0,0)}},THREE.ShaderChunk={fog_pars_fragment:['#ifdef USE_FOG','uniform vec3 fogColor;','#ifdef FOG_EXP2','uniform float fogDensity;','#else','uniform float fogNear;','uniform float fogFar;','#endif','#endif'].join('\n'),fog_fragment:['#ifdef USE_FOG','float depth = gl_FragCoord.z / gl_FragCoord.w;','#ifdef FOG_EXP2','const float LOG2 = 1.442695;','float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );','fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','#else','float fogFactor = smoothstep( fogNear, fogFar, depth );','#endif','gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );','#endif'].join('\n'),envmap_pars_fragment:['#ifdef USE_ENVMAP','uniform float reflectivity;','uniform samplerCube envMap;','uniform float flipEnvMap;','uniform int combine;','#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )','uniform bool useRefract;','uniform float refractionRatio;','#else','varying vec3 vReflect;','#endif','#endif'].join('\n'),envmap_fragment:['#ifdef USE_ENVMAP','vec3 reflectVec;','#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )','vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );','if ( useRefract ) {','reflectVec = refract( cameraToVertex, normal, refractionRatio );','} else { ','reflectVec = reflect( cameraToVertex, normal );','}','#else','reflectVec = vReflect;','#endif','#ifdef DOUBLE_SIDED','float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );','vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );','#else','vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );','#endif','#ifdef GAMMA_INPUT','cubeColor.xyz *= cubeColor.xyz;','#endif','if ( combine == 1 ) {','gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );','} else if ( combine == 2 ) {','gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;','} else {','gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );','}','#endif'].join('\n'),envmap_pars_vertex:['#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )','varying vec3 vReflect;','uniform float refractionRatio;','uniform bool useRefract;','#endif'].join('\n'),worldpos_vertex:['#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )','#ifdef USE_SKINNING','vec4 worldPosition = modelMatrix * skinned;','#endif','#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )','vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );','#endif','#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )','vec4 worldPosition = modelMatrix * vec4( position, 1.0 );','#endif','#endif'].join('\n'),envmap_vertex:['#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )','vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;','worldNormal = normalize( worldNormal );','vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );','if ( useRefract ) {','vReflect = refract( cameraToVertex, worldNormal, refractionRatio );','} else {','vReflect = reflect( cameraToVertex, worldNormal );','}','#endif'].join('\n'),map_particle_pars_fragment:['#ifdef USE_MAP','uniform sampler2D map;','#endif'].join('\n'),map_particle_fragment:['#ifdef USE_MAP','gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );','#endif'].join('\n'),map_pars_vertex:['#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )','varying vec2 vUv;','uniform vec4 offsetRepeat;','#endif'].join('\n'),map_pars_fragment:['#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )','varying vec2 vUv;','#endif','#ifdef USE_MAP','uniform sampler2D map;','#endif'].join('\n'),map_vertex:['#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )','vUv = uv * offsetRepeat.zw + offsetRepeat.xy;','#endif'].join('\n'),map_fragment:['#ifdef USE_MAP','vec4 texelColor = texture2D( map, vUv );','#ifdef GAMMA_INPUT','texelColor.xyz *= texelColor.xyz;','#endif','gl_FragColor = gl_FragColor * texelColor;','#endif'].join('\n'),lightmap_pars_fragment:['#ifdef USE_LIGHTMAP','varying vec2 vUv2;','uniform sampler2D lightMap;','#endif'].join('\n'),lightmap_pars_vertex:['#ifdef USE_LIGHTMAP','varying vec2 vUv2;','#endif'].join('\n'),lightmap_fragment:['#ifdef USE_LIGHTMAP','gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );','#endif'].join('\n'),lightmap_vertex:['#ifdef USE_LIGHTMAP','vUv2 = uv2;','#endif'].join('\n'),bumpmap_pars_fragment:['#ifdef USE_BUMPMAP','uniform sampler2D bumpMap;','uniform float bumpScale;','vec2 dHdxy_fwd() {','vec2 dSTdx = dFdx( vUv );','vec2 dSTdy = dFdy( vUv );','float Hll = bumpScale * texture2D( bumpMap, vUv ).x;','float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;','float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;','return vec2( dBx, dBy );','}','vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {','vec3 vSigmaX = dFdx( surf_pos );','vec3 vSigmaY = dFdy( surf_pos );','vec3 vN = surf_norm;','vec3 R1 = cross( vSigmaY, vN );','vec3 R2 = cross( vN, vSigmaX );','float fDet = dot( vSigmaX, R1 );','vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );','return normalize( abs( fDet ) * surf_norm - vGrad );','}','#endif'].join('\n'),normalmap_pars_fragment:['#ifdef USE_NORMALMAP','uniform sampler2D normalMap;','uniform vec2 normalScale;','vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {','vec3 q0 = dFdx( eye_pos.xyz );','vec3 q1 = dFdy( eye_pos.xyz );','vec2 st0 = dFdx( vUv.st );','vec2 st1 = dFdy( vUv.st );','vec3 S = normalize(  q0 * st1.t - q1 * st0.t );','vec3 T = normalize( -q0 * st1.s + q1 * st0.s );','vec3 N = normalize( surf_norm );','vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;','mapN.xy = normalScale * mapN.xy;','mat3 tsn = mat3( S, T, N );','return normalize( tsn * mapN );','}','#endif'].join('\n'),specularmap_pars_fragment:['#ifdef USE_SPECULARMAP','uniform sampler2D specularMap;','#endif'].join('\n'),specularmap_fragment:['float specularStrength;','#ifdef USE_SPECULARMAP','vec4 texelSpecular = texture2D( specularMap, vUv );','specularStrength = texelSpecular.r;','#else','specularStrength = 1.0;','#endif'].join('\n'),lights_lambert_pars_vertex:['uniform vec3 ambient;','uniform vec3 diffuse;','uniform vec3 emissive;','uniform vec3 ambientLightColor;','#if MAX_DIR_LIGHTS > 0','uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];','uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];','#endif','#if MAX_HEMI_LIGHTS > 0','uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];','#endif','#if MAX_POINT_LIGHTS > 0','uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];','uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];','uniform float pointLightDistance[ MAX_POINT_LIGHTS ];','#endif','#if MAX_SPOT_LIGHTS > 0','uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];','uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];','uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];','uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];','#endif','#ifdef WRAP_AROUND','uniform vec3 wrapRGB;','#endif'].join('\n'),lights_lambert_vertex:['vLightFront = vec3( 0.0 );','#ifdef DOUBLE_SIDED','vLightBack = vec3( 0.0 );','#endif','transformedNormal = normalize( transformedNormal );','#if MAX_DIR_LIGHTS > 0','for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {','vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );','vec3 dirVector = normalize( lDirection.xyz );','float dotProduct = dot( transformedNormal, dirVector );','vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );','#ifdef DOUBLE_SIDED','vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );','#ifdef WRAP_AROUND','vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );','#endif','#endif','#ifdef WRAP_AROUND','vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );','directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );','#ifdef DOUBLE_SIDED','directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );','#endif','#endif','vLightFront += directionalLightColor[ i ] * directionalLightWeighting;','#ifdef DOUBLE_SIDED','vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;','#endif','}','#endif','#if MAX_POINT_LIGHTS > 0','for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz - mvPosition.xyz;','float lDistance = 1.0;','if ( pointLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );','lVector = normalize( lVector );','float dotProduct = dot( transformedNormal, lVector );','vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );','#ifdef DOUBLE_SIDED','vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );','#ifdef WRAP_AROUND','vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );','#endif','#endif','#ifdef WRAP_AROUND','vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );','pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );','#ifdef DOUBLE_SIDED','pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );','#endif','#endif','vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;','#ifdef DOUBLE_SIDED','vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;','#endif','}','#endif','#if MAX_SPOT_LIGHTS > 0','for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz - mvPosition.xyz;','float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );','if ( spotEffect > spotLightAngleCos[ i ] ) {','spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );','float lDistance = 1.0;','if ( spotLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );','lVector = normalize( lVector );','float dotProduct = dot( transformedNormal, lVector );','vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );','#ifdef DOUBLE_SIDED','vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );','#ifdef WRAP_AROUND','vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );','#endif','#endif','#ifdef WRAP_AROUND','vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );','spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );','#ifdef DOUBLE_SIDED','spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );','#endif','#endif','vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;','#ifdef DOUBLE_SIDED','vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;','#endif','}','}','#endif','#if MAX_HEMI_LIGHTS > 0','for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {','vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );','vec3 lVector = normalize( lDirection.xyz );','float dotProduct = dot( transformedNormal, lVector );','float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;','float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;','vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );','#ifdef DOUBLE_SIDED','vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );','#endif','}','#endif','vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;','#ifdef DOUBLE_SIDED','vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;','#endif'].join('\n'),lights_phong_pars_vertex:['#ifndef PHONG_PER_PIXEL','#if MAX_POINT_LIGHTS > 0','uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];','uniform float pointLightDistance[ MAX_POINT_LIGHTS ];','varying vec4 vPointLight[ MAX_POINT_LIGHTS ];','#endif','#if MAX_SPOT_LIGHTS > 0','uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];','uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];','varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];','#endif','#endif','#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )','varying vec3 vWorldPosition;','#endif'].join('\n'),lights_phong_vertex:['#ifndef PHONG_PER_PIXEL','#if MAX_POINT_LIGHTS > 0','for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz - mvPosition.xyz;','float lDistance = 1.0;','if ( pointLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );','vPointLight[ i ] = vec4( lVector, lDistance );','}','#endif','#if MAX_SPOT_LIGHTS > 0','for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz - mvPosition.xyz;','float lDistance = 1.0;','if ( spotLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );','vSpotLight[ i ] = vec4( lVector, lDistance );','}','#endif','#endif','#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )','vWorldPosition = worldPosition.xyz;','#endif'].join('\n'),lights_phong_pars_fragment:['uniform vec3 ambientLightColor;','#if MAX_DIR_LIGHTS > 0','uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];','uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];','#endif','#if MAX_HEMI_LIGHTS > 0','uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];','#endif','#if MAX_POINT_LIGHTS > 0','uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];','#ifdef PHONG_PER_PIXEL','uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];','uniform float pointLightDistance[ MAX_POINT_LIGHTS ];','#else','varying vec4 vPointLight[ MAX_POINT_LIGHTS ];','#endif','#endif','#if MAX_SPOT_LIGHTS > 0','uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];','uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];','uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];','#ifdef PHONG_PER_PIXEL','uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];','#else','varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];','#endif','#endif','#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )','varying vec3 vWorldPosition;','#endif','#ifdef WRAP_AROUND','uniform vec3 wrapRGB;','#endif','varying vec3 vViewPosition;','varying vec3 vNormal;'].join('\n'),lights_phong_fragment:['vec3 normal = normalize( vNormal );','vec3 viewPosition = normalize( vViewPosition );','#ifdef DOUBLE_SIDED','normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );','#endif','#ifdef USE_NORMALMAP','normal = perturbNormal2Arb( -vViewPosition, normal );','#elif defined( USE_BUMPMAP )','normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );','#endif','#if MAX_POINT_LIGHTS > 0','vec3 pointDiffuse  = vec3( 0.0 );','vec3 pointSpecular = vec3( 0.0 );','for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {','#ifdef PHONG_PER_PIXEL','vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz + vViewPosition.xyz;','float lDistance = 1.0;','if ( pointLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );','lVector = normalize( lVector );','#else','vec3 lVector = normalize( vPointLight[ i ].xyz );','float lDistance = vPointLight[ i ].w;','#endif','float dotProduct = dot( normal, lVector );','#ifdef WRAP_AROUND','float pointDiffuseWeightFull = max( dotProduct, 0.0 );','float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );','vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );','#else','float pointDiffuseWeight = max( dotProduct, 0.0 );','#endif','pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;','vec3 pointHalfVector = normalize( lVector + viewPosition );','float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );','float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( shininess + 2.0001 ) / 8.0;','vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );','pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;','#else','pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;','#endif','}','#endif','#if MAX_SPOT_LIGHTS > 0','vec3 spotDiffuse  = vec3( 0.0 );','vec3 spotSpecular = vec3( 0.0 );','for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {','#ifdef PHONG_PER_PIXEL','vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );','vec3 lVector = lPosition.xyz + vViewPosition.xyz;','float lDistance = 1.0;','if ( spotLightDistance[ i ] > 0.0 )','lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );','lVector = normalize( lVector );','#else','vec3 lVector = normalize( vSpotLight[ i ].xyz );','float lDistance = vSpotLight[ i ].w;','#endif','float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );','if ( spotEffect > spotLightAngleCos[ i ] ) {','spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );','float dotProduct = dot( normal, lVector );','#ifdef WRAP_AROUND','float spotDiffuseWeightFull = max( dotProduct, 0.0 );','float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );','vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );','#else','float spotDiffuseWeight = max( dotProduct, 0.0 );','#endif','spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;','vec3 spotHalfVector = normalize( lVector + viewPosition );','float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );','float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( shininess + 2.0001 ) / 8.0;','vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );','spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;','#else','spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;','#endif','}','}','#endif','#if MAX_DIR_LIGHTS > 0','vec3 dirDiffuse  = vec3( 0.0 );','vec3 dirSpecular = vec3( 0.0 );','for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {','vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );','vec3 dirVector = normalize( lDirection.xyz );','float dotProduct = dot( normal, dirVector );','#ifdef WRAP_AROUND','float dirDiffuseWeightFull = max( dotProduct, 0.0 );','float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );','vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );','#else','float dirDiffuseWeight = max( dotProduct, 0.0 );','#endif','dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;','vec3 dirHalfVector = normalize( dirVector + viewPosition );','float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );','float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( shininess + 2.0001 ) / 8.0;','vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );','dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;','#else','dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;','#endif','}','#endif','#if MAX_HEMI_LIGHTS > 0','vec3 hemiDiffuse  = vec3( 0.0 );','vec3 hemiSpecular = vec3( 0.0 );','for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {','vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );','vec3 lVector = normalize( lDirection.xyz );','float dotProduct = dot( normal, lVector );','float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;','vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );','hemiDiffuse += diffuse * hemiColor;','vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );','float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;','float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );','vec3 lVectorGround = -lVector;','vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );','float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;','float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float dotProductGround = dot( normal, lVectorGround );','float specularNormalization = ( shininess + 2.0001 ) / 8.0;','vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );','vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );','hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );','#else','hemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;','#endif','}','#endif','vec3 totalDiffuse = vec3( 0.0 );','vec3 totalSpecular = vec3( 0.0 );','#if MAX_DIR_LIGHTS > 0','totalDiffuse += dirDiffuse;','totalSpecular += dirSpecular;','#endif','#if MAX_HEMI_LIGHTS > 0','totalDiffuse += hemiDiffuse;','totalSpecular += hemiSpecular;','#endif','#if MAX_POINT_LIGHTS > 0','totalDiffuse += pointDiffuse;','totalSpecular += pointSpecular;','#endif','#if MAX_SPOT_LIGHTS > 0','totalDiffuse += spotDiffuse;','totalSpecular += spotSpecular;','#endif','#ifdef METAL','gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );','#else','gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;','#endif'].join('\n'),color_pars_fragment:['#ifdef USE_COLOR','varying vec3 vColor;','#endif'].join('\n'),color_fragment:['#ifdef USE_COLOR','gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );','#endif'].join('\n'),color_pars_vertex:['#ifdef USE_COLOR','varying vec3 vColor;','#endif'].join('\n'),color_vertex:['#ifdef USE_COLOR','#ifdef GAMMA_INPUT','vColor = color * color;','#else','vColor = color;','#endif','#endif'].join('\n'),skinning_pars_vertex:['#ifdef USE_SKINNING','#ifdef BONE_TEXTURE','uniform sampler2D boneTexture;','uniform int boneTextureWidth;','uniform int boneTextureHeight;','mat4 getBoneMatrix( const in float i ) {','float j = i * 4.0;','float x = mod( j, float( boneTextureWidth ) );','float y = floor( j / float( boneTextureWidth ) );','float dx = 1.0 / float( boneTextureWidth );','float dy = 1.0 / float( boneTextureHeight );','y = dy * ( y + 0.5 );','vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );','vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );','vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );','vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );','mat4 bone = mat4( v1, v2, v3, v4 );','return bone;','}','#else','uniform mat4 boneGlobalMatrices[ MAX_BONES ];','mat4 getBoneMatrix( const in float i ) {','mat4 bone = boneGlobalMatrices[ int(i) ];','return bone;','}','#endif','#endif'].join('\n'),skinbase_vertex:['#ifdef USE_SKINNING','mat4 boneMatX = getBoneMatrix( skinIndex.x );','mat4 boneMatY = getBoneMatrix( skinIndex.y );','#endif'].join('\n'),skinning_vertex:['#ifdef USE_SKINNING','#ifdef USE_MORPHTARGETS','vec4 skinVertex = vec4( morphed, 1.0 );','#else','vec4 skinVertex = vec4( position, 1.0 );','#endif','vec4 skinned  = boneMatX * skinVertex * skinWeight.x;','skinned \t  += boneMatY * skinVertex * skinWeight.y;','#endif'].join('\n'),morphtarget_pars_vertex:['#ifdef USE_MORPHTARGETS','#ifndef USE_MORPHNORMALS','uniform float morphTargetInfluences[ 8 ];','#else','uniform float morphTargetInfluences[ 4 ];','#endif','#endif'].join('\n'),morphtarget_vertex:['#ifdef USE_MORPHTARGETS','vec3 morphed = vec3( 0.0 );','morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];','morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];','morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];','morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];','#ifndef USE_MORPHNORMALS','morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];','morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];','morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];','morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];','#endif','morphed += position;','#endif'].join('\n'),default_vertex:['vec4 mvPosition;','#ifdef USE_SKINNING','mvPosition = modelViewMatrix * skinned;','#endif','#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )','mvPosition = modelViewMatrix * vec4( morphed, 1.0 );','#endif','#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )','mvPosition = modelViewMatrix * vec4( position, 1.0 );','#endif','gl_Position = projectionMatrix * mvPosition;'].join('\n'),morphnormal_vertex:['#ifdef USE_MORPHNORMALS','vec3 morphedNormal = vec3( 0.0 );','morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];','morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];','morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];','morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];','morphedNormal += normal;','#endif'].join('\n'),skinnormal_vertex:['#ifdef USE_SKINNING','mat4 skinMatrix = skinWeight.x * boneMatX;','skinMatrix \t+= skinWeight.y * boneMatY;','#ifdef USE_MORPHNORMALS','vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );','#else','vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );','#endif','#endif'].join('\n'),defaultnormal_vertex:['vec3 objectNormal;','#ifdef USE_SKINNING','objectNormal = skinnedNormal.xyz;','#endif','#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )','objectNormal = morphedNormal;','#endif','#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )','objectNormal = normal;','#endif','#ifdef FLIP_SIDED','objectNormal = -objectNormal;','#endif','vec3 transformedNormal = normalMatrix * objectNormal;'].join('\n'),shadowmap_pars_fragment:['#ifdef USE_SHADOWMAP','uniform sampler2D shadowMap[ MAX_SHADOWS ];','uniform vec2 shadowMapSize[ MAX_SHADOWS ];','uniform float shadowDarkness[ MAX_SHADOWS ];','uniform float shadowBias[ MAX_SHADOWS ];','varying vec4 vShadowCoord[ MAX_SHADOWS ];','float unpackDepth( const in vec4 rgba_depth ) {','const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );','float depth = dot( rgba_depth, bit_shift );','return depth;','}','#endif'].join('\n'),shadowmap_fragment:['#ifdef USE_SHADOWMAP','#ifdef SHADOWMAP_DEBUG','vec3 frustumColors[3];','frustumColors[0] = vec3( 1.0, 0.5, 0.0 );','frustumColors[1] = vec3( 0.0, 1.0, 0.8 );','frustumColors[2] = vec3( 0.0, 0.5, 1.0 );','#endif','#ifdef SHADOWMAP_CASCADE','int inFrustumCount = 0;','#endif','float fDepth;','vec3 shadowColor = vec3( 1.0 );','for( int i = 0; i < MAX_SHADOWS; i ++ ) {','vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;','bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );','bool inFrustum = all( inFrustumVec );','#ifdef SHADOWMAP_CASCADE','inFrustumCount += int( inFrustum );','bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );','#else','bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );','#endif','bool frustumTest = all( frustumTestVec );','if ( frustumTest ) {','shadowCoord.z += shadowBias[ i ];','#if defined( SHADOWMAP_TYPE_PCF )','float shadow = 0.0;','const float shadowDelta = 1.0 / 9.0;','float xPixelOffset = 1.0 / shadowMapSize[ i ].x;','float yPixelOffset = 1.0 / shadowMapSize[ i ].y;','float dx0 = -1.25 * xPixelOffset;','float dy0 = -1.25 * yPixelOffset;','float dx1 = 1.25 * xPixelOffset;','float dy1 = 1.25 * yPixelOffset;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );','if ( fDepth < shadowCoord.z ) shadow += shadowDelta;','shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );','#elif defined( SHADOWMAP_TYPE_PCF_SOFT )','float shadow = 0.0;','float xPixelOffset = 1.0 / shadowMapSize[ i ].x;','float yPixelOffset = 1.0 / shadowMapSize[ i ].y;','float dx0 = -1.0 * xPixelOffset;','float dy0 = -1.0 * yPixelOffset;','float dx1 = 1.0 * xPixelOffset;','float dy1 = 1.0 * yPixelOffset;','mat3 shadowKernel;','mat3 depthKernel;','depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );','depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );','depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );','depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );','depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );','depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );','depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );','depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );','depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );','vec3 shadowZ = vec3( shadowCoord.z );','shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));','shadowKernel[0] *= vec3(0.25);','shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));','shadowKernel[1] *= vec3(0.25);','shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));','shadowKernel[2] *= vec3(0.25);','vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );','shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );','shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );','vec4 shadowValues;','shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );','shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );','shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );','shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );','shadow = dot( shadowValues, vec4( 1.0 ) );','shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );','#else','vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );','float fDepth = unpackDepth( rgbaDepth );','if ( fDepth < shadowCoord.z )','shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );','#endif','}','#ifdef SHADOWMAP_DEBUG','#ifdef SHADOWMAP_CASCADE','if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];','#else','if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];','#endif','#endif','}','#ifdef GAMMA_OUTPUT','shadowColor *= shadowColor;','#endif','gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;','#endif'].join('\n'),shadowmap_pars_vertex:['#ifdef USE_SHADOWMAP','varying vec4 vShadowCoord[ MAX_SHADOWS ];','uniform mat4 shadowMatrix[ MAX_SHADOWS ];','#endif'].join('\n'),shadowmap_vertex:['#ifdef USE_SHADOWMAP','for( int i = 0; i < MAX_SHADOWS; i ++ ) {','vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;','}','#endif'].join('\n'),alphatest_fragment:['#ifdef ALPHATEST','if ( gl_FragColor.a < ALPHATEST ) discard;','#endif'].join('\n'),linear_to_gamma_fragment:['#ifdef GAMMA_OUTPUT','gl_FragColor.xyz = sqrt( gl_FragColor.xyz );','#endif'].join('\n')},THREE.UniformsUtils={merge:function(_){var C={},S,M,T;for(S=0;S<_.length;S++)for(M in T=this.clone(_[S]),T)C[M]=T[M];return C},clone:function(_){var A={},S,M,C;for(S in _)for(M in A[S]={},_[S])C=_[S][M],A[S][M]=C instanceof THREE.Color||C instanceof THREE.Vector2||C instanceof THREE.Vector3||C instanceof THREE.Vector4||C instanceof THREE.Matrix4||C instanceof THREE.Texture?C.clone():C instanceof Array?C.slice():C;return A}},THREE.UniformsLib={common:{diffuse:{type:'c',value:new THREE.Color(15658734)},opacity:{type:'f',value:1},map:{type:'t',value:null},offsetRepeat:{type:'v4',value:new THREE.Vector4(0,0,1,1)},lightMap:{type:'t',value:null},specularMap:{type:'t',value:null},envMap:{type:'t',value:null},flipEnvMap:{type:'f',value:-1},useRefract:{type:'i',value:0},reflectivity:{type:'f',value:1},refractionRatio:{type:'f',value:0.98},combine:{type:'i',value:0},morphTargetInfluences:{type:'f',value:0}},bump:{bumpMap:{type:'t',value:null},bumpScale:{type:'f',value:1}},normalmap:{normalMap:{type:'t',value:null},normalScale:{type:'v2',value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:'f',value:2.5e-4},fogNear:{type:'f',value:1},fogFar:{type:'f',value:2e3},fogColor:{type:'c',value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:'fv',value:[]},directionalLightDirection:{type:'fv',value:[]},directionalLightColor:{type:'fv',value:[]},hemisphereLightDirection:{type:'fv',value:[]},hemisphereLightSkyColor:{type:'fv',value:[]},hemisphereLightGroundColor:{type:'fv',value:[]},pointLightColor:{type:'fv',value:[]},pointLightPosition:{type:'fv',value:[]},pointLightDistance:{type:'fv1',value:[]},spotLightColor:{type:'fv',value:[]},spotLightPosition:{type:'fv',value:[]},spotLightDirection:{type:'fv',value:[]},spotLightDistance:{type:'fv1',value:[]},spotLightAngleCos:{type:'fv1',value:[]},spotLightExponent:{type:'fv1',value:[]}},particle:{psColor:{type:'c',value:new THREE.Color(15658734)},opacity:{type:'f',value:1},size:{type:'f',value:1},scale:{type:'f',value:1},map:{type:'t',value:null},fogDensity:{type:'f',value:2.5e-4},fogNear:{type:'f',value:1},fogFar:{type:'f',value:2e3},fogColor:{type:'c',value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:'tv',value:[]},shadowMapSize:{type:'v2v',value:[]},shadowBias:{type:'fv1',value:[]},shadowDarkness:{type:'fv1',value:[]},shadowMatrix:{type:'m4v',value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,'void main() {',THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,'#ifdef USE_ENVMAP',THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,'#endif',THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,'}'].join('\n'),fragmentShader:['uniform vec3 diffuse;','uniform float opacity;',THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,'void main() {','gl_FragColor = vec4( diffuse, opacity );',THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n')},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:'c',value:new THREE.Color(16777215)},emissive:{type:'c',value:new THREE.Color(0)},wrapRGB:{type:'v3',value:new THREE.Vector3(1,1,1)}}]),vertexShader:['#define LAMBERT','varying vec3 vLightFront;','#ifdef DOUBLE_SIDED','varying vec3 vLightBack;','#endif',THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,'void main() {',THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,'}'].join('\n'),fragmentShader:['uniform float opacity;','varying vec3 vLightFront;','#ifdef DOUBLE_SIDED','varying vec3 vLightBack;','#endif',THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,'void main() {','gl_FragColor = vec4( vec3 ( 1.0 ), opacity );',THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,'#ifdef DOUBLE_SIDED','if ( gl_FrontFacing )','gl_FragColor.xyz *= vLightFront;','else','gl_FragColor.xyz *= vLightBack;','#else','gl_FragColor.xyz *= vLightFront;','#endif',THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n')},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:'c',value:new THREE.Color(16777215)},emissive:{type:'c',value:new THREE.Color(0)},specular:{type:'c',value:new THREE.Color(1118481)},shininess:{type:'f',value:30},wrapRGB:{type:'v3',value:new THREE.Vector3(1,1,1)}}]),vertexShader:['#define PHONG','varying vec3 vViewPosition;','varying vec3 vNormal;',THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,'void main() {',THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,'vNormal = normalize( transformedNormal );',THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,'vViewPosition = -mvPosition.xyz;',THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,'}'].join('\n'),fragmentShader:['uniform vec3 diffuse;','uniform float opacity;','uniform vec3 ambient;','uniform vec3 emissive;','uniform vec3 specular;','uniform float shininess;',THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,'void main() {','gl_FragColor = vec4( vec3 ( 1.0 ), opacity );',THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n')},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:['uniform float size;','uniform float scale;',THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,'void main() {',THREE.ShaderChunk.color_vertex,'vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );','#ifdef USE_SIZEATTENUATION','gl_PointSize = size * ( scale / length( mvPosition.xyz ) );','#else','gl_PointSize = size;','#endif','gl_Position = projectionMatrix * mvPosition;',THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,'}'].join('\n'),fragmentShader:['uniform vec3 psColor;','uniform float opacity;',THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,'void main() {','gl_FragColor = vec4( psColor, opacity );',THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n')},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:'f',value:1},dashSize:{type:'f',value:1},totalSize:{type:'f',value:2}}]),vertexShader:['uniform float scale;','attribute float lineDistance;','varying float vLineDistance;',THREE.ShaderChunk.color_pars_vertex,'void main() {',THREE.ShaderChunk.color_vertex,'vLineDistance = scale * lineDistance;','vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );','gl_Position = projectionMatrix * mvPosition;','}'].join('\n'),fragmentShader:['uniform vec3 diffuse;','uniform float opacity;','uniform float dashSize;','uniform float totalSize;','varying float vLineDistance;',THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,'void main() {','if ( mod( vLineDistance, totalSize ) > dashSize ) {','discard;','}','gl_FragColor = vec4( diffuse, opacity );',THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n')},depth:{uniforms:{mNear:{type:'f',value:1},mFar:{type:'f',value:2e3},opacity:{type:'f',value:1}},vertexShader:['void main() {','gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );','}'].join('\n'),fragmentShader:['uniform float mNear;','uniform float mFar;','uniform float opacity;','void main() {','float depth = gl_FragCoord.z / gl_FragCoord.w;','float color = 1.0 - smoothstep( mNear, mFar, depth );','gl_FragColor = vec4( vec3( color ), opacity );','}'].join('\n')},normal:{uniforms:{opacity:{type:'f',value:1}},vertexShader:['varying vec3 vNormal;',THREE.ShaderChunk.morphtarget_pars_vertex,'void main() {','vNormal = normalize( normalMatrix * normal );',THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,'}'].join('\n'),fragmentShader:['uniform float opacity;','varying vec3 vNormal;','void main() {','gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );','}'].join('\n')},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:'i',value:0},enableDiffuse:{type:'i',value:0},enableSpecular:{type:'i',value:0},enableReflection:{type:'i',value:0},enableDisplacement:{type:'i',value:0},tDisplacement:{type:'t',value:null},tDiffuse:{type:'t',value:null},tCube:{type:'t',value:null},tNormal:{type:'t',value:null},tSpecular:{type:'t',value:null},tAO:{type:'t',value:null},uNormalScale:{type:'v2',value:new THREE.Vector2(1,1)},uDisplacementBias:{type:'f',value:0},uDisplacementScale:{type:'f',value:1},uDiffuseColor:{type:'c',value:new THREE.Color(16777215)},uSpecularColor:{type:'c',value:new THREE.Color(1118481)},uAmbientColor:{type:'c',value:new THREE.Color(16777215)},uShininess:{type:'f',value:30},uOpacity:{type:'f',value:1},useRefract:{type:'i',value:0},uRefractionRatio:{type:'f',value:0.98},uReflectivity:{type:'f',value:0.5},uOffset:{type:'v2',value:new THREE.Vector2(0,0)},uRepeat:{type:'v2',value:new THREE.Vector2(1,1)},wrapRGB:{type:'v3',value:new THREE.Vector3(1,1,1)}}]),fragmentShader:['uniform vec3 uAmbientColor;','uniform vec3 uDiffuseColor;','uniform vec3 uSpecularColor;','uniform float uShininess;','uniform float uOpacity;','uniform bool enableDiffuse;','uniform bool enableSpecular;','uniform bool enableAO;','uniform bool enableReflection;','uniform sampler2D tDiffuse;','uniform sampler2D tNormal;','uniform sampler2D tSpecular;','uniform sampler2D tAO;','uniform samplerCube tCube;','uniform vec2 uNormalScale;','uniform bool useRefract;','uniform float uRefractionRatio;','uniform float uReflectivity;','varying vec3 vTangent;','varying vec3 vBinormal;','varying vec3 vNormal;','varying vec2 vUv;','uniform vec3 ambientLightColor;','#if MAX_DIR_LIGHTS > 0','uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];','uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];','#endif','#if MAX_HEMI_LIGHTS > 0','uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];','uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];','#endif','#if MAX_POINT_LIGHTS > 0','uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];','uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];','uniform float pointLightDistance[ MAX_POINT_LIGHTS ];','#endif','#if MAX_SPOT_LIGHTS > 0','uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];','uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];','uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];','uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];','uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];','#endif','#ifdef WRAP_AROUND','uniform vec3 wrapRGB;','#endif','varying vec3 vWorldPosition;','varying vec3 vViewPosition;',THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,'void main() {','gl_FragColor = vec4( vec3( 1.0 ), uOpacity );','vec3 specularTex = vec3( 1.0 );','vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;','normalTex.xy *= uNormalScale;','normalTex = normalize( normalTex );','if( enableDiffuse ) {','#ifdef GAMMA_INPUT','vec4 texelColor = texture2D( tDiffuse, vUv );','texelColor.xyz *= texelColor.xyz;','gl_FragColor = gl_FragColor * texelColor;','#else','gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );','#endif','}','if( enableAO ) {','#ifdef GAMMA_INPUT','vec4 aoColor = texture2D( tAO, vUv );','aoColor.xyz *= aoColor.xyz;','gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;','#else','gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;','#endif','}','if( enableSpecular )','specularTex = texture2D( tSpecular, vUv ).xyz;','mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );','vec3 finalNormal = tsb * normalTex;','#ifdef FLIP_SIDED','finalNormal = -finalNormal;','#endif','vec3 normal = normalize( finalNormal );','vec3 viewPosition = normalize( vViewPosition );','#if MAX_POINT_LIGHTS > 0','vec3 pointDiffuse = vec3( 0.0 );','vec3 pointSpecular = vec3( 0.0 );','for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );','vec3 pointVector = lPosition.xyz + vViewPosition.xyz;','float pointDistance = 1.0;','if ( pointLightDistance[ i ] > 0.0 )','pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );','pointVector = normalize( pointVector );','#ifdef WRAP_AROUND','float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );','float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );','vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );','#else','float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );','#endif','pointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;','vec3 pointHalfVector = normalize( pointVector + viewPosition );','float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );','float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( uShininess + 2.0001 ) / 8.0;','vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );','pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;','#else','pointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;','#endif','}','#endif','#if MAX_SPOT_LIGHTS > 0','vec3 spotDiffuse = vec3( 0.0 );','vec3 spotSpecular = vec3( 0.0 );','for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {','vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );','vec3 spotVector = lPosition.xyz + vViewPosition.xyz;','float spotDistance = 1.0;','if ( spotLightDistance[ i ] > 0.0 )','spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );','spotVector = normalize( spotVector );','float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );','if ( spotEffect > spotLightAngleCos[ i ] ) {','spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );','#ifdef WRAP_AROUND','float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );','float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );','vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );','#else','float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );','#endif','spotDiffuse += spotDistance * spotLightColor[ i ] * uDiffuseColor * spotDiffuseWeight * spotEffect;','vec3 spotHalfVector = normalize( spotVector + viewPosition );','float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );','float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, uShininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( uShininess + 2.0001 ) / 8.0;','vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );','spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;','#else','spotSpecular += spotDistance * spotLightColor[ i ] * uSpecularColor * spotSpecularWeight * spotDiffuseWeight * spotEffect;','#endif','}','}','#endif','#if MAX_DIR_LIGHTS > 0','vec3 dirDiffuse = vec3( 0.0 );','vec3 dirSpecular = vec3( 0.0 );','for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {','vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );','vec3 dirVector = normalize( lDirection.xyz );','#ifdef WRAP_AROUND','float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );','float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );','vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );','#else','float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );','#endif','dirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;','vec3 dirHalfVector = normalize( dirVector + viewPosition );','float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );','float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float specularNormalization = ( uShininess + 2.0001 ) / 8.0;','vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );','dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;','#else','dirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;','#endif','}','#endif','#if MAX_HEMI_LIGHTS > 0','vec3 hemiDiffuse  = vec3( 0.0 );','vec3 hemiSpecular = vec3( 0.0 );','for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {','vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );','vec3 lVector = normalize( lDirection.xyz );','float dotProduct = dot( normal, lVector );','float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;','vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );','hemiDiffuse += uDiffuseColor * hemiColor;','vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );','float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;','float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, uShininess ), 0.0 );','vec3 lVectorGround = -lVector;','vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );','float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;','float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, uShininess ), 0.0 );','#ifdef PHYSICALLY_BASED_SHADING','float dotProductGround = dot( normal, lVectorGround );','float specularNormalization = ( uShininess + 2.0001 ) / 8.0;','vec3 schlickSky = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );','vec3 schlickGround = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );','hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );','#else','hemiSpecular += uSpecularColor * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;','#endif','}','#endif','vec3 totalDiffuse = vec3( 0.0 );','vec3 totalSpecular = vec3( 0.0 );','#if MAX_DIR_LIGHTS > 0','totalDiffuse += dirDiffuse;','totalSpecular += dirSpecular;','#endif','#if MAX_HEMI_LIGHTS > 0','totalDiffuse += hemiDiffuse;','totalSpecular += hemiSpecular;','#endif','#if MAX_POINT_LIGHTS > 0','totalDiffuse += pointDiffuse;','totalSpecular += pointSpecular;','#endif','#if MAX_SPOT_LIGHTS > 0','totalDiffuse += spotDiffuse;','totalSpecular += spotSpecular;','#endif','#ifdef METAL','gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor + totalSpecular );','#else','gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor ) + totalSpecular;','#endif','if ( enableReflection ) {','vec3 vReflect;','vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );','if ( useRefract ) {','vReflect = refract( cameraToVertex, normal, uRefractionRatio );','} else {','vReflect = reflect( cameraToVertex, normal );','}','vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );','#ifdef GAMMA_INPUT','cubeColor.xyz *= cubeColor.xyz;','#endif','gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );','}',THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,'}'].join('\n'),vertexShader:['attribute vec4 tangent;','uniform vec2 uOffset;','uniform vec2 uRepeat;','uniform bool enableDisplacement;','#ifdef VERTEX_TEXTURES','uniform sampler2D tDisplacement;','uniform float uDisplacementScale;','uniform float uDisplacementBias;','#endif','varying vec3 vTangent;','varying vec3 vBinormal;','varying vec3 vNormal;','varying vec2 vUv;','varying vec3 vWorldPosition;','varying vec3 vViewPosition;',THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,'void main() {',THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,'#ifdef USE_SKINNING','vNormal = normalize( normalMatrix * skinnedNormal.xyz );','vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );','vTangent = normalize( normalMatrix * skinnedTangent.xyz );','#else','vNormal = normalize( normalMatrix * normal );','vTangent = normalize( normalMatrix * tangent.xyz );','#endif','vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );','vUv = uv * uRepeat + uOffset;','vec3 displacedPosition;','#ifdef VERTEX_TEXTURES','if ( enableDisplacement ) {','vec3 dv = texture2D( tDisplacement, uv ).xyz;','float df = uDisplacementScale * dv.x + uDisplacementBias;','displacedPosition = position + normalize( normal ) * df;','} else {','#ifdef USE_SKINNING','vec4 skinVertex = vec4( position, 1.0 );','vec4 skinned  = boneMatX * skinVertex * skinWeight.x;','skinned \t  += boneMatY * skinVertex * skinWeight.y;','displacedPosition  = skinned.xyz;','#else','displacedPosition = position;','#endif','}','#else','#ifdef USE_SKINNING','vec4 skinVertex = vec4( position, 1.0 );','vec4 skinned  = boneMatX * skinVertex * skinWeight.x;','skinned \t  += boneMatY * skinVertex * skinWeight.y;','displacedPosition  = skinned.xyz;','#else','displacedPosition = position;','#endif','#endif','vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );','vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );','gl_Position = projectionMatrix * mvPosition;','vWorldPosition = worldPosition.xyz;','vViewPosition = -mvPosition.xyz;','#ifdef USE_SHADOWMAP','for( int i = 0; i < MAX_SHADOWS; i ++ ) {','vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;','}','#endif','}'].join('\n')},cube:{uniforms:{tCube:{type:'t',value:null},tFlip:{type:'f',value:-1}},vertexShader:['varying vec3 vWorldPosition;','void main() {','vec4 worldPosition = modelMatrix * vec4( position, 1.0 );','vWorldPosition = worldPosition.xyz;','gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );','}'].join('\n'),fragmentShader:['uniform samplerCube tCube;','uniform float tFlip;','varying vec3 vWorldPosition;','void main() {','gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );','}'].join('\n')},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,'void main() {',THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,'}'].join('\n'),fragmentShader:['vec4 pack_depth( const in float depth ) {','const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );','const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );','vec4 res = fract( depth * bit_shift );','res -= res.xxyz * bit_mask;','return res;','}','void main() {','gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );','}'].join('\n')}},THREE.WebGLRenderer=function(_){function S(Rr){Rr.__webglVertexBuffer=Kt.createBuffer(),Rr.__webglColorBuffer=Kt.createBuffer(),ut.info.memory.geometries++}function M(Rr){Rr.__webglVertexBuffer=Kt.createBuffer(),Rr.__webglColorBuffer=Kt.createBuffer(),Rr.__webglLineDistanceBuffer=Kt.createBuffer(),ut.info.memory.geometries++}function T(Rr){Rr.__webglVertexBuffer=Kt.createBuffer(),Rr.__webglNormalBuffer=Kt.createBuffer(),Rr.__webglTangentBuffer=Kt.createBuffer(),Rr.__webglColorBuffer=Kt.createBuffer(),Rr.__webglUVBuffer=Kt.createBuffer(),Rr.__webglUV2Buffer=Kt.createBuffer(),Rr.__webglSkinIndicesBuffer=Kt.createBuffer(),Rr.__webglSkinWeightsBuffer=Kt.createBuffer(),Rr.__webglFaceBuffer=Kt.createBuffer(),Rr.__webglLineBuffer=Kt.createBuffer();var Fr,Vr;if(Rr.numMorphTargets)for(Rr.__webglMorphTargetsBuffers=[],Fr=0,Vr=Rr.numMorphTargets;Fr<Vr;Fr++)Rr.__webglMorphTargetsBuffers.push(Kt.createBuffer());if(Rr.numMorphNormals)for(Rr.__webglMorphNormalsBuffers=[],Fr=0,Vr=Rr.numMorphNormals;Fr<Vr;Fr++)Rr.__webglMorphNormalsBuffers.push(Kt.createBuffer());ut.info.memory.geometries++}function C(Rr,Fr){var Vr=Rr.vertices.length,Ur=Fr.material;if(Ur.attributes)for(var zr in void 0===Rr.__webglCustomAttributesList&&(Rr.__webglCustomAttributesList=[]),Ur.attributes){var Br=Ur.attributes[zr];if(!Br.__webglInitialized||Br.createUniqueBuffers){Br.__webglInitialized=!0;var Nr=1;'v2'===Br.type?Nr=2:'v3'===Br.type?Nr=3:'v4'===Br.type?Nr=4:'c'===Br.type&&(Nr=3),Br.size=Nr,Br.array=new Float32Array(Vr*Nr),Br.buffer=Kt.createBuffer(),Br.buffer.belongsToAttribute=zr,Br.needsUpdate=!0}Rr.__webglCustomAttributesList.push(Br)}}function A(Rr,Fr){var Vr=Rr.vertices.length;Rr.__vertexArray=new Float32Array(3*Vr),Rr.__colorArray=new Float32Array(3*Vr),Rr.__sortArray=[],Rr.__webglParticleCount=Vr,C(Rr,Fr)}function E(Rr,Fr){var Vr=Rr.vertices.length;Rr.__vertexArray=new Float32Array(3*Vr),Rr.__colorArray=new Float32Array(3*Vr),Rr.__lineDistanceArray=new Float32Array(1*Vr),Rr.__webglLineCount=Vr,C(Rr,Fr)}function L(Rr,Fr){var Vr=Fr.geometry,Ur=Rr.faces3,zr=3*Ur.length,Br=1*Ur.length,Nr=3*Ur.length,Ir=P(Fr,Rr),Or=V(Ir),kr=R(Ir),Gr=F(Ir);Rr.__vertexArray=new Float32Array(3*zr),kr&&(Rr.__normalArray=new Float32Array(3*zr)),Vr.hasTangents&&(Rr.__tangentArray=new Float32Array(4*zr)),Gr&&(Rr.__colorArray=new Float32Array(3*zr)),Or&&(0<Vr.faceVertexUvs.length&&(Rr.__uvArray=new Float32Array(2*zr)),1<Vr.faceVertexUvs.length&&(Rr.__uv2Array=new Float32Array(2*zr))),Fr.geometry.skinWeights.length&&Fr.geometry.skinIndices.length&&(Rr.__skinIndexArray=new Float32Array(4*zr),Rr.__skinWeightArray=new Float32Array(4*zr)),Rr.__faceArray=new Uint16Array(3*Br),Rr.__lineArray=new Uint16Array(2*Nr);var Hr,Wr;if(Rr.numMorphTargets)for(Rr.__morphTargetsArrays=[],Hr=0,Wr=Rr.numMorphTargets;Hr<Wr;Hr++)Rr.__morphTargetsArrays.push(new Float32Array(3*zr));if(Rr.numMorphNormals)for(Rr.__morphNormalsArrays=[],Hr=0,Wr=Rr.numMorphNormals;Hr<Wr;Hr++)Rr.__morphNormalsArrays.push(new Float32Array(3*zr));if(Rr.__webglFaceCount=3*Br,Rr.__webglLineCount=2*Nr,Ir.attributes)for(var jr in void 0===Rr.__webglCustomAttributesList&&(Rr.__webglCustomAttributesList=[]),Ir.attributes){var Xr=Ir.attributes[jr],qr={};for(var Yr in Xr)qr[Yr]=Xr[Yr];if(!qr.__webglInitialized||qr.createUniqueBuffers){qr.__webglInitialized=!0;var Kr=1;'v2'===qr.type?Kr=2:'v3'===qr.type?Kr=3:'v4'===qr.type?Kr=4:'c'===qr.type&&(Kr=3),qr.size=Kr,qr.array=new Float32Array(zr*Kr),qr.buffer=Kt.createBuffer(),qr.buffer.belongsToAttribute=jr,Xr.needsUpdate=!0,qr.__original=Xr}Rr.__webglCustomAttributesList.push(qr)}Rr.__inittedArrays=!0}function P(Rr,Fr){return Rr.material instanceof THREE.MeshFaceMaterial?Rr.material.materials[Fr.materialIndex]:Rr.material}function D(Rr){return Rr&&Rr.shading!==void 0&&Rr.shading===THREE.SmoothShading}function R(Rr){return Rr instanceof THREE.MeshBasicMaterial&&!Rr.envMap||Rr instanceof THREE.MeshDepthMaterial?!1:D(Rr)?THREE.SmoothShading:THREE.FlatShading}function F(Rr){return!!Rr.vertexColors&&Rr.vertexColors}function V(Rr){return Rr.map||Rr.lightMap||Rr.bumpMap||Rr.normalMap||Rr.specularMap||Rr instanceof THREE.ShaderMaterial}function U(Rr){var Fr,Vr,Ur;for(Fr in Rr.attributes)Ur='index'===Fr?Kt.ELEMENT_ARRAY_BUFFER:Kt.ARRAY_BUFFER,Vr=Rr.attributes[Fr],void 0===Vr.numItems&&(Vr.numItems=Vr.array.length),Vr.buffer=Kt.createBuffer(),Kt.bindBuffer(Ur,Vr.buffer),Kt.bufferData(Ur,Vr.array,Kt.STATIC_DRAW)}function B(Rr,Fr,Vr){var kr=Rr.vertices,Gr=kr.length,Hr=Rr.colors,Wr=Hr.length,jr=Rr.__vertexArray,Xr=Rr.__colorArray,qr=Rr.__sortArray,Yr=Rr.verticesNeedUpdate,Kr=Rr.elementsNeedUpdate,Qr=Rr.colorsNeedUpdate,Zr=Rr.__webglCustomAttributesList,Ur,zr,Br,Nr,Ir,Or,Jr,$r,ra,aa,oa,ia;if(Vr.sortParticles){for(Wt.copy(Ht),Wt.multiply(Vr.matrixWorld),Ur=0;Ur<Gr;Ur++)Br=kr[Ur],jt.copy(Br),jt.applyProjection(Wt),qr[Ur]=[jt.z,Ur];for(qr.sort(Y),Ur=0;Ur<Gr;Ur++)Br=kr[qr[Ur][1]],Nr=3*Ur,jr[Nr]=Br.x,jr[Nr+1]=Br.y,jr[Nr+2]=Br.z;for(zr=0;zr<Wr;zr++)Nr=3*zr,Or=Hr[qr[zr][1]],Xr[Nr]=Or.r,Xr[Nr+1]=Or.g,Xr[Nr+2]=Or.b;if(Zr)for(Jr=0,$r=Zr.length;Jr<$r;Jr++)if(ia=Zr[Jr],void 0===ia.boundTo||'vertices'===ia.boundTo)if(Nr=0,aa=ia.value.length,1===ia.size)for(ra=0;ra<aa;ra++)Ir=qr[ra][1],ia.array[ra]=ia.value[Ir];else if(2===ia.size)for(ra=0;ra<aa;ra++)Ir=qr[ra][1],oa=ia.value[Ir],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,Nr+=2;else if(3===ia.size){if('c'===ia.type)for(ra=0;ra<aa;ra++)Ir=qr[ra][1],oa=ia.value[Ir],ia.array[Nr]=oa.r,ia.array[Nr+1]=oa.g,ia.array[Nr+2]=oa.b,Nr+=3;else for(ra=0;ra<aa;ra++)Ir=qr[ra][1],oa=ia.value[Ir],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,ia.array[Nr+2]=oa.z,Nr+=3;}else if(4===ia.size)for(ra=0;ra<aa;ra++)Ir=qr[ra][1],oa=ia.value[Ir],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,ia.array[Nr+2]=oa.z,ia.array[Nr+3]=oa.w,Nr+=4}else{if(Yr)for(Ur=0;Ur<Gr;Ur++)Br=kr[Ur],Nr=3*Ur,jr[Nr]=Br.x,jr[Nr+1]=Br.y,jr[Nr+2]=Br.z;if(Qr)for(zr=0;zr<Wr;zr++)Or=Hr[zr],Nr=3*zr,Xr[Nr]=Or.r,Xr[Nr+1]=Or.g,Xr[Nr+2]=Or.b;if(Zr)for(Jr=0,$r=Zr.length;Jr<$r;Jr++)if(ia=Zr[Jr],ia.needsUpdate&&(void 0===ia.boundTo||'vertices'===ia.boundTo))if(aa=ia.value.length,Nr=0,1===ia.size)for(ra=0;ra<aa;ra++)ia.array[ra]=ia.value[ra];else if(2===ia.size)for(ra=0;ra<aa;ra++)oa=ia.value[ra],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,Nr+=2;else if(3===ia.size){if('c'===ia.type)for(ra=0;ra<aa;ra++)oa=ia.value[ra],ia.array[Nr]=oa.r,ia.array[Nr+1]=oa.g,ia.array[Nr+2]=oa.b,Nr+=3;else for(ra=0;ra<aa;ra++)oa=ia.value[ra],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,ia.array[Nr+2]=oa.z,Nr+=3;}else if(4===ia.size)for(ra=0;ra<aa;ra++)oa=ia.value[ra],ia.array[Nr]=oa.x,ia.array[Nr+1]=oa.y,ia.array[Nr+2]=oa.z,ia.array[Nr+3]=oa.w,Nr+=4}if((Yr||Vr.sortParticles)&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglVertexBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,jr,Fr)),(Qr||Vr.sortParticles)&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglColorBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Xr,Fr)),Zr)for(Jr=0,$r=Zr.length;Jr<$r;Jr++)ia=Zr[Jr],(ia.needsUpdate||Vr.sortParticles)&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,ia.buffer),Kt.bufferData(Kt.ARRAY_BUFFER,ia.array,Fr))}function N(Rr,Fr){var Or=Rr.vertices,kr=Rr.colors,Gr=Rr.lineDistances,Hr=Or.length,Wr=kr.length,jr=Gr.length,Xr=Rr.__vertexArray,qr=Rr.__colorArray,Yr=Rr.__lineDistanceArray,Kr=Rr.verticesNeedUpdate,Qr=Rr.colorsNeedUpdate,Zr=Rr.lineDistancesNeedUpdate,Jr=Rr.__webglCustomAttributesList,Vr,Ur,zr,Br,Nr,Ir,$r,ea,aa,oa,ia,sa;if(Kr){for(Vr=0;Vr<Hr;Vr++)Br=Or[Vr],Nr=3*Vr,Xr[Nr]=Br.x,Xr[Nr+1]=Br.y,Xr[Nr+2]=Br.z;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglVertexBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Xr,Fr)}if(Qr){for(Ur=0;Ur<Wr;Ur++)Ir=kr[Ur],Nr=3*Ur,qr[Nr]=Ir.r,qr[Nr+1]=Ir.g,qr[Nr+2]=Ir.b;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglColorBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,qr,Fr)}if(Zr){for(zr=0;zr<jr;zr++)Yr[zr]=Gr[zr];Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglLineDistanceBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Yr,Fr)}if(Jr)for($r=0,ea=Jr.length;$r<ea;$r++)if(sa=Jr[$r],sa.needsUpdate&&(void 0===sa.boundTo||'vertices'===sa.boundTo)){if(Nr=0,oa=sa.value.length,1===sa.size)for(aa=0;aa<oa;aa++)sa.array[aa]=sa.value[aa];else if(2===sa.size)for(aa=0;aa<oa;aa++)ia=sa.value[aa],sa.array[Nr]=ia.x,sa.array[Nr+1]=ia.y,Nr+=2;else if(3===sa.size){if('c'===sa.type)for(aa=0;aa<oa;aa++)ia=sa.value[aa],sa.array[Nr]=ia.r,sa.array[Nr+1]=ia.g,sa.array[Nr+2]=ia.b,Nr+=3;else for(aa=0;aa<oa;aa++)ia=sa.value[aa],sa.array[Nr]=ia.x,sa.array[Nr+1]=ia.y,sa.array[Nr+2]=ia.z,Nr+=3;}else if(4===sa.size)for(aa=0;aa<oa;aa++)ia=sa.value[aa],sa.array[Nr]=ia.x,sa.array[Nr+1]=ia.y,sa.array[Nr+2]=ia.z,sa.array[Nr+3]=ia.w,Nr+=4;Kt.bindBuffer(Kt.ARRAY_BUFFER,sa.buffer),Kt.bufferData(Kt.ARRAY_BUFFER,sa.array,Fr)}}function I(Rr,Fr,Vr,Ur,zr){if(Rr.__inittedArrays){var Br=R(zr),Nr=F(zr),Ir=V(zr),Or=Br===THREE.SmoothShading,Za=0,Ja=0,$a=0,eo=0,to=0,ro=0,ao=0,oo=0,io=0,no=0,so=0,lo=0,po=0,mo=Rr.__vertexArray,uo=Rr.__uvArray,ho=Rr.__uv2Array,fo=Rr.__normalArray,go=Rr.__tangentArray,yo=Rr.__colorArray,xo=Rr.__skinIndexArray,vo=Rr.__skinWeightArray,_o=Rr.__morphTargetsArrays,bo=Rr.__morphNormalsArrays,So=Rr.__webglCustomAttributesList,To=Rr.__faceArray,Co=Rr.__lineArray,Ao=Fr.geometry,wo=Ao.verticesNeedUpdate,Eo=Ao.elementsNeedUpdate,Lo=Ao.uvsNeedUpdate,Po=Ao.normalsNeedUpdate,Do=Ao.tangentsNeedUpdate,Ro=Ao.colorsNeedUpdate,Fo=Ao.morphTargetsNeedUpdate,Vo=Ao.vertices,Uo=Rr.faces3,zo=Ao.faces,Bo=Ao.faceVertexUvs[0],No=Ao.faceVertexUvs[1],Io=Ao.colors,Oo=Ao.skinIndices,ko=Ao.skinWeights,Go=Ao.morphTargets,Ho=Ao.morphNormals,kr,Gr,Hr,Wr,jr,Xr,Yr,Kr,Qr,Zr,Jr,$r,ea,ra,oa,ia,sa,da,ma,ha,ga,ya,xa,_a,ba,Sa,Ta,Ca,Aa,Na,Ia,Oa,ka,Ga,Ha,Wa,ja,Xa,Ya,Ka,co,Mo;if(wo){for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],$r=Vo[Wr.a],ea=Vo[Wr.b],ra=Vo[Wr.c],mo[Ja]=$r.x,mo[Ja+1]=$r.y,mo[Ja+2]=$r.z,mo[Ja+3]=ea.x,mo[Ja+4]=ea.y,mo[Ja+5]=ea.z,mo[Ja+6]=ra.x,mo[Ja+7]=ra.y,mo[Ja+8]=ra.z,Ja+=9;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglVertexBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,mo,Vr)}if(Fo)for(Ha=0,Wa=Go.length;Ha<Wa;Ha++){for(so=0,kr=0,Gr=Uo.length;kr<Gr;kr++)Ya=Uo[kr],Wr=zo[Ya],$r=Go[Ha].vertices[Wr.a],ea=Go[Ha].vertices[Wr.b],ra=Go[Ha].vertices[Wr.c],ja=_o[Ha],ja[so]=$r.x,ja[so+1]=$r.y,ja[so+2]=$r.z,ja[so+3]=ea.x,ja[so+4]=ea.y,ja[so+5]=ea.z,ja[so+6]=ra.x,ja[so+7]=ra.y,ja[so+8]=ra.z,zr.morphNormals&&(Or?(Ka=Ho[Ha].vertexNormals[Ya],da=Ka.a,ma=Ka.b,ha=Ka.c):(da=Ho[Ha].faceNormals[Ya],ma=da,ha=da),Xa=bo[Ha],Xa[so]=da.x,Xa[so+1]=da.y,Xa[so+2]=da.z,Xa[so+3]=ma.x,Xa[so+4]=ma.y,Xa[so+5]=ma.z,Xa[so+6]=ha.x,Xa[so+7]=ha.y,Xa[so+8]=ha.z),so+=9;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglMorphTargetsBuffers[Ha]),Kt.bufferData(Kt.ARRAY_BUFFER,_o[Ha],Vr),zr.morphNormals&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglMorphNormalsBuffers[Ha]),Kt.bufferData(Kt.ARRAY_BUFFER,bo[Ha],Vr))}if(ko.length){for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],_a=ko[Wr.a],ba=ko[Wr.b],Sa=ko[Wr.c],vo[no]=_a.x,vo[no+1]=_a.y,vo[no+2]=_a.z,vo[no+3]=_a.w,vo[no+4]=ba.x,vo[no+5]=ba.y,vo[no+6]=ba.z,vo[no+7]=ba.w,vo[no+8]=Sa.x,vo[no+9]=Sa.y,vo[no+10]=Sa.z,vo[no+11]=Sa.w,Ta=Oo[Wr.a],Ca=Oo[Wr.b],Aa=Oo[Wr.c],xo[no]=Ta.x,xo[no+1]=Ta.y,xo[no+2]=Ta.z,xo[no+3]=Ta.w,xo[no+4]=Ca.x,xo[no+5]=Ca.y,xo[no+6]=Ca.z,xo[no+7]=Ca.w,xo[no+8]=Aa.x,xo[no+9]=Aa.y,xo[no+10]=Aa.z,xo[no+11]=Aa.w,no+=12;0<no&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglSkinIndicesBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,xo,Vr),Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglSkinWeightsBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,vo,Vr))}if(Ro&&Nr){for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],Yr=Wr.vertexColors,Kr=Wr.color,3===Yr.length&&Nr===THREE.VertexColors?(ga=Yr[0],ya=Yr[1],xa=Yr[2]):(ga=Kr,ya=Kr,xa=Kr),yo[io]=ga.r,yo[io+1]=ga.g,yo[io+2]=ga.b,yo[io+3]=ya.r,yo[io+4]=ya.g,yo[io+5]=ya.b,yo[io+6]=xa.r,yo[io+7]=xa.g,yo[io+8]=xa.b,io+=9;0<io&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglColorBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,yo,Vr))}if(Do&&Ao.hasTangents){for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],Qr=Wr.vertexTangents,oa=Qr[0],ia=Qr[1],sa=Qr[2],go[ao]=oa.x,go[ao+1]=oa.y,go[ao+2]=oa.z,go[ao+3]=oa.w,go[ao+4]=ia.x,go[ao+5]=ia.y,go[ao+6]=ia.z,go[ao+7]=ia.w,go[ao+8]=sa.x,go[ao+9]=sa.y,go[ao+10]=sa.z,go[ao+11]=sa.w,ao+=12;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglTangentBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,go,Vr)}if(Po&&Br){for(kr=0,Gr=Uo.length;kr<Gr;kr++)if(Wr=zo[Uo[kr]],jr=Wr.vertexNormals,Xr=Wr.normal,3===jr.length&&Or)for(Na=0;3>Na;Na++)Oa=jr[Na],fo[ro]=Oa.x,fo[ro+1]=Oa.y,fo[ro+2]=Oa.z,ro+=3;else for(Na=0;3>Na;Na++)fo[ro]=Xr.x,fo[ro+1]=Xr.y,fo[ro+2]=Xr.z,ro+=3;Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglNormalBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,fo,Vr)}if(Lo&&Bo&&Ir){for(kr=0,Gr=Uo.length;kr<Gr;kr++)if(Hr=Uo[kr],Zr=Bo[Hr],void 0!==Zr)for(Na=0;3>Na;Na++)ka=Zr[Na],uo[$a]=ka.x,uo[$a+1]=ka.y,$a+=2;0<$a&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglUVBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,uo,Vr))}if(Lo&&No&&Ir){for(kr=0,Gr=Uo.length;kr<Gr;kr++)if(Hr=Uo[kr],Jr=No[Hr],void 0!==Jr)for(Na=0;3>Na;Na++)Ga=Jr[Na],ho[eo]=Ga.x,ho[eo+1]=Ga.y,eo+=2;0<eo&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglUV2Buffer),Kt.bufferData(Kt.ARRAY_BUFFER,ho,Vr))}if(Eo){for(kr=0,Gr=Uo.length;kr<Gr;kr++)To[to]=Za,To[to+1]=Za+1,To[to+2]=Za+2,to+=3,Co[oo]=Za,Co[oo+1]=Za+1,Co[oo+2]=Za,Co[oo+3]=Za+2,Co[oo+4]=Za+1,Co[oo+5]=Za+2,oo+=6,Za+=3;Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,Rr.__webglFaceBuffer),Kt.bufferData(Kt.ELEMENT_ARRAY_BUFFER,To,Vr),Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,Rr.__webglLineBuffer),Kt.bufferData(Kt.ELEMENT_ARRAY_BUFFER,Co,Vr)}if(So)for(Na=0,Ia=So.length;Na<Ia;Na++)if(Mo=So[Na],Mo.__original.needsUpdate){if(lo=0,po=0,1===Mo.size){if(void 0===Mo.boundTo||'vertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],Mo.array[lo]=Mo.value[Wr.a],Mo.array[lo+1]=Mo.value[Wr.b],Mo.array[lo+2]=Mo.value[Wr.c],lo+=3;else if('faces'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],Mo.array[lo]=co,Mo.array[lo+1]=co,Mo.array[lo+2]=co,lo+=3;}else if(2===Mo.size){if(void 0===Mo.boundTo||'vertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],$r=Mo.value[Wr.a],ea=Mo.value[Wr.b],ra=Mo.value[Wr.c],Mo.array[lo]=$r.x,Mo.array[lo+1]=$r.y,Mo.array[lo+2]=ea.x,Mo.array[lo+3]=ea.y,Mo.array[lo+4]=ra.x,Mo.array[lo+5]=ra.y,lo+=6;else if('faces'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],$r=co,ea=co,ra=co,Mo.array[lo]=$r.x,Mo.array[lo+1]=$r.y,Mo.array[lo+2]=ea.x,Mo.array[lo+3]=ea.y,Mo.array[lo+4]=ra.x,Mo.array[lo+5]=ra.y,lo+=6;}else if(3===Mo.size){var Wo;if(Wo='c'===Mo.type?['r','g','b']:['x','y','z'],void 0===Mo.boundTo||'vertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],$r=Mo.value[Wr.a],ea=Mo.value[Wr.b],ra=Mo.value[Wr.c],Mo.array[lo]=$r[Wo[0]],Mo.array[lo+1]=$r[Wo[1]],Mo.array[lo+2]=$r[Wo[2]],Mo.array[lo+3]=ea[Wo[0]],Mo.array[lo+4]=ea[Wo[1]],Mo.array[lo+5]=ea[Wo[2]],Mo.array[lo+6]=ra[Wo[0]],Mo.array[lo+7]=ra[Wo[1]],Mo.array[lo+8]=ra[Wo[2]],lo+=9;else if('faces'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],$r=co,ea=co,ra=co,Mo.array[lo]=$r[Wo[0]],Mo.array[lo+1]=$r[Wo[1]],Mo.array[lo+2]=$r[Wo[2]],Mo.array[lo+3]=ea[Wo[0]],Mo.array[lo+4]=ea[Wo[1]],Mo.array[lo+5]=ea[Wo[2]],Mo.array[lo+6]=ra[Wo[0]],Mo.array[lo+7]=ra[Wo[1]],Mo.array[lo+8]=ra[Wo[2]],lo+=9;else if('faceVertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],$r=co[0],ea=co[1],ra=co[2],Mo.array[lo]=$r[Wo[0]],Mo.array[lo+1]=$r[Wo[1]],Mo.array[lo+2]=$r[Wo[2]],Mo.array[lo+3]=ea[Wo[0]],Mo.array[lo+4]=ea[Wo[1]],Mo.array[lo+5]=ea[Wo[2]],Mo.array[lo+6]=ra[Wo[0]],Mo.array[lo+7]=ra[Wo[1]],Mo.array[lo+8]=ra[Wo[2]],lo+=9}else if(4===Mo.size)if(void 0===Mo.boundTo||'vertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)Wr=zo[Uo[kr]],$r=Mo.value[Wr.a],ea=Mo.value[Wr.b],ra=Mo.value[Wr.c],Mo.array[lo]=$r.x,Mo.array[lo+1]=$r.y,Mo.array[lo+2]=$r.z,Mo.array[lo+3]=$r.w,Mo.array[lo+4]=ea.x,Mo.array[lo+5]=ea.y,Mo.array[lo+6]=ea.z,Mo.array[lo+7]=ea.w,Mo.array[lo+8]=ra.x,Mo.array[lo+9]=ra.y,Mo.array[lo+10]=ra.z,Mo.array[lo+11]=ra.w,lo+=12;else if('faces'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],$r=co,ea=co,ra=co,Mo.array[lo]=$r.x,Mo.array[lo+1]=$r.y,Mo.array[lo+2]=$r.z,Mo.array[lo+3]=$r.w,Mo.array[lo+4]=ea.x,Mo.array[lo+5]=ea.y,Mo.array[lo+6]=ea.z,Mo.array[lo+7]=ea.w,Mo.array[lo+8]=ra.x,Mo.array[lo+9]=ra.y,Mo.array[lo+10]=ra.z,Mo.array[lo+11]=ra.w,lo+=12;else if('faceVertices'===Mo.boundTo)for(kr=0,Gr=Uo.length;kr<Gr;kr++)co=Mo.value[Uo[kr]],$r=co[0],ea=co[1],ra=co[2],Mo.array[lo]=$r.x,Mo.array[lo+1]=$r.y,Mo.array[lo+2]=$r.z,Mo.array[lo+3]=$r.w,Mo.array[lo+4]=ea.x,Mo.array[lo+5]=ea.y,Mo.array[lo+6]=ea.z,Mo.array[lo+7]=ea.w,Mo.array[lo+8]=ra.x,Mo.array[lo+9]=ra.y,Mo.array[lo+10]=ra.z,Mo.array[lo+11]=ra.w,lo+=12;Kt.bindBuffer(Kt.ARRAY_BUFFER,Mo.buffer),Kt.bufferData(Kt.ARRAY_BUFFER,Mo.array,Vr)}Ur&&(delete Rr.__inittedArrays,delete Rr.__colorArray,delete Rr.__normalArray,delete Rr.__tangentArray,delete Rr.__uvArray,delete Rr.__uv2Array,delete Rr.__faceArray,delete Rr.__vertexArray,delete Rr.__lineArray,delete Rr.__skinIndexArray,delete Rr.__skinWeightArray)}}function O(Rr,Fr,Vr){var Ur=Rr.attributes,zr,Br;for(zr in Ur)Br=Ur[zr],Br.needsUpdate&&('index'===zr?(Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,Br.buffer),Kt.bufferData(Kt.ELEMENT_ARRAY_BUFFER,Br.array,Fr)):(Kt.bindBuffer(Kt.ARRAY_BUFFER,Br.buffer),Kt.bufferData(Kt.ARRAY_BUFFER,Br.array,Fr)),Br.needsUpdate=!1),Vr&&!Br.dynamic&&(Br.array=null)}function G(Rr){kt[Rr]||(Kt.enableVertexAttribArray(Rr),kt[Rr]=!0)}function H(){for(var Rr in kt)kt[Rr]&&(Kt.disableVertexAttribArray(Rr),kt[Rr]=!1)}function W(Rr,Fr,Vr){var Ur=Rr.program.attributes;if(-1!==Vr.morphTargetBase&&0<=Ur.position?(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglMorphTargetsBuffers[Vr.morphTargetBase]),G(Ur.position),Kt.vertexAttribPointer(Ur.position,3,Kt.FLOAT,!1,0,0)):0<=Ur.position&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglVertexBuffer),G(Ur.position),Kt.vertexAttribPointer(Ur.position,3,Kt.FLOAT,!1,0,0)),Vr.morphTargetForcedOrder.length)for(var zr=0,Br=Vr.morphTargetForcedOrder,Nr=Vr.morphTargetInfluences;zr<Rr.numSupportedMorphTargets&&zr<Br.length;)0<=Ur['morphTarget'+zr]&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglMorphTargetsBuffers[Br[zr]]),G(Ur['morphTarget'+zr]),Kt.vertexAttribPointer(Ur['morphTarget'+zr],3,Kt.FLOAT,!1,0,0)),0<=Ur['morphNormal'+zr]&&Rr.morphNormals&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglMorphNormalsBuffers[Br[zr]]),G(Ur['morphNormal'+zr]),Kt.vertexAttribPointer(Ur['morphNormal'+zr],3,Kt.FLOAT,!1,0,0)),Vr.__webglMorphTargetInfluences[zr]=Nr[Br[zr]],zr++;else{var Or=[],Nr=Vr.morphTargetInfluences,Gr=Nr.length,Ir,kr;for(kr=0;kr<Gr;kr++)Ir=Nr[kr],0<Ir&&Or.push([Ir,kr]);Or.length>Rr.numSupportedMorphTargets?(Or.sort(Y),Or.length=Rr.numSupportedMorphTargets):Or.length>Rr.numSupportedMorphNormals?Or.sort(Y):0===Or.length&&Or.push([0,0]);for(var zr=0,Hr;zr<Rr.numSupportedMorphTargets;)Or[zr]?(Hr=Or[zr][1],0<=Ur['morphTarget'+zr]&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglMorphTargetsBuffers[Hr]),G(Ur['morphTarget'+zr]),Kt.vertexAttribPointer(Ur['morphTarget'+zr],3,Kt.FLOAT,!1,0,0)),0<=Ur['morphNormal'+zr]&&Rr.morphNormals&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Fr.__webglMorphNormalsBuffers[Hr]),G(Ur['morphNormal'+zr]),Kt.vertexAttribPointer(Ur['morphNormal'+zr],3,Kt.FLOAT,!1,0,0)),Vr.__webglMorphTargetInfluences[zr]=Nr[Hr]):Vr.__webglMorphTargetInfluences[zr]=0,zr++}null!==Rr.program.uniforms.morphTargetInfluences&&Kt.uniform1fv(Rr.program.uniforms.morphTargetInfluences,Vr.__webglMorphTargetInfluences)}function X(Rr,Fr){return Rr.z===Fr.z?Rr.id-Fr.id:Fr.z-Rr.z}function Y(Rr,Fr){return Fr[0]-Rr[0]}function K(Rr,Fr,Vr){if(Rr.length)for(var Ur=0,zr=Rr.length;Ur<zr;Ur++)gt=null,_t=null,Ct=-1,Lt=-1,Pt=-1,Mt=-1,Tt=-1,vt=-1,xt=-1,qt=!0,Rr[Ur].render(Fr,Vr,It,Ot),gt=null,_t=null,Ct=-1,Lt=-1,Pt=-1,Mt=-1,Tt=-1,vt=-1,xt=-1,qt=!0}function Q(Rr,Fr,Vr,Ur,zr,Br,Nr,Ir){var Or,kr,Gr,Hr,Wr,jr,Xr;Fr?(Wr=Rr.length-1,jr=-1,Xr=-1):(Wr=0,jr=Rr.length,Xr=1);for(var qr=Wr;qr!==jr;qr+=Xr)if(Or=Rr[qr],Or.render){if(kr=Or.object,Gr=Or.buffer,Ir)Hr=Ir;else{if(Hr=Or[Vr],!Hr)continue;Nr&&ut.setBlending(Hr.blending,Hr.blendEquation,Hr.blendSrc,Hr.blendDst),ut.setDepthTest(Hr.depthTest),ut.setDepthWrite(Hr.depthWrite),Ue(Hr.polygonOffset,Hr.polygonOffsetFactor,Hr.polygonOffsetUnits)}ut.setMaterialFaces(Hr),Gr instanceof THREE.BufferGeometry?ut.renderBufferDirect(Ur,zr,Br,Hr,Gr,kr):ut.renderBuffer(Ur,zr,Br,Hr,Gr,kr)}}function Z(Rr,Fr,Vr,Ur,zr,Br,Nr){for(var Hr=0,Wr=Rr.length,Ir,Or,kr;Hr<Wr;Hr++)if(Ir=Rr[Hr],Or=Ir.object,Or.visible){if(Nr)kr=Nr;else{if(kr=Ir[Fr],!kr)continue;Br&&ut.setBlending(kr.blending,kr.blendEquation,kr.blendSrc,kr.blendDst),ut.setDepthTest(kr.depthTest),ut.setDepthWrite(kr.depthWrite),Ue(kr.polygonOffset,kr.polygonOffsetFactor,kr.polygonOffsetUnits)}ut.renderImmediateObject(Vr,Ur,zr,kr,Or)}}function J(Rr){var Fr=Rr.object,Vr=Fr.material;Vr.transparent?(Rr.transparent=Vr,Rr.opaque=null):(Rr.opaque=Vr,Rr.transparent=null)}function $(Rr){var Fr=Rr.object,Vr=Rr.buffer,Ur,zr,Br;Br=Fr.material,Br instanceof THREE.MeshFaceMaterial?(zr=Vr.materialIndex,Ur=Br.materials[zr],Ur.transparent?(Rr.transparent=Ur,Rr.opaque=null):(Rr.opaque=Ur,Rr.transparent=null)):(Ur=Br,Ur&&(Ur.transparent?(Rr.transparent=Ur,Rr.opaque=null):(Rr.opaque=Ur,Rr.transparent=null)))}function ee(Rr,Fr){var Or={},kr=Rr.morphTargets.length,Gr=Rr.morphNormals.length,Hr=Fr instanceof THREE.MeshFaceMaterial,Vr,Ur,zr,Br,Nr,Ir;for(Rr.geometryGroups={},Vr=0,Ur=Rr.faces.length;Vr<Ur;Vr++)zr=Rr.faces[Vr],Br=Hr?zr.materialIndex:0,void 0===Or[Br]&&(Or[Br]={hash:Br,counter:0}),Ir=Or[Br].hash+'_'+Or[Br].counter,void 0===Rr.geometryGroups[Ir]&&(Rr.geometryGroups[Ir]={faces3:[],materialIndex:Br,vertices:0,numMorphTargets:kr,numMorphNormals:Gr}),Nr=3,65535<Rr.geometryGroups[Ir].vertices+Nr&&(Or[Br].counter+=1,Ir=Or[Br].hash+'_'+Or[Br].counter,void 0===Rr.geometryGroups[Ir]&&(Rr.geometryGroups[Ir]={faces3:[],materialIndex:Br,vertices:0,numMorphTargets:kr,numMorphNormals:Gr})),Rr.geometryGroups[Ir].faces3.push(Vr),Rr.geometryGroups[Ir].vertices+=Nr;for(var Wr in Rr.geometryGroupsList=[],Rr.geometryGroups)Rr.geometryGroups[Wr].id=bt++,Rr.geometryGroupsList.push(Rr.geometryGroups[Wr])}function re(Rr,Fr){var Vr,Ur,zr,Br;if(void 0===Rr.__webglInit)if(Rr.__webglInit=!0,Rr._modelViewMatrix=new THREE.Matrix4,Rr._normalMatrix=new THREE.Matrix3,void 0!==Rr.geometry&&void 0===Rr.geometry.__webglInit&&(Rr.geometry.__webglInit=!0,Rr.geometry.addEventListener('dispose',Mr)),Ur=Rr.geometry,void 0===Ur);else if(Ur instanceof THREE.BufferGeometry)U(Ur);else if(Rr instanceof THREE.Mesh)for(Vr in zr=Rr.material,void 0===Ur.geometryGroups&&ee(Ur,zr),Ur.geometryGroups)Br=Ur.geometryGroups[Vr],Br.__webglVertexBuffer||(T(Br),L(Br,Rr),Ur.verticesNeedUpdate=!0,Ur.morphTargetsNeedUpdate=!0,Ur.elementsNeedUpdate=!0,Ur.uvsNeedUpdate=!0,Ur.normalsNeedUpdate=!0,Ur.tangentsNeedUpdate=!0,Ur.colorsNeedUpdate=!0);else Rr instanceof THREE.Line?Ur.__webglVertexBuffer||(M(Ur),E(Ur,Rr),Ur.verticesNeedUpdate=!0,Ur.colorsNeedUpdate=!0,Ur.lineDistancesNeedUpdate=!0):Rr instanceof THREE.ParticleSystem&&(Ur.__webglVertexBuffer||(S(Ur),A(Ur,Rr),Ur.verticesNeedUpdate=!0,Ur.colorsNeedUpdate=!0));if(void 0===Rr.__webglActive){if(!(Rr instanceof THREE.Mesh))Rr instanceof THREE.Line||Rr instanceof THREE.ParticleSystem?(Ur=Rr.geometry,oe(Fr.__webglObjects,Ur,Rr)):Rr instanceof THREE.ImmediateRenderObject||Rr.immediateRenderCallback?ie(Fr.__webglObjectsImmediate,Rr):Rr instanceof THREE.Sprite?Fr.__webglSprites.push(Rr):Rr instanceof THREE.LensFlare&&Fr.__webglFlares.push(Rr);else if(Ur=Rr.geometry,Ur instanceof THREE.BufferGeometry)oe(Fr.__webglObjects,Ur,Rr);else if(Ur instanceof THREE.Geometry)for(Vr in Ur.geometryGroups)Br=Ur.geometryGroups[Vr],oe(Fr.__webglObjects,Br,Rr);Rr.__webglActive=!0}}function oe(Rr,Fr,Vr){Rr.push({id:null,buffer:Fr,object:Vr,opaque:null,transparent:null,z:0})}function ie(Rr,Fr){Rr.push({id:null,object:Fr,opaque:null,transparent:null,z:0})}function ne(Rr){var Fr=Rr.geometry,Vr,Ur,zr;if(Fr instanceof THREE.BufferGeometry)O(Fr,Kt.DYNAMIC_DRAW,!Fr.dynamic);else if(Rr instanceof THREE.Mesh){for(var Br=0,Nr=Fr.geometryGroupsList.length;Br<Nr;Br++)Vr=Fr.geometryGroupsList[Br],zr=P(Rr,Vr),Fr.buffersNeedUpdate&&L(Vr,Rr),Ur=zr.attributes&&se(zr),(Fr.verticesNeedUpdate||Fr.morphTargetsNeedUpdate||Fr.elementsNeedUpdate||Fr.uvsNeedUpdate||Fr.normalsNeedUpdate||Fr.colorsNeedUpdate||Fr.tangentsNeedUpdate||Ur)&&I(Vr,Rr,Kt.DYNAMIC_DRAW,!Fr.dynamic,zr);Fr.verticesNeedUpdate=!1,Fr.morphTargetsNeedUpdate=!1,Fr.elementsNeedUpdate=!1,Fr.uvsNeedUpdate=!1,Fr.normalsNeedUpdate=!1,Fr.colorsNeedUpdate=!1,Fr.tangentsNeedUpdate=!1,Fr.buffersNeedUpdate=!1,zr.attributes&&le(zr)}else Rr instanceof THREE.Line?(zr=P(Rr,Fr),Ur=zr.attributes&&se(zr),(Fr.verticesNeedUpdate||Fr.colorsNeedUpdate||Fr.lineDistancesNeedUpdate||Ur)&&N(Fr,Kt.DYNAMIC_DRAW),Fr.verticesNeedUpdate=!1,Fr.colorsNeedUpdate=!1,Fr.lineDistancesNeedUpdate=!1,zr.attributes&&le(zr)):Rr instanceof THREE.ParticleSystem&&(zr=P(Rr,Fr),Ur=zr.attributes&&se(zr),(Fr.verticesNeedUpdate||Fr.colorsNeedUpdate||Rr.sortParticles||Ur)&&B(Fr,Kt.DYNAMIC_DRAW,Rr),Fr.verticesNeedUpdate=!1,Fr.colorsNeedUpdate=!1,zr.attributes&&le(zr))}function se(Rr){for(var Fr in Rr.attributes)if(Rr.attributes[Fr].needsUpdate)return!0;return!1}function le(Rr){for(var Fr in Rr.attributes)Rr.attributes[Fr].needsUpdate=!1}function pe(Rr,Fr){Rr instanceof THREE.Mesh||Rr instanceof THREE.ParticleSystem||Rr instanceof THREE.Line?ue(Fr.__webglObjects,Rr):Rr instanceof THREE.Sprite?he(Fr.__webglSprites,Rr):Rr instanceof THREE.LensFlare?he(Fr.__webglFlares,Rr):(Rr instanceof THREE.ImmediateRenderObject||Rr.immediateRenderCallback)&&ue(Fr.__webglObjectsImmediate,Rr),delete Rr.__webglActive}function ue(Rr,Fr){for(var Vr=Rr.length-1;0<=Vr;Vr--)Rr[Vr].object===Fr&&Rr.splice(Vr,1)}function he(Rr,Fr){for(var Vr=Rr.length-1;0<=Vr;Vr--)Rr[Vr]===Fr&&Rr.splice(Vr,1)}function fe(Rr,Fr){Rr.uniforms=THREE.UniformsUtils.clone(Fr.uniforms),Rr.vertexShader=Fr.vertexShader,Rr.fragmentShader=Fr.fragmentShader}function ge(Rr,Fr,Vr,Ur,zr){St=0,Ur.needsUpdate&&(Ur.program&&Dr(Ur),ut.initMaterial(Ur,Fr,Vr,zr),Ur.needsUpdate=!1),Ur.morphTargets&&!zr.__webglMorphTargetInfluences&&(zr.__webglMorphTargetInfluences=new Float32Array(ut.maxMorphTargets));var Br=!1,Nr=Ur.program,Ir=Nr.uniforms,Or=Ur.uniforms;if(Nr!==gt&&(Kt.useProgram(Nr),gt=Nr,Br=!0),Ur.id!==xt&&(xt=Ur.id,Br=!0),(Br||Rr!==_t)&&(Kt.uniformMatrix4fv(Ir.projectionMatrix,!1,Rr.projectionMatrix.elements),Rr!==_t&&(_t=Rr)),Ur.skinning)if(sr&&zr.useVertexTexture){if(null!==Ir.boneTexture){var kr=Ee();Kt.uniform1i(Ir.boneTexture,kr),ut.setTexture(zr.boneTexture,kr)}null!==Ir.boneTextureWidth&&Kt.uniform1i(Ir.boneTextureWidth,zr.boneTextureWidth),null!==Ir.boneTextureHeight&&Kt.uniform1i(Ir.boneTextureHeight,zr.boneTextureHeight)}else null!==Ir.boneGlobalMatrices&&Kt.uniformMatrix4fv(Ir.boneGlobalMatrices,!1,zr.boneMatrices);return Br&&(Vr&&Ur.fog&&Se(Or,Vr),(Ur instanceof THREE.MeshPhongMaterial||Ur instanceof THREE.MeshLambertMaterial||Ur.lights)&&(qt&&(Fe(Nr,Fr),qt=!1),Ce(Or,Yt)),(Ur instanceof THREE.MeshBasicMaterial||Ur instanceof THREE.MeshLambertMaterial||Ur instanceof THREE.MeshPhongMaterial)&&ye(Or,Ur),Ur instanceof THREE.LineBasicMaterial?xe(Or,Ur):Ur instanceof THREE.LineDashedMaterial?(xe(Or,Ur),ve(Or,Ur)):Ur instanceof THREE.ParticleSystemMaterial?_e(Or,Ur):Ur instanceof THREE.MeshPhongMaterial?Me(Or,Ur):Ur instanceof THREE.MeshLambertMaterial?Te(Or,Ur):Ur instanceof THREE.MeshDepthMaterial?(Or.mNear.value=Rr.near,Or.mFar.value=Rr.far,Or.opacity.value=Ur.opacity):Ur instanceof THREE.MeshNormalMaterial&&(Or.opacity.value=Ur.opacity),zr.receiveShadow&&!Ur._shadowPass&&Ae(Or,Fr),Le(Nr,Ur.uniformsList),(Ur instanceof THREE.ShaderMaterial||Ur instanceof THREE.MeshPhongMaterial||Ur.envMap)&&null!==Ir.cameraPosition&&(jt.setFromMatrixPosition(Rr.matrixWorld),Kt.uniform3f(Ir.cameraPosition,jt.x,jt.y,jt.z)),(Ur instanceof THREE.MeshPhongMaterial||Ur instanceof THREE.MeshLambertMaterial||Ur instanceof THREE.ShaderMaterial||Ur.skinning)&&null!==Ir.viewMatrix&&Kt.uniformMatrix4fv(Ir.viewMatrix,!1,Rr.matrixWorldInverse.elements)),we(Ir,zr),null!==Ir.modelMatrix&&Kt.uniformMatrix4fv(Ir.modelMatrix,!1,zr.matrixWorld.elements),Nr}function ye(Rr,Fr){Rr.opacity.value=Fr.opacity,ut.gammaInput?Rr.diffuse.value.copyGammaToLinear(Fr.color):Rr.diffuse.value=Fr.color,Rr.map.value=Fr.map,Rr.lightMap.value=Fr.lightMap,Rr.specularMap.value=Fr.specularMap,Fr.bumpMap&&(Rr.bumpMap.value=Fr.bumpMap,Rr.bumpScale.value=Fr.bumpScale),Fr.normalMap&&(Rr.normalMap.value=Fr.normalMap,Rr.normalScale.value.copy(Fr.normalScale));var Vr;if(Fr.map?Vr=Fr.map:Fr.specularMap?Vr=Fr.specularMap:Fr.normalMap?Vr=Fr.normalMap:Fr.bumpMap&&(Vr=Fr.bumpMap),void 0!==Vr){var Ur=Vr.offset,zr=Vr.repeat;Rr.offsetRepeat.value.set(Ur.x,Ur.y,zr.x,zr.y)}Rr.envMap.value=Fr.envMap,Rr.flipEnvMap.value=Fr.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,Rr.reflectivity.value=ut.gammaInput?Fr.reflectivity:Fr.reflectivity,Rr.refractionRatio.value=Fr.refractionRatio,Rr.combine.value=Fr.combine,Rr.useRefract.value=Fr.envMap&&Fr.envMap.mapping instanceof THREE.CubeRefractionMapping}function xe(Rr,Fr){Rr.diffuse.value=Fr.color,Rr.opacity.value=Fr.opacity}function ve(Rr,Fr){Rr.dashSize.value=Fr.dashSize,Rr.totalSize.value=Fr.dashSize+Fr.gapSize,Rr.scale.value=Fr.scale}function _e(Rr,Fr){Rr.psColor.value=Fr.color,Rr.opacity.value=Fr.opacity,Rr.size.value=Fr.size,Rr.scale.value=at.height/2,Rr.map.value=Fr.map}function Se(Rr,Fr){Rr.fogColor.value=Fr.color,Fr instanceof THREE.Fog?(Rr.fogNear.value=Fr.near,Rr.fogFar.value=Fr.far):Fr instanceof THREE.FogExp2&&(Rr.fogDensity.value=Fr.density)}function Me(Rr,Fr){Rr.shininess.value=Fr.shininess,ut.gammaInput?(Rr.ambient.value.copyGammaToLinear(Fr.ambient),Rr.emissive.value.copyGammaToLinear(Fr.emissive),Rr.specular.value.copyGammaToLinear(Fr.specular)):(Rr.ambient.value=Fr.ambient,Rr.emissive.value=Fr.emissive,Rr.specular.value=Fr.specular),Fr.wrapAround&&Rr.wrapRGB.value.copy(Fr.wrapRGB)}function Te(Rr,Fr){ut.gammaInput?(Rr.ambient.value.copyGammaToLinear(Fr.ambient),Rr.emissive.value.copyGammaToLinear(Fr.emissive)):(Rr.ambient.value=Fr.ambient,Rr.emissive.value=Fr.emissive),Fr.wrapAround&&Rr.wrapRGB.value.copy(Fr.wrapRGB)}function Ce(Rr,Fr){Rr.ambientLightColor.value=Fr.ambient,Rr.directionalLightColor.value=Fr.directional.colors,Rr.directionalLightDirection.value=Fr.directional.positions,Rr.pointLightColor.value=Fr.point.colors,Rr.pointLightPosition.value=Fr.point.positions,Rr.pointLightDistance.value=Fr.point.distances,Rr.spotLightColor.value=Fr.spot.colors,Rr.spotLightPosition.value=Fr.spot.positions,Rr.spotLightDistance.value=Fr.spot.distances,Rr.spotLightDirection.value=Fr.spot.directions,Rr.spotLightAngleCos.value=Fr.spot.anglesCos,Rr.spotLightExponent.value=Fr.spot.exponents,Rr.hemisphereLightSkyColor.value=Fr.hemi.skyColors,Rr.hemisphereLightGroundColor.value=Fr.hemi.groundColors,Rr.hemisphereLightDirection.value=Fr.hemi.positions}function Ae(Rr,Fr){if(Rr.shadowMatrix)for(var Vr=0,Ur=0,zr=Fr.length,Br;Ur<zr;Ur++)Br=Fr[Ur],Br.castShadow&&(Br instanceof THREE.SpotLight||Br instanceof THREE.DirectionalLight&&!Br.shadowCascade)&&(Rr.shadowMap.value[Vr]=Br.shadowMap,Rr.shadowMapSize.value[Vr]=Br.shadowMapSize,Rr.shadowMatrix.value[Vr]=Br.shadowMatrix,Rr.shadowDarkness.value[Vr]=Br.shadowDarkness,Rr.shadowBias.value[Vr]=Br.shadowBias,Vr++)}function we(Rr,Fr){Kt.uniformMatrix4fv(Rr.modelViewMatrix,!1,Fr._modelViewMatrix.elements),Rr.normalMatrix&&Kt.uniformMatrix3fv(Rr.normalMatrix,!1,Fr._normalMatrix.elements)}function Ee(){var Rr=St;return Rr>=tr&&console.warn('WebGLRenderer: trying to use '+Rr+' texture units while this GPU supports only '+tr),St+=1,Rr}function Le(Rr,Fr){var Vr,Ur,zr,Br,Nr,Ir,Or,kr,Gr,Hr,Wr;for(Gr=0,Hr=Fr.length;Gr<Hr;Gr++)if(Br=Rr.uniforms[Fr[Gr][1]],Br)if(Vr=Fr[Gr][0],zr=Vr.type,Ur=Vr.value,'i'===zr)Kt.uniform1i(Br,Ur);else if('f'===zr)Kt.uniform1f(Br,Ur);else if('v2'===zr)Kt.uniform2f(Br,Ur.x,Ur.y);else if('v3'===zr)Kt.uniform3f(Br,Ur.x,Ur.y,Ur.z);else if('v4'===zr)Kt.uniform4f(Br,Ur.x,Ur.y,Ur.z,Ur.w);else if('c'===zr)Kt.uniform3f(Br,Ur.r,Ur.g,Ur.b);else if('iv1'===zr)Kt.uniform1iv(Br,Ur);else if('iv'===zr)Kt.uniform3iv(Br,Ur);else if('fv1'===zr)Kt.uniform1fv(Br,Ur);else if('fv'===zr)Kt.uniform3fv(Br,Ur);else if('v2v'===zr){for(void 0===Vr._array&&(Vr._array=new Float32Array(2*Ur.length)),Or=0,kr=Ur.length;Or<kr;Or++)Wr=2*Or,Vr._array[Wr]=Ur[Or].x,Vr._array[Wr+1]=Ur[Or].y;Kt.uniform2fv(Br,Vr._array)}else if('v3v'===zr){for(void 0===Vr._array&&(Vr._array=new Float32Array(3*Ur.length)),Or=0,kr=Ur.length;Or<kr;Or++)Wr=3*Or,Vr._array[Wr]=Ur[Or].x,Vr._array[Wr+1]=Ur[Or].y,Vr._array[Wr+2]=Ur[Or].z;Kt.uniform3fv(Br,Vr._array)}else if('v4v'===zr){for(void 0===Vr._array&&(Vr._array=new Float32Array(4*Ur.length)),Or=0,kr=Ur.length;Or<kr;Or++)Wr=4*Or,Vr._array[Wr]=Ur[Or].x,Vr._array[Wr+1]=Ur[Or].y,Vr._array[Wr+2]=Ur[Or].z,Vr._array[Wr+3]=Ur[Or].w;Kt.uniform4fv(Br,Vr._array)}else if('m4'===zr)void 0===Vr._array&&(Vr._array=new Float32Array(16)),Ur.flattenToArray(Vr._array),Kt.uniformMatrix4fv(Br,!1,Vr._array);else if('m4v'===zr){for(void 0===Vr._array&&(Vr._array=new Float32Array(16*Ur.length)),Or=0,kr=Ur.length;Or<kr;Or++)Ur[Or].flattenToArrayOffset(Vr._array,16*Or);Kt.uniformMatrix4fv(Br,!1,Vr._array)}else if('t'===zr){if(Nr=Ur,Ir=Ee(),Kt.uniform1i(Br,Ir),!Nr)continue;Nr.image instanceof Array&&6===Nr.image.length?je(Nr,Ir):Nr instanceof THREE.WebGLRenderTargetCube?Xe(Nr,Ir):ut.setTexture(Nr,Ir)}else if('tv'===zr){for(void 0===Vr._array&&(Vr._array=[]),Or=0,kr=Vr.value.length;Or<kr;Or++)Vr._array[Or]=Ee();for(Kt.uniform1iv(Br,Vr._array),Or=0,kr=Vr.value.length;Or<kr;Or++)Nr=Vr.value[Or],Ir=Vr._array[Or],Nr&&ut.setTexture(Nr,Ir)}else console.warn('THREE.WebGLRenderer: Unknown uniform type: '+zr)}function Pe(Rr,Fr){Rr._modelViewMatrix.multiplyMatrices(Fr.matrixWorldInverse,Rr.matrixWorld),Rr._normalMatrix.getNormalMatrix(Rr._modelViewMatrix)}function De(Rr,Fr,Vr,Ur){Rr[Fr]=Vr.r*Vr.r*Ur,Rr[Fr+1]=Vr.g*Vr.g*Ur,Rr[Fr+2]=Vr.b*Vr.b*Ur}function Re(Rr,Fr,Vr,Ur){Rr[Fr]=Vr.r*Ur,Rr[Fr+1]=Vr.g*Ur,Rr[Fr+2]=Vr.b*Ur}function Fe(Rr,Fr){var Nr=0,Ir=0,Or=0,Yr=Yt,Kr=Yr.directional.colors,Qr=Yr.directional.positions,Zr=Yr.point.colors,Jr=Yr.point.positions,$r=Yr.point.distances,ea=Yr.spot.colors,ra=Yr.spot.positions,aa=Yr.spot.distances,oa=Yr.spot.directions,ia=Yr.spot.anglesCos,sa=Yr.spot.exponents,la=Yr.hemi.skyColors,da=Yr.hemi.groundColors,ma=Yr.hemi.positions,ha=0,fa=0,ga=0,ya=0,xa=0,va=0,_a=0,ba=0,Sa=0,Ma=0,Ta=0,Ca=0,Vr,Ur,zr,kr,Gr,Hr,Wr,jr,qr;for(Vr=0,Ur=Fr.length;Vr<Ur;Vr++)if(zr=Fr[Vr],!zr.onlyShadow)if(kr=zr.color,Wr=zr.intensity,qr=zr.distance,zr instanceof THREE.AmbientLight){if(!zr.visible)continue;ut.gammaInput?(Nr+=kr.r*kr.r,Ir+=kr.g*kr.g,Or+=kr.b*kr.b):(Nr+=kr.r,Ir+=kr.g,Or+=kr.b)}else if(zr instanceof THREE.DirectionalLight){if(xa+=1,!zr.visible)continue;if(Xt.setFromMatrixPosition(zr.matrixWorld),jt.setFromMatrixPosition(zr.target.matrixWorld),Xt.sub(jt),Xt.normalize(),0===Xt.x&&0===Xt.y&&0===Xt.z)continue;Sa=3*ha,Qr[Sa]=Xt.x,Qr[Sa+1]=Xt.y,Qr[Sa+2]=Xt.z,ut.gammaInput?De(Kr,Sa,kr,Wr*Wr):Re(Kr,Sa,kr,Wr),ha+=1}else if(zr instanceof THREE.PointLight){if(va+=1,!zr.visible)continue;Ma=3*fa,ut.gammaInput?De(Zr,Ma,kr,Wr*Wr):Re(Zr,Ma,kr,Wr),jt.setFromMatrixPosition(zr.matrixWorld),Jr[Ma]=jt.x,Jr[Ma+1]=jt.y,Jr[Ma+2]=jt.z,$r[fa]=qr,fa+=1}else if(zr instanceof THREE.SpotLight){if(_a+=1,!zr.visible)continue;Ta=3*ga,ut.gammaInput?De(ea,Ta,kr,Wr*Wr):Re(ea,Ta,kr,Wr),jt.setFromMatrixPosition(zr.matrixWorld),ra[Ta]=jt.x,ra[Ta+1]=jt.y,ra[Ta+2]=jt.z,aa[ga]=qr,Xt.copy(jt),jt.setFromMatrixPosition(zr.target.matrixWorld),Xt.sub(jt),Xt.normalize(),oa[Ta]=Xt.x,oa[Ta+1]=Xt.y,oa[Ta+2]=Xt.z,ia[ga]=Math.cos(zr.angle),sa[ga]=zr.exponent,ga+=1}else if(zr instanceof THREE.HemisphereLight){if(ba+=1,!zr.visible)continue;if(Xt.setFromMatrixPosition(zr.matrixWorld),Xt.normalize(),0===Xt.x&&0===Xt.y&&0===Xt.z)continue;Ca=3*ya,ma[Ca]=Xt.x,ma[Ca+1]=Xt.y,ma[Ca+2]=Xt.z,Gr=zr.color,Hr=zr.groundColor,ut.gammaInput?(jr=Wr*Wr,De(la,Ca,Gr,jr),De(da,Ca,Hr,jr)):(Re(la,Ca,Gr,Wr),Re(da,Ca,Hr,Wr)),ya+=1}for(Vr=3*ha,Ur=Math.max(Kr.length,3*xa);Vr<Ur;Vr++)Kr[Vr]=0;for(Vr=3*fa,Ur=Math.max(Zr.length,3*va);Vr<Ur;Vr++)Zr[Vr]=0;for(Vr=3*ga,Ur=Math.max(ea.length,3*_a);Vr<Ur;Vr++)ea[Vr]=0;for(Vr=3*ya,Ur=Math.max(la.length,3*ba);Vr<Ur;Vr++)la[Vr]=0;for(Vr=3*ya,Ur=Math.max(da.length,3*ba);Vr<Ur;Vr++)da[Vr]=0;Yr.directional.length=ha,Yr.point.length=fa,Yr.spot.length=ga,Yr.hemi.length=ya,Yr.ambient[0]=Nr,Yr.ambient[1]=Ir,Yr.ambient[2]=Or}function Ve(Rr){Rr!==Vt&&(Kt.lineWidth(Rr),Vt=Rr)}function Ue(Rr,Fr,Vr){Dt!==Rr&&(Rr?Kt.enable(Kt.POLYGON_OFFSET_FILL):Kt.disable(Kt.POLYGON_OFFSET_FILL),Dt=Rr),Rr&&(Rt!==Fr||Ft!==Vr)&&(Kt.polygonOffset(Fr,Vr),Rt=Fr,Ft=Vr)}function ze(Rr){var Ur=[],Fr,Vr;for(var zr in Rr)Fr=Rr[zr],!1===Fr||(Vr='#define '+zr+' '+Fr,Ur.push(Vr));return Ur.join('\n')}function Be(Rr,Fr,Vr,Ur,zr,Br,Nr,Ir){var jr=[],Or,kr,Gr,Hr,Wr;for(Gr in Rr?jr.push(Rr):(jr.push(Fr),jr.push(Vr)),Br)jr.push(Gr),jr.push(Br[Gr]);for(Or in Nr)jr.push(Or),jr.push(Nr[Or]);for(Wr=jr.join(),Or=0,kr=ht.length;Or<kr;Or++){var Xr=ht[Or];if(Xr.code===Wr)return Xr.usedTimes++,Xr.program}var qr='SHADOWMAP_TYPE_BASIC';Nr.shadowMapType===THREE.PCFShadowMap?qr='SHADOWMAP_TYPE_PCF':Nr.shadowMapType===THREE.PCFSoftShadowMap&&(qr='SHADOWMAP_TYPE_PCF_SOFT');var Yr=ze(Br);Hr=Kt.createProgram();var Kr=['precision '+ot+' float;','precision '+ot+' int;',Yr,nr?'#define VERTEX_TEXTURES':'',ut.gammaInput?'#define GAMMA_INPUT':'',ut.gammaOutput?'#define GAMMA_OUTPUT':'',ut.physicallyBasedShading?'#define PHYSICALLY_BASED_SHADING':'','#define MAX_DIR_LIGHTS '+Nr.maxDirLights,'#define MAX_POINT_LIGHTS '+Nr.maxPointLights,'#define MAX_SPOT_LIGHTS '+Nr.maxSpotLights,'#define MAX_HEMI_LIGHTS '+Nr.maxHemiLights,'#define MAX_SHADOWS '+Nr.maxShadows,'#define MAX_BONES '+Nr.maxBones,Nr.map?'#define USE_MAP':'',Nr.envMap?'#define USE_ENVMAP':'',Nr.lightMap?'#define USE_LIGHTMAP':'',Nr.bumpMap?'#define USE_BUMPMAP':'',Nr.normalMap?'#define USE_NORMALMAP':'',Nr.specularMap?'#define USE_SPECULARMAP':'',Nr.vertexColors?'#define USE_COLOR':'',Nr.skinning?'#define USE_SKINNING':'',Nr.useVertexTexture?'#define BONE_TEXTURE':'',Nr.morphTargets?'#define USE_MORPHTARGETS':'',Nr.morphNormals?'#define USE_MORPHNORMALS':'',Nr.perPixel?'#define PHONG_PER_PIXEL':'',Nr.wrapAround?'#define WRAP_AROUND':'',Nr.doubleSided?'#define DOUBLE_SIDED':'',Nr.flipSided?'#define FLIP_SIDED':'',Nr.shadowMapEnabled?'#define USE_SHADOWMAP':'',Nr.shadowMapEnabled?'#define '+qr:'',Nr.shadowMapDebug?'#define SHADOWMAP_DEBUG':'',Nr.shadowMapCascade?'#define SHADOWMAP_CASCADE':'',Nr.sizeAttenuation?'#define USE_SIZEATTENUATION':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','attribute vec2 uv2;','#ifdef USE_COLOR','attribute vec3 color;','#endif','#ifdef USE_MORPHTARGETS','attribute vec3 morphTarget0;','attribute vec3 morphTarget1;','attribute vec3 morphTarget2;','attribute vec3 morphTarget3;','#ifdef USE_MORPHNORMALS','attribute vec3 morphNormal0;','attribute vec3 morphNormal1;','attribute vec3 morphNormal2;','attribute vec3 morphNormal3;','#else','attribute vec3 morphTarget4;','attribute vec3 morphTarget5;','attribute vec3 morphTarget6;','attribute vec3 morphTarget7;','#endif','#endif','#ifdef USE_SKINNING','attribute vec4 skinIndex;','attribute vec4 skinWeight;','#endif',''].join('\n'),Qr=['precision '+ot+' float;','precision '+ot+' int;',Nr.bumpMap||Nr.normalMap?'#extension GL_OES_standard_derivatives : enable':'',Yr,'#define MAX_DIR_LIGHTS '+Nr.maxDirLights,'#define MAX_POINT_LIGHTS '+Nr.maxPointLights,'#define MAX_SPOT_LIGHTS '+Nr.maxSpotLights,'#define MAX_HEMI_LIGHTS '+Nr.maxHemiLights,'#define MAX_SHADOWS '+Nr.maxShadows,Nr.alphaTest?'#define ALPHATEST '+Nr.alphaTest:'',ut.gammaInput?'#define GAMMA_INPUT':'',ut.gammaOutput?'#define GAMMA_OUTPUT':'',ut.physicallyBasedShading?'#define PHYSICALLY_BASED_SHADING':'',Nr.useFog&&Nr.fog?'#define USE_FOG':'',Nr.useFog&&Nr.fogExp?'#define FOG_EXP2':'',Nr.map?'#define USE_MAP':'',Nr.envMap?'#define USE_ENVMAP':'',Nr.lightMap?'#define USE_LIGHTMAP':'',Nr.bumpMap?'#define USE_BUMPMAP':'',Nr.normalMap?'#define USE_NORMALMAP':'',Nr.specularMap?'#define USE_SPECULARMAP':'',Nr.vertexColors?'#define USE_COLOR':'',Nr.metal?'#define METAL':'',Nr.perPixel?'#define PHONG_PER_PIXEL':'',Nr.wrapAround?'#define WRAP_AROUND':'',Nr.doubleSided?'#define DOUBLE_SIDED':'',Nr.flipSided?'#define FLIP_SIDED':'',Nr.shadowMapEnabled?'#define USE_SHADOWMAP':'',Nr.shadowMapEnabled?'#define '+qr:'',Nr.shadowMapDebug?'#define SHADOWMAP_DEBUG':'',Nr.shadowMapCascade?'#define SHADOWMAP_CASCADE':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;',''].join('\n'),Zr=ke('vertex',Kr+Vr),Jr=ke('fragment',Qr+Fr);Kt.attachShader(Hr,Zr),Kt.attachShader(Hr,Jr),Ir&&Kt.bindAttribLocation(Hr,0,Ir),Kt.linkProgram(Hr),Kt.getProgramParameter(Hr,Kt.LINK_STATUS)||(console.error('Could not initialise shader\nVALIDATE_STATUS: '+Kt.getProgramParameter(Hr,Kt.VALIDATE_STATUS)+', gl error ['+Kt.getError()+']'),console.error('Program Info Log: '+Kt.getProgramInfoLog(Hr))),Kt.deleteShader(Jr),Kt.deleteShader(Zr),Hr.uniforms={},Hr.attributes={};var $r,ea,ra,aa;for(ea in $r=['viewMatrix','modelViewMatrix','projectionMatrix','normalMatrix','modelMatrix','cameraPosition','morphTargetInfluences'],Nr.useVertexTexture?($r.push('boneTexture'),$r.push('boneTextureWidth'),$r.push('boneTextureHeight')):$r.push('boneGlobalMatrices'),Ur)$r.push(ea);for(Ne(Hr,$r),$r=['position','normal','uv','uv2','tangent','color','skinIndex','skinWeight','lineDistance'],aa=0;aa<Nr.maxMorphTargets;aa++)$r.push('morphTarget'+aa);for(aa=0;aa<Nr.maxMorphNormals;aa++)$r.push('morphNormal'+aa);for(ra in zr)$r.push(ra);return Ie(Hr,$r),Hr.id=ft++,ht.push({program:Hr,code:Wr,usedTimes:1}),ut.info.memory.programs=ht.length,Hr}function Ne(Rr,Fr){var Vr,Ur,zr;for(Vr=0,Ur=Fr.length;Vr<Ur;Vr++)zr=Fr[Vr],Rr.uniforms[zr]=Kt.getUniformLocation(Rr,zr)}function Ie(Rr,Fr){var Vr,Ur,zr;for(Vr=0,Ur=Fr.length;Vr<Ur;Vr++)zr=Fr[Vr],Rr.attributes[zr]=Kt.getAttribLocation(Rr,zr)}function Oe(Rr){for(var Fr=Rr.split('\n'),Vr=0,Ur=Fr.length;Vr<Ur;Vr++)Fr[Vr]=Vr+1+': '+Fr[Vr];return Fr.join('\n')}function ke(Rr,Fr){var Vr;return'fragment'===Rr?Vr=Kt.createShader(Kt.FRAGMENT_SHADER):'vertex'===Rr&&(Vr=Kt.createShader(Kt.VERTEX_SHADER)),Kt.shaderSource(Vr,Fr),Kt.compileShader(Vr),Kt.getShaderParameter(Vr,Kt.COMPILE_STATUS)?Vr:(console.error(Kt.getShaderInfoLog(Vr)),console.error(Oe(Fr)),null)}function Ge(Rr){return 0===(Rr&Rr-1)}function He(Rr,Fr,Vr){Vr?(Kt.texParameteri(Rr,Kt.TEXTURE_WRAP_S,Ze(Fr.wrapS)),Kt.texParameteri(Rr,Kt.TEXTURE_WRAP_T,Ze(Fr.wrapT)),Kt.texParameteri(Rr,Kt.TEXTURE_MAG_FILTER,Ze(Fr.magFilter)),Kt.texParameteri(Rr,Kt.TEXTURE_MIN_FILTER,Ze(Fr.minFilter))):(Kt.texParameteri(Rr,Kt.TEXTURE_WRAP_S,Kt.CLAMP_TO_EDGE),Kt.texParameteri(Rr,Kt.TEXTURE_WRAP_T,Kt.CLAMP_TO_EDGE),Kt.texParameteri(Rr,Kt.TEXTURE_MAG_FILTER,Qe(Fr.magFilter)),Kt.texParameteri(Rr,Kt.TEXTURE_MIN_FILTER,Qe(Fr.minFilter))),$t&&Fr.type!==THREE.FloatType&&(1<Fr.anisotropy||Fr.__oldAnisotropy)&&(Kt.texParameterf(Rr,$t.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Fr.anisotropy,ir)),Fr.__oldAnisotropy=Fr.anisotropy)}function We(Rr,Fr){if(Rr.width<=Fr&&Rr.height<=Fr)return Rr;var Vr=Math.max(Rr.width,Rr.height),Ur=Math.floor(Rr.width*Fr/Vr),zr=Math.floor(Rr.height*Fr/Vr),Br=document.createElement('canvas');Br.width=Ur,Br.height=zr;var Nr=Br.getContext('2d');return Nr.drawImage(Rr,0,0,Rr.width,Rr.height,0,0,Ur,zr),Br}function je(Rr,Fr){if(6===Rr.image.length)if(Rr.needsUpdate){Rr.image.__webglTextureCube||(Rr.addEventListener('dispose',Tr),Rr.image.__webglTextureCube=Kt.createTexture(),ut.info.memory.textures++),Kt.activeTexture(Kt.TEXTURE0+Fr),Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,Rr.image.__webglTextureCube),Kt.pixelStorei(Kt.UNPACK_FLIP_Y_WEBGL,Rr.flipY);for(var Vr=Rr instanceof THREE.CompressedTexture,Ur=[],zr=0;6>zr;zr++)Ur[zr]=ut.autoScaleCubemaps&&!Vr?We(Rr.image[zr],or):Rr.image[zr];var Br=Ur[0],Nr=Ge(Br.width)&&Ge(Br.height),Ir=Ze(Rr.format),Or=Ze(Rr.type);He(Kt.TEXTURE_CUBE_MAP,Rr,Nr);for(var zr=0;6>zr;zr++)if(!Vr)Kt.texImage2D(Kt.TEXTURE_CUBE_MAP_POSITIVE_X+zr,0,Ir,Ir,Or,Ur[zr]);else for(var Gr=Ur[zr].mipmaps,Hr=0,Wr=Gr.length,kr;Hr<Wr;Hr++)kr=Gr[Hr],Rr.format===THREE.RGBAFormat?Kt.texImage2D(Kt.TEXTURE_CUBE_MAP_POSITIVE_X+zr,Hr,Ir,kr.width,kr.height,0,Ir,Or,kr.data):Kt.compressedTexImage2D(Kt.TEXTURE_CUBE_MAP_POSITIVE_X+zr,Hr,Ir,kr.width,kr.height,0,kr.data);Rr.generateMipmaps&&Nr&&Kt.generateMipmap(Kt.TEXTURE_CUBE_MAP),Rr.needsUpdate=!1,Rr.onUpdate&&Rr.onUpdate()}else Kt.activeTexture(Kt.TEXTURE0+Fr),Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,Rr.image.__webglTextureCube)}function Xe(Rr,Fr){Kt.activeTexture(Kt.TEXTURE0+Fr),Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,Rr.__webglTexture)}function qe(Rr,Fr,Vr){Kt.bindFramebuffer(Kt.FRAMEBUFFER,Rr),Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Vr,Fr.__webglTexture,0)}function Ye(Rr,Fr){Kt.bindRenderbuffer(Kt.RENDERBUFFER,Rr),Fr.depthBuffer&&!Fr.stencilBuffer?(Kt.renderbufferStorage(Kt.RENDERBUFFER,Kt.DEPTH_COMPONENT16,Fr.width,Fr.height),Kt.framebufferRenderbuffer(Kt.FRAMEBUFFER,Kt.DEPTH_ATTACHMENT,Kt.RENDERBUFFER,Rr)):Fr.depthBuffer&&Fr.stencilBuffer?(Kt.renderbufferStorage(Kt.RENDERBUFFER,Kt.DEPTH_STENCIL,Fr.width,Fr.height),Kt.framebufferRenderbuffer(Kt.FRAMEBUFFER,Kt.DEPTH_STENCIL_ATTACHMENT,Kt.RENDERBUFFER,Rr)):Kt.renderbufferStorage(Kt.RENDERBUFFER,Kt.RGBA4,Fr.width,Fr.height)}function Ke(Rr){Rr instanceof THREE.WebGLRenderTargetCube?(Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,Rr.__webglTexture),Kt.generateMipmap(Kt.TEXTURE_CUBE_MAP),Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,null)):(Kt.bindTexture(Kt.TEXTURE_2D,Rr.__webglTexture),Kt.generateMipmap(Kt.TEXTURE_2D),Kt.bindTexture(Kt.TEXTURE_2D,null))}function Qe(Rr){return Rr===THREE.NearestFilter||Rr===THREE.NearestMipMapNearestFilter||Rr===THREE.NearestMipMapLinearFilter?Kt.NEAREST:Kt.LINEAR}function Ze(Rr){if(Rr===THREE.RepeatWrapping)return Kt.REPEAT;if(Rr===THREE.ClampToEdgeWrapping)return Kt.CLAMP_TO_EDGE;if(Rr===THREE.MirroredRepeatWrapping)return Kt.MIRRORED_REPEAT;if(Rr===THREE.NearestFilter)return Kt.NEAREST;if(Rr===THREE.NearestMipMapNearestFilter)return Kt.NEAREST_MIPMAP_NEAREST;if(Rr===THREE.NearestMipMapLinearFilter)return Kt.NEAREST_MIPMAP_LINEAR;if(Rr===THREE.LinearFilter)return Kt.LINEAR;if(Rr===THREE.LinearMipMapNearestFilter)return Kt.LINEAR_MIPMAP_NEAREST;if(Rr===THREE.LinearMipMapLinearFilter)return Kt.LINEAR_MIPMAP_LINEAR;if(Rr===THREE.UnsignedByteType)return Kt.UNSIGNED_BYTE;if(Rr===THREE.UnsignedShort4444Type)return Kt.UNSIGNED_SHORT_4_4_4_4;if(Rr===THREE.UnsignedShort5551Type)return Kt.UNSIGNED_SHORT_5_5_5_1;if(Rr===THREE.UnsignedShort565Type)return Kt.UNSIGNED_SHORT_5_6_5;if(Rr===THREE.ByteType)return Kt.BYTE;if(Rr===THREE.ShortType)return Kt.SHORT;if(Rr===THREE.UnsignedShortType)return Kt.UNSIGNED_SHORT;if(Rr===THREE.IntType)return Kt.INT;if(Rr===THREE.UnsignedIntType)return Kt.UNSIGNED_INT;if(Rr===THREE.FloatType)return Kt.FLOAT;if(Rr===THREE.AlphaFormat)return Kt.ALPHA;if(Rr===THREE.RGBFormat)return Kt.RGB;if(Rr===THREE.RGBAFormat)return Kt.RGBA;if(Rr===THREE.LuminanceFormat)return Kt.LUMINANCE;if(Rr===THREE.LuminanceAlphaFormat)return Kt.LUMINANCE_ALPHA;if(Rr===THREE.AddEquation)return Kt.FUNC_ADD;if(Rr===THREE.SubtractEquation)return Kt.FUNC_SUBTRACT;if(Rr===THREE.ReverseSubtractEquation)return Kt.FUNC_REVERSE_SUBTRACT;if(Rr===THREE.ZeroFactor)return Kt.ZERO;if(Rr===THREE.OneFactor)return Kt.ONE;if(Rr===THREE.SrcColorFactor)return Kt.SRC_COLOR;if(Rr===THREE.OneMinusSrcColorFactor)return Kt.ONE_MINUS_SRC_COLOR;if(Rr===THREE.SrcAlphaFactor)return Kt.SRC_ALPHA;if(Rr===THREE.OneMinusSrcAlphaFactor)return Kt.ONE_MINUS_SRC_ALPHA;if(Rr===THREE.DstAlphaFactor)return Kt.DST_ALPHA;if(Rr===THREE.OneMinusDstAlphaFactor)return Kt.ONE_MINUS_DST_ALPHA;if(Rr===THREE.DstColorFactor)return Kt.DST_COLOR;if(Rr===THREE.OneMinusDstColorFactor)return Kt.ONE_MINUS_DST_COLOR;if(Rr===THREE.SrcAlphaSaturateFactor)return Kt.SRC_ALPHA_SATURATE;if(void 0!==er){if(Rr===THREE.RGB_S3TC_DXT1_Format)return er.COMPRESSED_RGB_S3TC_DXT1_EXT;if(Rr===THREE.RGBA_S3TC_DXT1_Format)return er.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(Rr===THREE.RGBA_S3TC_DXT3_Format)return er.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(Rr===THREE.RGBA_S3TC_DXT5_Format)return er.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}function Je(Rr){if(sr&&Rr&&Rr.useVertexTexture)return 1024;var Fr=Kt.getParameter(Kt.MAX_VERTEX_UNIFORM_VECTORS),Vr=Math.floor((Fr-20)/4),Ur=Vr;return void 0!==Rr&&Rr instanceof THREE.SkinnedMesh&&(Ur=Math.min(Rr.bones.length,Ur),Ur<Rr.bones.length&&console.warn('WebGLRenderer: too many bones - '+Rr.bones.length+', this GPU supports just '+Ur+' (try OpenGL instead of ANGLE)')),Ur}function $e(Rr){for(var Fr=0,Vr=0,Ur=0,zr=0,Br=0,Nr=Rr.length,Ir;Br<Nr;Br++)Ir=Rr[Br],Ir.onlyShadow||(Ir instanceof THREE.DirectionalLight&&Fr++,Ir instanceof THREE.PointLight&&Vr++,Ir instanceof THREE.SpotLight&&Ur++,Ir instanceof THREE.HemisphereLight&&zr++);return{directional:Fr,point:Vr,spot:Ur,hemi:zr}}function et(Rr){for(var Fr=0,Vr=0,Ur=Rr.length,zr;Vr<Ur;Vr++)zr=Rr[Vr],zr.castShadow&&(zr instanceof THREE.SpotLight&&Fr++,zr instanceof THREE.DirectionalLight&&!zr.shadowCascade&&Fr++);return Fr}console.log('THREE.WebGLRenderer',THREE.REVISION),_=_||{};var at=_.canvas===void 0?document.createElement('canvas'):_.canvas,ot=_.precision===void 0?'highp':_.precision,it=_.alpha!==void 0&&_.alpha,nt=!(_.premultipliedAlpha!==void 0)||_.premultipliedAlpha,st=_.antialias!==void 0&&_.antialias,lt=!(_.stencil!==void 0)||_.stencil,ct=_.preserveDrawingBuffer!==void 0&&_.preserveDrawingBuffer,dt=new THREE.Color(0),mt=0;this.domElement=at,this.context=null,this.devicePixelRatio=_.devicePixelRatio===void 0?self.devicePixelRatio===void 0?1:self.devicePixelRatio:_.devicePixelRatio,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyBasedShading=!1,this.shadowMapEnabled=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var ut=this,ht=[],ft=0,gt=null,yt=null,xt=-1,vt=null,_t=null,bt=0,St=0,Mt=-1,Tt=-1,Ct=-1,At=-1,wt=-1,Et=-1,Lt=-1,Pt=-1,Dt=null,Rt=null,Ft=null,Vt=null,Ut=0,zt=0,Bt=at.width,Nt=at.height,It=0,Ot=0,kt={},Gt=new THREE.Frustum,Ht=new THREE.Matrix4,Wt=new THREE.Matrix4,jt=new THREE.Vector3,Xt=new THREE.Vector3,qt=!0,Yt={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},Kt,Qt,Zt,Jt,$t,er;(function(){try{var Rr={alpha:it,premultipliedAlpha:nt,antialias:st,stencil:lt,preserveDrawingBuffer:ct};if(Kt=at.getContext('webgl',Rr)||at.getContext('experimental-webgl',Rr),null===Kt)throw'Error creating WebGL context.'}catch(Fr){console.error(Fr)}Qt=Kt.getExtension('OES_texture_float'),Zt=Kt.getExtension('OES_texture_float_linear'),Jt=Kt.getExtension('OES_standard_derivatives'),$t=Kt.getExtension('EXT_texture_filter_anisotropic')||Kt.getExtension('MOZ_EXT_texture_filter_anisotropic')||Kt.getExtension('WEBKIT_EXT_texture_filter_anisotropic'),er=Kt.getExtension('WEBGL_compressed_texture_s3tc')||Kt.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||Kt.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc'),Qt||console.log('THREE.WebGLRenderer: Float textures not supported.'),Jt||console.log('THREE.WebGLRenderer: Standard derivatives not supported.'),$t||console.log('THREE.WebGLRenderer: Anisotropic texture filtering not supported.'),er||console.log('THREE.WebGLRenderer: S3TC compressed textures not supported.'),Kt.getShaderPrecisionFormat===void 0&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})})(),function(){Kt.clearColor(0,0,0,1),Kt.clearDepth(1),Kt.clearStencil(0),Kt.enable(Kt.DEPTH_TEST),Kt.depthFunc(Kt.LEQUAL),Kt.frontFace(Kt.CCW),Kt.cullFace(Kt.BACK),Kt.enable(Kt.CULL_FACE),Kt.enable(Kt.BLEND),Kt.blendEquation(Kt.FUNC_ADD),Kt.blendFunc(Kt.SRC_ALPHA,Kt.ONE_MINUS_SRC_ALPHA),Kt.viewport(Ut,zt,Bt,Nt),Kt.clearColor(dt.r,dt.g,dt.b,mt)}(),this.context=Kt;var tr=Kt.getParameter(Kt.MAX_TEXTURE_IMAGE_UNITS),rr=Kt.getParameter(Kt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ar=Kt.getParameter(Kt.MAX_TEXTURE_SIZE),or=Kt.getParameter(Kt.MAX_CUBE_MAP_TEXTURE_SIZE),ir=$t?Kt.getParameter($t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,nr=0<rr,sr=nr&&Qt,lr=er?Kt.getParameter(Kt.COMPRESSED_TEXTURE_FORMATS):[],pr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.HIGH_FLOAT),cr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.MEDIUM_FLOAT),dr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.LOW_FLOAT),mr=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.HIGH_FLOAT),ur=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.MEDIUM_FLOAT),hr=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.LOW_FLOAT),fr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.HIGH_INT),gr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.MEDIUM_INT),yr=Kt.getShaderPrecisionFormat(Kt.VERTEX_SHADER,Kt.LOW_INT),xr=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.HIGH_INT),vr=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.MEDIUM_INT),_r=Kt.getShaderPrecisionFormat(Kt.FRAGMENT_SHADER,Kt.LOW_INT),br=0<pr.precision&&0<mr.precision,Sr=0<cr.precision&&0<ur.precision;'highp'!==ot||br||(Sr?(ot='mediump',console.warn('WebGLRenderer: highp not supported, using mediump')):(ot='lowp',console.warn('WebGLRenderer: highp and mediump not supported, using lowp'))),'mediump'!==ot||Sr||(ot='lowp',console.warn('WebGLRenderer: mediump not supported, using lowp')),this.getContext=function(){return Kt},this.supportsVertexTextures=function(){return nr},this.supportsFloatTextures=function(){return Qt},this.supportsStandardDerivatives=function(){return Jt},this.supportsCompressedTextureS3TC=function(){return er},this.getMaxAnisotropy=function(){return ir},this.getPrecision=function(){return ot},this.setSize=function(Rr,Fr,Vr){at.width=Rr*this.devicePixelRatio,at.height=Fr*this.devicePixelRatio,1!==this.devicePixelRatio&&!1!==Vr&&(at.style.width=Rr+'px',at.style.height=Fr+'px'),this.setViewport(0,0,at.width,at.height)},this.setViewport=function(Rr,Fr,Vr,Ur){Ut=Rr===void 0?0:Rr,zt=Fr===void 0?0:Fr,Bt=Vr===void 0?at.width:Vr,Nt=Ur===void 0?at.height:Ur,Kt.viewport(Ut,zt,Bt,Nt)},this.setScissor=function(Rr,Fr,Vr,Ur){Kt.scissor(Rr,Fr,Vr,Ur)},this.enableScissorTest=function(Rr){Rr?Kt.enable(Kt.SCISSOR_TEST):Kt.disable(Kt.SCISSOR_TEST)},this.setClearColor=function(Rr,Fr){dt.set(Rr),mt=Fr===void 0?1:Fr,Kt.clearColor(dt.r,dt.g,dt.b,mt)},this.setClearColorHex=function(Rr,Fr){console.warn('DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.'),this.setClearColor(Rr,Fr)},this.getClearColor=function(){return dt},this.getClearAlpha=function(){return mt},this.clear=function(Rr,Fr,Vr){var Ur=0;(Rr===void 0||Rr)&&(Ur|=Kt.COLOR_BUFFER_BIT),(Fr===void 0||Fr)&&(Ur|=Kt.DEPTH_BUFFER_BIT),(Vr===void 0||Vr)&&(Ur|=Kt.STENCIL_BUFFER_BIT),Kt.clear(Ur)},this.clearColor=function(){Kt.clear(Kt.COLOR_BUFFER_BIT)},this.clearDepth=function(){Kt.clear(Kt.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Kt.clear(Kt.STENCIL_BUFFER_BIT)},this.clearTarget=function(Rr,Fr,Vr,Ur){this.setRenderTarget(Rr),this.clear(Fr,Vr,Ur)},this.addPostPlugin=function(Rr){Rr.init(this),this.renderPluginsPost.push(Rr)},this.addPrePlugin=function(Rr){Rr.init(this),this.renderPluginsPre.push(Rr)},this.updateShadowMap=function(Rr,Fr){gt=null,Ct=-1,Lt=-1,Pt=-1,vt=-1,xt=-1,qt=!0,Mt=-1,Tt=-1,this.shadowMapPlugin.update(Rr,Fr)};var Mr=function(Rr){var Fr=Rr.target;Fr.removeEventListener('dispose',Mr),Er(Fr)},Tr=function(Rr){var Fr=Rr.target;Fr.removeEventListener('dispose',Tr),Lr(Fr),ut.info.memory.textures--},Cr=function(Rr){var Fr=Rr.target;Fr.removeEventListener('dispose',Cr),Pr(Fr),ut.info.memory.textures--},Ar=function(Rr){var Fr=Rr.target;Fr.removeEventListener('dispose',Ar),Dr(Fr)},wr=function(Rr){if(void 0!==Rr.__webglVertexBuffer&&Kt.deleteBuffer(Rr.__webglVertexBuffer),void 0!==Rr.__webglNormalBuffer&&Kt.deleteBuffer(Rr.__webglNormalBuffer),void 0!==Rr.__webglTangentBuffer&&Kt.deleteBuffer(Rr.__webglTangentBuffer),void 0!==Rr.__webglColorBuffer&&Kt.deleteBuffer(Rr.__webglColorBuffer),void 0!==Rr.__webglUVBuffer&&Kt.deleteBuffer(Rr.__webglUVBuffer),void 0!==Rr.__webglUV2Buffer&&Kt.deleteBuffer(Rr.__webglUV2Buffer),void 0!==Rr.__webglSkinIndicesBuffer&&Kt.deleteBuffer(Rr.__webglSkinIndicesBuffer),void 0!==Rr.__webglSkinWeightsBuffer&&Kt.deleteBuffer(Rr.__webglSkinWeightsBuffer),void 0!==Rr.__webglFaceBuffer&&Kt.deleteBuffer(Rr.__webglFaceBuffer),void 0!==Rr.__webglLineBuffer&&Kt.deleteBuffer(Rr.__webglLineBuffer),void 0!==Rr.__webglLineDistanceBuffer&&Kt.deleteBuffer(Rr.__webglLineDistanceBuffer),void 0!==Rr.__webglCustomAttributesList)for(var Fr in Rr.__webglCustomAttributesList)Kt.deleteBuffer(Rr.__webglCustomAttributesList[Fr].buffer);ut.info.memory.geometries--},Er=function(Rr){if(Rr.__webglInit=void 0,Rr instanceof THREE.BufferGeometry){var Fr=Rr.attributes;for(var Vr in Fr)void 0!==Fr[Vr].buffer&&Kt.deleteBuffer(Fr[Vr].buffer);ut.info.memory.geometries--}else if(void 0!==Rr.geometryGroups)for(var Ur in Rr.geometryGroups){var zr=Rr.geometryGroups[Ur];if(void 0!==zr.numMorphTargets)for(var Br=0,Nr=zr.numMorphTargets;Br<Nr;Br++)Kt.deleteBuffer(zr.__webglMorphTargetsBuffers[Br]);if(void 0!==zr.numMorphNormals)for(var Br=0,Nr=zr.numMorphNormals;Br<Nr;Br++)Kt.deleteBuffer(zr.__webglMorphNormalsBuffers[Br]);wr(zr)}else wr(Rr)},Lr=function(Rr){if(Rr.image&&Rr.image.__webglTextureCube)Kt.deleteTexture(Rr.image.__webglTextureCube);else{if(!Rr.__webglInit)return;Rr.__webglInit=!1,Kt.deleteTexture(Rr.__webglTexture)}},Pr=function(Rr){if(Rr&&Rr.__webglTexture)if(Kt.deleteTexture(Rr.__webglTexture),Rr instanceof THREE.WebGLRenderTargetCube)for(var Fr=0;6>Fr;Fr++)Kt.deleteFramebuffer(Rr.__webglFramebuffer[Fr]),Kt.deleteRenderbuffer(Rr.__webglRenderbuffer[Fr]);else Kt.deleteFramebuffer(Rr.__webglFramebuffer),Kt.deleteRenderbuffer(Rr.__webglRenderbuffer)},Dr=function(Rr){var Fr=Rr.program;if(void 0!==Fr){Rr.program=void 0;var Br=!1,Vr,Ur,zr;for(Vr=0,Ur=ht.length;Vr<Ur;Vr++)if(zr=ht[Vr],zr.program===Fr){zr.usedTimes--,0===zr.usedTimes&&(Br=!0);break}if(!0===Br){var Nr=[];for(Vr=0,Ur=ht.length;Vr<Ur;Vr++)zr=ht[Vr],zr.program!==Fr&&Nr.push(zr);ht=Nr,Kt.deleteProgram(Fr),ut.info.memory.programs--}}};this.renderBufferImmediate=function(Rr,Fr,Vr){if(Rr.hasPositions&&!Rr.__webglVertexBuffer&&(Rr.__webglVertexBuffer=Kt.createBuffer()),Rr.hasNormals&&!Rr.__webglNormalBuffer&&(Rr.__webglNormalBuffer=Kt.createBuffer()),Rr.hasUvs&&!Rr.__webglUvBuffer&&(Rr.__webglUvBuffer=Kt.createBuffer()),Rr.hasColors&&!Rr.__webglColorBuffer&&(Rr.__webglColorBuffer=Kt.createBuffer()),Rr.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglVertexBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Rr.positionArray,Kt.DYNAMIC_DRAW),Kt.enableVertexAttribArray(Fr.attributes.position),Kt.vertexAttribPointer(Fr.attributes.position,3,Kt.FLOAT,!1,0,0)),Rr.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglNormalBuffer),Vr.shading===THREE.FlatShading){var Kr=3*Rr.count,Ur,zr,Br,Nr,Ir,Or,kr,Gr,Hr,Wr,jr,Xr,qr,Yr;for(Yr=0;Yr<Kr;Yr+=9)qr=Rr.normalArray,Nr=qr[Yr],kr=qr[Yr+1],Wr=qr[Yr+2],Ir=qr[Yr+3],Gr=qr[Yr+4],jr=qr[Yr+5],Or=qr[Yr+6],Hr=qr[Yr+7],Xr=qr[Yr+8],Ur=(Nr+Ir+Or)/3,zr=(kr+Gr+Hr)/3,Br=(Wr+jr+Xr)/3,qr[Yr]=Ur,qr[Yr+1]=zr,qr[Yr+2]=Br,qr[Yr+3]=Ur,qr[Yr+4]=zr,qr[Yr+5]=Br,qr[Yr+6]=Ur,qr[Yr+7]=zr,qr[Yr+8]=Br}Kt.bufferData(Kt.ARRAY_BUFFER,Rr.normalArray,Kt.DYNAMIC_DRAW),Kt.enableVertexAttribArray(Fr.attributes.normal),Kt.vertexAttribPointer(Fr.attributes.normal,3,Kt.FLOAT,!1,0,0)}Rr.hasUvs&&Vr.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglUvBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Rr.uvArray,Kt.DYNAMIC_DRAW),Kt.enableVertexAttribArray(Fr.attributes.uv),Kt.vertexAttribPointer(Fr.attributes.uv,2,Kt.FLOAT,!1,0,0)),Rr.hasColors&&Vr.vertexColors!==THREE.NoColors&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Rr.__webglColorBuffer),Kt.bufferData(Kt.ARRAY_BUFFER,Rr.colorArray,Kt.DYNAMIC_DRAW),Kt.enableVertexAttribArray(Fr.attributes.color),Kt.vertexAttribPointer(Fr.attributes.color,3,Kt.FLOAT,!1,0,0)),Kt.drawArrays(Kt.TRIANGLES,0,Rr.count),Rr.count=0},this.renderBufferDirect=function(Rr,Fr,Vr,Ur,zr,Br){if(!1!==Ur.visible){var jr=ge(Rr,Fr,Vr,Ur,Br),Xr=jr.attributes,qr=zr.attributes,Yr=!1,Kr=Ur.wireframe?1:0,Qr=16777215*zr.id+2*jr.id+Kr,kr,Gr,Hr,Wr;if(Qr!==vt&&(vt=Qr,Yr=!0),Yr&&H(),Br instanceof THREE.Mesh){var Zr=qr.index;if(Zr){var Jr=zr.offsets;1<Jr.length&&(Yr=!0);for(var $r=0,ea=Jr.length,ra;$r<ea;$r++){if(ra=Jr[$r].index,Yr){for(Gr in Xr)Hr=Xr[Gr],kr=qr[Gr],0<=Hr&&(kr?(Wr=kr.itemSize,Kt.bindBuffer(Kt.ARRAY_BUFFER,kr.buffer),G(Hr),Kt.vertexAttribPointer(Hr,Wr,Kt.FLOAT,!1,0,4*(ra*Wr))):Ur.defaultAttributeValues&&(2===Ur.defaultAttributeValues[Gr].length?Kt.vertexAttrib2fv(Hr,Ur.defaultAttributeValues[Gr]):3===Ur.defaultAttributeValues[Gr].length&&Kt.vertexAttrib3fv(Hr,Ur.defaultAttributeValues[Gr])));Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,Zr.buffer)}Kt.drawElements(Kt.TRIANGLES,Jr[$r].count,Kt.UNSIGNED_SHORT,2*Jr[$r].start),ut.info.render.calls++,ut.info.render.vertices+=Jr[$r].count,ut.info.render.faces+=Jr[$r].count/3}}else{if(Yr)for(Gr in Xr)'index'!==Gr&&(Hr=Xr[Gr],kr=qr[Gr],0<=Hr&&(kr?(Wr=kr.itemSize,Kt.bindBuffer(Kt.ARRAY_BUFFER,kr.buffer),G(Hr),Kt.vertexAttribPointer(Hr,Wr,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Ur.defaultAttributeValues[Gr]&&(2===Ur.defaultAttributeValues[Gr].length?Kt.vertexAttrib2fv(Hr,Ur.defaultAttributeValues[Gr]):3===Ur.defaultAttributeValues[Gr].length&&Kt.vertexAttrib3fv(Hr,Ur.defaultAttributeValues[Gr]))));var aa=zr.attributes.position;Kt.drawArrays(Kt.TRIANGLES,0,aa.numItems/3),ut.info.render.calls++,ut.info.render.vertices+=aa.numItems/3,ut.info.render.faces+=aa.numItems/3/3}}else if(Br instanceof THREE.ParticleSystem){if(Yr){for(Gr in Xr)Hr=Xr[Gr],kr=qr[Gr],0<=Hr&&(kr?(Wr=kr.itemSize,Kt.bindBuffer(Kt.ARRAY_BUFFER,kr.buffer),G(Hr),Kt.vertexAttribPointer(Hr,Wr,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Ur.defaultAttributeValues[Gr]&&(2===Ur.defaultAttributeValues[Gr].length?Kt.vertexAttrib2fv(Hr,Ur.defaultAttributeValues[Gr]):3===Ur.defaultAttributeValues[Gr].length&&Kt.vertexAttrib3fv(Hr,Ur.defaultAttributeValues[Gr])));var aa=qr.position;Kt.drawArrays(Kt.POINTS,0,aa.numItems/3),ut.info.render.calls++,ut.info.render.points+=aa.numItems/3}}else if(Br instanceof THREE.Line&&Yr){for(Gr in Xr)Hr=Xr[Gr],kr=qr[Gr],0<=Hr&&(kr?(Wr=kr.itemSize,Kt.bindBuffer(Kt.ARRAY_BUFFER,kr.buffer),G(Hr),Kt.vertexAttribPointer(Hr,Wr,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Ur.defaultAttributeValues[Gr]&&(2===Ur.defaultAttributeValues[Gr].length?Kt.vertexAttrib2fv(Hr,Ur.defaultAttributeValues[Gr]):3===Ur.defaultAttributeValues[Gr].length&&Kt.vertexAttrib3fv(Hr,Ur.defaultAttributeValues[Gr])));var oa=Br.type===THREE.LineStrip?Kt.LINE_STRIP:Kt.LINES;Ve(Ur.linewidth);var aa=qr.position;Kt.drawArrays(oa,0,aa.numItems/3),ut.info.render.calls++,ut.info.render.points+=aa.numItems}}},this.renderBuffer=function(Rr,Fr,Vr,Ur,zr,Br){if(!1!==Ur.visible){var Hr=ge(Rr,Fr,Vr,Ur,Br),Wr=Hr.attributes,jr=!1,Xr=Ur.wireframe?1:0,qr=16777215*zr.id+2*Hr.id+Xr,Or,kr,Gr;if(qr!==vt&&(vt=qr,jr=!0),jr&&H(),!Ur.morphTargets&&0<=Wr.position?jr&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglVertexBuffer),G(Wr.position),Kt.vertexAttribPointer(Wr.position,3,Kt.FLOAT,!1,0,0)):Br.morphTargetBase&&W(Ur,zr,Br),jr){if(zr.__webglCustomAttributesList)for(kr=0,Gr=zr.__webglCustomAttributesList.length;kr<Gr;kr++)Or=zr.__webglCustomAttributesList[kr],0<=Wr[Or.buffer.belongsToAttribute]&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,Or.buffer),G(Wr[Or.buffer.belongsToAttribute]),Kt.vertexAttribPointer(Wr[Or.buffer.belongsToAttribute],Or.size,Kt.FLOAT,!1,0,0));0<=Wr.color&&(0<Br.geometry.colors.length||0<Br.geometry.faces.length?(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglColorBuffer),G(Wr.color),Kt.vertexAttribPointer(Wr.color,3,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Kt.vertexAttrib3fv(Wr.color,Ur.defaultAttributeValues.color)),0<=Wr.normal&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglNormalBuffer),G(Wr.normal),Kt.vertexAttribPointer(Wr.normal,3,Kt.FLOAT,!1,0,0)),0<=Wr.tangent&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglTangentBuffer),G(Wr.tangent),Kt.vertexAttribPointer(Wr.tangent,4,Kt.FLOAT,!1,0,0)),0<=Wr.uv&&(Br.geometry.faceVertexUvs[0]?(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglUVBuffer),G(Wr.uv),Kt.vertexAttribPointer(Wr.uv,2,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Kt.vertexAttrib2fv(Wr.uv,Ur.defaultAttributeValues.uv)),0<=Wr.uv2&&(Br.geometry.faceVertexUvs[1]?(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglUV2Buffer),G(Wr.uv2),Kt.vertexAttribPointer(Wr.uv2,2,Kt.FLOAT,!1,0,0)):Ur.defaultAttributeValues&&Kt.vertexAttrib2fv(Wr.uv2,Ur.defaultAttributeValues.uv2)),Ur.skinning&&0<=Wr.skinIndex&&0<=Wr.skinWeight&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglSkinIndicesBuffer),G(Wr.skinIndex),Kt.vertexAttribPointer(Wr.skinIndex,4,Kt.FLOAT,!1,0,0),Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglSkinWeightsBuffer),G(Wr.skinWeight),Kt.vertexAttribPointer(Wr.skinWeight,4,Kt.FLOAT,!1,0,0)),0<=Wr.lineDistance&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,zr.__webglLineDistanceBuffer),G(Wr.lineDistance),Kt.vertexAttribPointer(Wr.lineDistance,1,Kt.FLOAT,!1,0,0))}if(Br instanceof THREE.Mesh)Ur.wireframe?(Ve(Ur.wireframeLinewidth),jr&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,zr.__webglLineBuffer),Kt.drawElements(Kt.LINES,zr.__webglLineCount,Kt.UNSIGNED_SHORT,0)):(jr&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,zr.__webglFaceBuffer),Kt.drawElements(Kt.TRIANGLES,zr.__webglFaceCount,Kt.UNSIGNED_SHORT,0)),ut.info.render.calls++,ut.info.render.vertices+=zr.__webglFaceCount,ut.info.render.faces+=zr.__webglFaceCount/3;else if(Br instanceof THREE.Line){var Yr=Br.type===THREE.LineStrip?Kt.LINE_STRIP:Kt.LINES;Ve(Ur.linewidth),Kt.drawArrays(Yr,0,zr.__webglLineCount),ut.info.render.calls++}else Br instanceof THREE.ParticleSystem&&(Kt.drawArrays(Kt.POINTS,0,zr.__webglParticleCount),ut.info.render.calls++,ut.info.render.points+=zr.__webglParticleCount)}};this.render=function(Rr,Fr,Vr,Ur){if(!1===Fr instanceof THREE.Camera)return void console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');var kr=Rr.__lights,Gr=Rr.fog,zr,Br,Nr,Ir,Or;for(xt=-1,qt=!0,!0===Rr.autoUpdate&&Rr.updateMatrixWorld(),void 0===Fr.parent&&Fr.updateMatrixWorld(),Fr.matrixWorldInverse.getInverse(Fr.matrixWorld),Ht.multiplyMatrices(Fr.projectionMatrix,Fr.matrixWorldInverse),Gt.setFromMatrix(Ht),this.autoUpdateObjects&&this.initWebGLObjects(Rr),K(this.renderPluginsPre,Rr,Fr),ut.info.render.calls=0,ut.info.render.vertices=0,ut.info.render.faces=0,ut.info.render.points=0,this.setRenderTarget(Vr),(this.autoClear||Ur)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),Or=Rr.__webglObjects,(zr=0,Br=Or.length);zr<Br;zr++)Nr=Or[zr],Ir=Nr.object,Nr.id=zr,Nr.render=!1,Ir.visible&&(!(Ir instanceof THREE.Mesh||Ir instanceof THREE.ParticleSystem)||!Ir.frustumCulled||Gt.intersectsObject(Ir))&&(Pe(Ir,Fr),$(Nr),Nr.render=!0,!0===this.sortObjects&&(null===Ir.renderDepth?(jt.setFromMatrixPosition(Ir.matrixWorld),jt.applyProjection(Ht),Nr.z=jt.z):Nr.z=Ir.renderDepth));for(this.sortObjects&&Or.sort(X),Or=Rr.__webglObjectsImmediate,(zr=0,Br=Or.length);zr<Br;zr++)Nr=Or[zr],Ir=Nr.object,Ir.visible&&(Pe(Ir,Fr),J(Nr));if(Rr.overrideMaterial){var Hr=Rr.overrideMaterial;this.setBlending(Hr.blending,Hr.blendEquation,Hr.blendSrc,Hr.blendDst),this.setDepthTest(Hr.depthTest),this.setDepthWrite(Hr.depthWrite),Ue(Hr.polygonOffset,Hr.polygonOffsetFactor,Hr.polygonOffsetUnits),Q(Rr.__webglObjects,!1,'',Fr,kr,Gr,!0,Hr),Z(Rr.__webglObjectsImmediate,'',Fr,kr,Gr,!1,Hr)}else{var Hr=null;this.setBlending(THREE.NoBlending),Q(Rr.__webglObjects,!0,'opaque',Fr,kr,Gr,!1,Hr),Z(Rr.__webglObjectsImmediate,'opaque',Fr,kr,Gr,!1,Hr),Q(Rr.__webglObjects,!1,'transparent',Fr,kr,Gr,!0,Hr),Z(Rr.__webglObjectsImmediate,'transparent',Fr,kr,Gr,!0,Hr)}K(this.renderPluginsPost,Rr,Fr),Vr&&Vr.generateMipmaps&&Vr.minFilter!==THREE.NearestFilter&&Vr.minFilter!==THREE.LinearFilter&&Ke(Vr),this.setDepthTest(!0),this.setDepthWrite(!0)};this.renderImmediateObject=function(Rr,Fr,Vr,Ur,zr){var Br=ge(Rr,Fr,Vr,Ur,zr);vt=-1,ut.setMaterialFaces(Ur),zr.immediateRenderCallback?zr.immediateRenderCallback(Br,Kt,Gt):zr.render(function(Nr){ut.renderBufferImmediate(Nr,Br,Ur)})};this.initWebGLObjects=function(Rr){for(Rr.__webglObjects||(Rr.__webglObjects=[],Rr.__webglObjectsImmediate=[],Rr.__webglSprites=[],Rr.__webglFlares=[]);Rr.__objectsAdded.length;)re(Rr.__objectsAdded[0],Rr),Rr.__objectsAdded.splice(0,1);for(;Rr.__objectsRemoved.length;)pe(Rr.__objectsRemoved[0],Rr),Rr.__objectsRemoved.splice(0,1);for(var Fr=0,Vr=Rr.__webglObjects.length,Ur;Fr<Vr;Fr++)Ur=Rr.__webglObjects[Fr].object,void 0===Ur.__webglInit&&(void 0!==Ur.__webglActive&&pe(Ur,Rr),re(Ur,Rr)),ne(Ur)};this.initMaterial=function(Rr,Fr,Vr,Ur){Rr.addEventListener('dispose',Ar);var zr,Ir,Or,kr,Gr,Hr,Wr;Rr instanceof THREE.MeshDepthMaterial?Wr='depth':Rr instanceof THREE.MeshNormalMaterial?Wr='normal':Rr instanceof THREE.MeshBasicMaterial?Wr='basic':Rr instanceof THREE.MeshLambertMaterial?Wr='lambert':Rr instanceof THREE.MeshPhongMaterial?Wr='phong':Rr instanceof THREE.LineBasicMaterial?Wr='basic':Rr instanceof THREE.LineDashedMaterial?Wr='dashed':Rr instanceof THREE.ParticleSystemMaterial&&(Wr='particle_basic'),Wr&&fe(Rr,THREE.ShaderLib[Wr]),kr=$e(Fr),Hr=et(Fr),Gr=Je(Ur),Or={map:!!Rr.map,envMap:!!Rr.envMap,lightMap:!!Rr.lightMap,bumpMap:!!Rr.bumpMap,normalMap:!!Rr.normalMap,specularMap:!!Rr.specularMap,vertexColors:Rr.vertexColors,fog:Vr,useFog:Rr.fog,fogExp:Vr instanceof THREE.FogExp2,sizeAttenuation:Rr.sizeAttenuation,skinning:Rr.skinning,maxBones:Gr,useVertexTexture:sr&&Ur&&Ur.useVertexTexture,morphTargets:Rr.morphTargets,morphNormals:Rr.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:kr.directional,maxPointLights:kr.point,maxSpotLights:kr.spot,maxHemiLights:kr.hemi,maxShadows:Hr,shadowMapEnabled:this.shadowMapEnabled&&Ur.receiveShadow,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:Rr.alphaTest,metal:Rr.metal,perPixel:Rr.perPixel,wrapAround:Rr.wrapAround,doubleSided:Rr.side===THREE.DoubleSide,flipSided:Rr.side===THREE.BackSide},Rr.program=Be(Wr,Rr.fragmentShader,Rr.vertexShader,Rr.uniforms,Rr.attributes,Rr.defines,Or,Rr.index0AttributeName);var jr=Rr.program.attributes;if(Rr.morphTargets){Rr.numSupportedMorphTargets=0;var qr='morphTarget',Xr;for(Ir=0;Ir<this.maxMorphTargets;Ir++)Xr=qr+Ir,0<=jr[Xr]&&Rr.numSupportedMorphTargets++}if(Rr.morphNormals){Rr.numSupportedMorphNormals=0;var qr='morphNormal',Xr;for(Ir=0;Ir<this.maxMorphNormals;Ir++)Xr=qr+Ir,0<=jr[Xr]&&Rr.numSupportedMorphNormals++}for(zr in Rr.uniformsList=[],Rr.uniforms)Rr.uniformsList.push([Rr.uniforms[zr],zr])};this.setFaceCulling=function(Rr,Fr){Rr===THREE.CullFaceNone?Kt.disable(Kt.CULL_FACE):(Fr===THREE.FrontFaceDirectionCW?Kt.frontFace(Kt.CW):Kt.frontFace(Kt.CCW),Rr===THREE.CullFaceBack?Kt.cullFace(Kt.BACK):Rr===THREE.CullFaceFront?Kt.cullFace(Kt.FRONT):Kt.cullFace(Kt.FRONT_AND_BACK),Kt.enable(Kt.CULL_FACE))},this.setMaterialFaces=function(Rr){var Fr=Rr.side===THREE.DoubleSide,Vr=Rr.side===THREE.BackSide;Mt!==Fr&&(Fr?Kt.disable(Kt.CULL_FACE):Kt.enable(Kt.CULL_FACE),Mt=Fr),Tt!==Vr&&(Vr?Kt.frontFace(Kt.CW):Kt.frontFace(Kt.CCW),Tt=Vr)},this.setDepthTest=function(Rr){Lt!==Rr&&(Rr?Kt.enable(Kt.DEPTH_TEST):Kt.disable(Kt.DEPTH_TEST),Lt=Rr)},this.setDepthWrite=function(Rr){Pt!==Rr&&(Kt.depthMask(Rr),Pt=Rr)};this.setBlending=function(Rr,Fr,Vr,Ur){Rr!==Ct&&(Rr===THREE.NoBlending?Kt.disable(Kt.BLEND):Rr===THREE.AdditiveBlending?(Kt.enable(Kt.BLEND),Kt.blendEquation(Kt.FUNC_ADD),Kt.blendFunc(Kt.SRC_ALPHA,Kt.ONE)):Rr===THREE.SubtractiveBlending?(Kt.enable(Kt.BLEND),Kt.blendEquation(Kt.FUNC_ADD),Kt.blendFunc(Kt.ZERO,Kt.ONE_MINUS_SRC_COLOR)):Rr===THREE.MultiplyBlending?(Kt.enable(Kt.BLEND),Kt.blendEquation(Kt.FUNC_ADD),Kt.blendFunc(Kt.ZERO,Kt.SRC_COLOR)):Rr===THREE.CustomBlending?Kt.enable(Kt.BLEND):(Kt.enable(Kt.BLEND),Kt.blendEquationSeparate(Kt.FUNC_ADD,Kt.FUNC_ADD),Kt.blendFuncSeparate(Kt.SRC_ALPHA,Kt.ONE_MINUS_SRC_ALPHA,Kt.ONE,Kt.ONE_MINUS_SRC_ALPHA)),Ct=Rr),Rr===THREE.CustomBlending?(Fr!==At&&(Kt.blendEquation(Ze(Fr)),At=Fr),(Vr!==wt||Ur!==Et)&&(Kt.blendFunc(Ze(Vr),Ze(Ur)),wt=Vr,Et=Ur)):(At=null,wt=null,Et=null)};this.setTexture=function(Rr,Fr){if(Rr.needsUpdate){Rr.__webglInit||(Rr.__webglInit=!0,Rr.addEventListener('dispose',Tr),Rr.__webglTexture=Kt.createTexture(),ut.info.memory.textures++),Kt.activeTexture(Kt.TEXTURE0+Fr),Kt.bindTexture(Kt.TEXTURE_2D,Rr.__webglTexture),Kt.pixelStorei(Kt.UNPACK_FLIP_Y_WEBGL,Rr.flipY),Kt.pixelStorei(Kt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Rr.premultiplyAlpha),Kt.pixelStorei(Kt.UNPACK_ALIGNMENT,Rr.unpackAlignment);var Vr=Rr.image,Ur=Ge(Vr.width)&&Ge(Vr.height),zr=Ze(Rr.format),Br=Ze(Rr.type);He(Kt.TEXTURE_2D,Rr,Ur);var Ir=Rr.mipmaps,Nr;if(Rr instanceof THREE.DataTexture){if(0<Ir.length&&Ur){for(var Or=0,kr=Ir.length;Or<kr;Or++)Nr=Ir[Or],Kt.texImage2D(Kt.TEXTURE_2D,Or,zr,Nr.width,Nr.height,0,zr,Br,Nr.data);Rr.generateMipmaps=!1}else Kt.texImage2D(Kt.TEXTURE_2D,0,zr,Vr.width,Vr.height,0,zr,Br,Vr.data);}else if(Rr instanceof THREE.CompressedTexture)for(var Or=0,kr=Ir.length;Or<kr;Or++)Nr=Ir[Or],Rr.format===THREE.RGBAFormat?Kt.texImage2D(Kt.TEXTURE_2D,Or,zr,Nr.width,Nr.height,0,zr,Br,Nr.data):Kt.compressedTexImage2D(Kt.TEXTURE_2D,Or,zr,Nr.width,Nr.height,0,Nr.data);else if(0<Ir.length&&Ur){for(var Or=0,kr=Ir.length;Or<kr;Or++)Nr=Ir[Or],Kt.texImage2D(Kt.TEXTURE_2D,Or,zr,zr,Br,Nr);Rr.generateMipmaps=!1}else Kt.texImage2D(Kt.TEXTURE_2D,0,zr,zr,Br,Rr.image);Rr.generateMipmaps&&Ur&&Kt.generateMipmap(Kt.TEXTURE_2D),Rr.needsUpdate=!1,Rr.onUpdate&&Rr.onUpdate()}else Kt.activeTexture(Kt.TEXTURE0+Fr),Kt.bindTexture(Kt.TEXTURE_2D,Rr.__webglTexture)};this.setRenderTarget=function(Rr){var Fr=Rr instanceof THREE.WebGLRenderTargetCube;if(Rr&&!Rr.__webglFramebuffer){Rr.depthBuffer===void 0&&(Rr.depthBuffer=!0),Rr.stencilBuffer===void 0&&(Rr.stencilBuffer=!0),Rr.addEventListener('dispose',Cr),Rr.__webglTexture=Kt.createTexture(),ut.info.memory.textures++;var Vr=Ge(Rr.width)&&Ge(Rr.height),Ur=Ze(Rr.format),zr=Ze(Rr.type);if(Fr){Rr.__webglFramebuffer=[],Rr.__webglRenderbuffer=[],Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,Rr.__webglTexture),He(Kt.TEXTURE_CUBE_MAP,Rr,Vr);for(var Br=0;6>Br;Br++)Rr.__webglFramebuffer[Br]=Kt.createFramebuffer(),Rr.__webglRenderbuffer[Br]=Kt.createRenderbuffer(),Kt.texImage2D(Kt.TEXTURE_CUBE_MAP_POSITIVE_X+Br,0,Ur,Rr.width,Rr.height,0,Ur,zr,null),qe(Rr.__webglFramebuffer[Br],Rr,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+Br),Ye(Rr.__webglRenderbuffer[Br],Rr);Vr&&Kt.generateMipmap(Kt.TEXTURE_CUBE_MAP)}else Rr.__webglFramebuffer=Kt.createFramebuffer(),Rr.__webglRenderbuffer=Rr.shareDepthFrom?Rr.shareDepthFrom.__webglRenderbuffer:Kt.createRenderbuffer(),Kt.bindTexture(Kt.TEXTURE_2D,Rr.__webglTexture),He(Kt.TEXTURE_2D,Rr,Vr),Kt.texImage2D(Kt.TEXTURE_2D,0,Ur,Rr.width,Rr.height,0,Ur,zr,null),qe(Rr.__webglFramebuffer,Rr,Kt.TEXTURE_2D),Rr.shareDepthFrom?Rr.depthBuffer&&!Rr.stencilBuffer?Kt.framebufferRenderbuffer(Kt.FRAMEBUFFER,Kt.DEPTH_ATTACHMENT,Kt.RENDERBUFFER,Rr.__webglRenderbuffer):Rr.depthBuffer&&Rr.stencilBuffer&&Kt.framebufferRenderbuffer(Kt.FRAMEBUFFER,Kt.DEPTH_STENCIL_ATTACHMENT,Kt.RENDERBUFFER,Rr.__webglRenderbuffer):Ye(Rr.__webglRenderbuffer,Rr),Vr&&Kt.generateMipmap(Kt.TEXTURE_2D);Fr?Kt.bindTexture(Kt.TEXTURE_CUBE_MAP,null):Kt.bindTexture(Kt.TEXTURE_2D,null),Kt.bindRenderbuffer(Kt.RENDERBUFFER,null),Kt.bindFramebuffer(Kt.FRAMEBUFFER,null)}var Nr,Ir,Or,kr,Gr;Rr?(Nr=Fr?Rr.__webglFramebuffer[Rr.activeCubeFace]:Rr.__webglFramebuffer,Ir=Rr.width,Or=Rr.height,kr=0,Gr=0):(Nr=null,Ir=Bt,Or=Nt,kr=Ut,Gr=zt),Nr!==yt&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,Nr),Kt.viewport(kr,Gr,Ir,Or),yt=Nr),It=Ir,Ot=Or};this.shadowMapPlugin=new THREE.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new THREE.SpritePlugin),this.addPostPlugin(new THREE.LensFlarePlugin)},THREE.WebGLRenderTarget=function(_,S,M){this.width=_,this.height=S,M=M||{},this.wrapS=M.wrapS===void 0?THREE.ClampToEdgeWrapping:M.wrapS,this.wrapT=M.wrapT===void 0?THREE.ClampToEdgeWrapping:M.wrapT,this.magFilter=M.magFilter===void 0?THREE.LinearFilter:M.magFilter,this.minFilter=M.minFilter===void 0?THREE.LinearMipMapLinearFilter:M.minFilter,this.anisotropy=M.anisotropy===void 0?1:M.anisotropy,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=M.format===void 0?THREE.RGBAFormat:M.format,this.type=M.type===void 0?THREE.UnsignedByteType:M.type,this.depthBuffer=!(M.depthBuffer!==void 0)||M.depthBuffer,this.stencilBuffer=!(M.stencilBuffer!==void 0)||M.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,clone:function(){var _=new THREE.WebGLRenderTarget(this.width,this.height);return _.wrapS=this.wrapS,_.wrapT=this.wrapT,_.magFilter=this.magFilter,_.minFilter=this.minFilter,_.anisotropy=this.anisotropy,_.offset.copy(this.offset),_.repeat.copy(this.repeat),_.format=this.format,_.type=this.type,_.depthBuffer=this.depthBuffer,_.stencilBuffer=this.stencilBuffer,_.generateMipmaps=this.generateMipmaps,_.shareDepthFrom=this.shareDepthFrom,_},dispose:function(){this.dispatchEvent({type:'dispose'})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(_,S,M){THREE.WebGLRenderTarget.call(this,_,S,M),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(_){this.positionWorld.copy(_.positionWorld),this.positionScreen.copy(_.positionScreen)},THREE.RenderableFace3=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.centroidModel=new THREE.Vector3,this.normalModel=new THREE.Vector3,this.normalModelView=new THREE.Vector3,this.vertexNormalsLength=0,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsModelView=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.color=null,this.material=null,this.uvs=[[]],this.z=0},THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2,this.material=null},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0},THREE.GeometryUtils={merge:function(_,S,M){var A=_.vertices.length,E=_.faceVertexUvs[0].length,L=S instanceof THREE.Mesh?S.geometry:S,P=_.vertices,D=L.vertices,R=_.faces,F=L.faces,V=_.faceVertexUvs[0],U=L.faceVertexUvs[0],T,C;M===void 0&&(M=0),S instanceof THREE.Mesh&&(S.matrixAutoUpdate&&S.updateMatrix(),T=S.matrix,C=new THREE.Matrix3().getNormalMatrix(T));for(var B=0,N=D.length;B<N;B++){var I=D[B],O=I.clone();T&&O.applyMatrix4(T),P.push(O)}for(B=0,N=F.length;B<N;B++){var G=F[B],Y=G.vertexNormals,K=G.vertexColors,H,W,X;H=new THREE.Face3(G.a+A,G.b+A,G.c+A),H.normal.copy(G.normal),C&&H.normal.applyMatrix3(C).normalize();for(var Q=0,Z=Y.length;Q<Z;Q++)W=Y[Q].clone(),C&&W.applyMatrix3(C).normalize(),H.vertexNormals.push(W);H.color.copy(G.color);for(var Q=0,Z=K.length;Q<Z;Q++)X=K[Q],H.vertexColors.push(X.clone());H.materialIndex=G.materialIndex+M,H.centroid.copy(G.centroid),T&&H.centroid.applyMatrix4(T),R.push(H)}for(B=0,N=U.length;B<N;B++){for(var J=U[B],$=[],Q=0,Z=J.length;Q<Z;Q++)$.push(new THREE.Vector2(J[Q].x,J[Q].y));V.push($)}},randomPointInTriangle:function(){var _=new THREE.Vector3;return function(S,M,T){var C=new THREE.Vector3,A=THREE.Math.random16(),E=THREE.Math.random16();1<A+E&&(A=1-A,E=1-E);var L=1-A-E;return C.copy(S),C.multiplyScalar(A),_.copy(M),_.multiplyScalar(E),C.add(_),_.copy(T),_.multiplyScalar(L),C.add(_),C}}(),randomPointInFace:function(_,S){var T,C,A;return T=S.vertices[_.a],C=S.vertices[_.b],A=S.vertices[_.c],THREE.GeometryUtils.randomPointInTriangle(T,C,A)},randomPointsInGeometry:function(_,S){function M(G){function H(X,Y){if(Y<X)return X;var K=X+Math.floor((Y-X)/2);return D[K]>G?H(X,K-1):D[K]<G?H(K+1,Y):K}var W=H(0,D.length-1);return W}var A=_.faces,E=_.vertices,L=A.length,P=0,D=[],T,C,R,F,V;for(C=0;C<L;C++)T=A[C],R=E[T.a],F=E[T.b],V=E[T.c],T._area=THREE.GeometryUtils.triangleArea(R,F,V),P+=T._area,D[C]=P;var I=[],B,N,O={};for(C=0;C<S;C++)B=THREE.Math.random16()*P,N=M(B),I[C]=THREE.GeometryUtils.randomPointInFace(A[N],_,!0),O[N]?O[N]+=1:O[N]=1;return I},triangleArea:function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(M,T,C){return _.subVectors(T,M),S.subVectors(C,M),_.cross(S),0.5*_.length()}}(),center:function(_){_.computeBoundingBox();var S=_.boundingBox,M=new THREE.Vector3;return M.addVectors(S.min,S.max),M.multiplyScalar(-0.5),_.applyMatrix(new THREE.Matrix4().makeTranslation(M.x,M.y,M.z)),_.computeBoundingBox(),M},triangulateQuads:function(_){var S,M,T,C,A=[],E=[];for(S=0,M=_.faceVertexUvs.length;S<M;S++)E[S]=[];for(S=0,M=_.faces.length;S<M;S++){var L=_.faces[S];for(A.push(L),T=0,C=_.faceVertexUvs.length;T<C;T++)E[T].push(_.faceVertexUvs[T][S])}_.faces=A,_.faceVertexUvs=E,_.computeCentroids(),_.computeFaceNormals(),_.computeVertexNormals(),_.hasTangents&&_.computeTangents()}},THREE.ImageUtils={crossOrigin:'anonymous',loadTexture:function(_,S,M){var C=new THREE.ImageLoader;C.crossOrigin=this.crossOrigin;var A=new THREE.Texture(void 0,S),E=C.load(_,function(){A.needsUpdate=!0,M&&M(A)});return A.image=E,A.sourceFile=_,A},loadCompressedTexture:function(_,S,M,T){var C=new THREE.CompressedTexture;C.mapping=S;var A=new XMLHttpRequest;return A.onload=function(){var E=A.response,L=THREE.ImageUtils.parseDDS(E,!0);C.format=L.format,C.mipmaps=L.mipmaps,C.image.width=L.width,C.image.height=L.height,C.generateMipmaps=!1,C.needsUpdate=!0,M&&M(C)},A.onerror=T,A.open('GET',_,!0),A.responseType='arraybuffer',A.send(null),C},loadTextureCube:function(_,S,M,T){var C=[];C.loadCount=0;var A=new THREE.Texture;A.image=C,S!==void 0&&(A.mapping=S),A.flipY=!1;for(var E=0,L=_.length,P;E<L;++E)P=new Image,C[E]=P,P.onload=function(){C.loadCount+=1,6===C.loadCount&&(A.needsUpdate=!0,M&&M(A))},P.onerror=T,P.crossOrigin=this.crossOrigin,P.src=_[E];return A},loadCompressedTextureCube:function(_,S,M,T){var C=[];C.loadCount=0;var A=new THREE.CompressedTexture;A.image=C,S!==void 0&&(A.mapping=S),A.flipY=!1,A.generateMipmaps=!1;var E=function(V,U){return function(){var B=V.response,N=THREE.ImageUtils.parseDDS(B,!0);U.format=N.format,U.mipmaps=N.mipmaps,U.width=N.width,U.height=N.height,C.loadCount+=1,6===C.loadCount&&(A.format=N.format,A.needsUpdate=!0,M&&M(A))}};if(_ instanceof Array)for(var L=0,P=_.length,D;L<P;++L){D={},C[L]=D;var R=new XMLHttpRequest;R.onload=E(R,D),R.onerror=T;var F=_[L];R.open('GET',F,!0),R.responseType='arraybuffer',R.send(null)}else{var F=_,R=new XMLHttpRequest;R.onload=function(){var V=R.response,U=THREE.ImageUtils.parseDDS(V,!0);if(U.isCubemap){for(var B=U.mipmaps.length/U.mipmapCount,N=0;N<B;N++){C[N]={mipmaps:[]};for(var I=0;I<U.mipmapCount;I++)C[N].mipmaps.push(U.mipmaps[N*U.mipmapCount+I]),C[N].format=U.format,C[N].width=U.width,C[N].height=U.height}A.format=U.format,A.needsUpdate=!0,M&&M(A)}},R.onerror=T,R.open('GET',F,!0),R.responseType='arraybuffer',R.send(null)}return A},loadDDSTexture:function(_,S,M,T){var C=[];C.loadCount=0;var A=new THREE.CompressedTexture;A.image=C,S!==void 0&&(A.mapping=S),A.flipY=!1,A.generateMipmaps=!1;{var E=new XMLHttpRequest;E.onload=function(){var L=E.response,P=THREE.ImageUtils.parseDDS(L,!0);if(P.isCubemap)for(var D=P.mipmaps.length/P.mipmapCount,R=0;R<D;R++){C[R]={mipmaps:[]};for(var F=0;F<P.mipmapCount;F++)C[R].mipmaps.push(P.mipmaps[R*P.mipmapCount+F]),C[R].format=P.format,C[R].width=P.width,C[R].height=P.height}else A.image.width=P.width,A.image.height=P.height,A.mipmaps=P.mipmaps;A.format=P.format,A.needsUpdate=!0,M&&M(A)},E.onerror=T,E.open('GET',_,!0),E.responseType='arraybuffer',E.send(null)}return A},parseDDS:function(_,S){function M(We){return We.charCodeAt(0)+(We.charCodeAt(1)<<8)+(We.charCodeAt(2)<<16)+(We.charCodeAt(3)<<24)}function T(We){return String.fromCharCode(255&We,255&We>>8,255&We>>16,255&We>>24)}function C(We,je,Xe,qe){for(var Ye=4*(Xe*qe),Ke=new Uint8Array(We,je,Ye),Qe=new Uint8Array(Ye),Ze=0,Je=0,$e=0;$e<qe;$e++)for(var et=0,tt;et<Xe;et++){tt=Ke[Je],Je++;var rt=Ke[Je];Je++;var at=Ke[Je];Je++;var ot=Ke[Je];Je++,Qe[Ze]=at,Ze++,Qe[Ze]=rt,Ze++,Qe[Ze]=tt,Ze++,Qe[Ze]=ot,Ze++}return Qe}var A={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},ne=M('DXT1'),se=M('DXT3'),le=M('DXT5'),De=new Int32Array(_,0,31);if(De[0]!==542327876)return console.error('ImageUtils.parseDDS(): Invalid magic number in DDS header'),A;if(!De[20]&4)return console.error('ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code'),A;var Re,Fe=De[21],Ve=!1;switch(Fe){case ne:Re=8,A.format=THREE.RGB_S3TC_DXT1_Format;break;case se:Re=16,A.format=THREE.RGBA_S3TC_DXT3_Format;break;case le:Re=16,A.format=THREE.RGBA_S3TC_DXT5_Format;break;default:if(32==De[22]&&16711680&De[23]&&65280&De[24]&&255&De[25]&&4278190080&De[26])Ve=!0,Re=64,A.format=THREE.RGBAFormat;else return console.error('ImageUtils.parseDDS(): Unsupported FourCC code: ',T(Fe)),A;}A.mipmapCount=1,De[2]&131072&&!1!==S&&(A.mipmapCount=Math.max(1,De[7])),A.isCubemap=!!(De[28]&512),A.width=De[4],A.height=De[3];for(var Ue=De[1]+4,ze=A.width,Be=A.height,Ne=A.isCubemap?6:1,Ie=0;Ie<Ne;Ie++){for(var Oe=0;Oe<A.mipmapCount;Oe++){if(Ve)var ke=C(_,Ue,ze,Be),Ge=ke.length;else var Ge=Math.max(4,ze)/4*Math.max(4,Be)/4*Re,ke=new Uint8Array(_,Ue,Ge);var He={data:ke,width:ze,height:Be};A.mipmaps.push(He),Ue+=Ge,ze=Math.max(0.5*ze,1),Be=Math.max(0.5*Be,1)}ze=A.width,Be=A.height}return A},getNormalMap:function(_,S){var M=function($,ee){return[$[1]*ee[2]-$[2]*ee[1],$[2]*ee[0]-$[0]*ee[2],$[0]*ee[1]-$[1]*ee[0]]},T=function($,ee){return[$[0]-ee[0],$[1]-ee[1],$[2]-ee[2]]},C=function($){var ee=Math.sqrt($[0]*$[0]+$[1]*$[1]+$[2]*$[2]);return[$[0]/ee,$[1]/ee,$[2]/ee]};S|=1;var A=_.width,E=_.height,L=document.createElement('canvas');L.width=A,L.height=E;var P=L.getContext('2d');P.drawImage(_,0,0);for(var D=P.getImageData(0,0,A,E).data,R=P.createImageData(A,E),F=R.data,V=0;V<A;V++)for(var U=0;U<E;U++){var B=0>U-1?0:U-1,N=U+1>E-1?E-1:U+1,I=0>V-1?0:V-1,O=V+1>A-1?A-1:V+1,G=[],H=[0,0,D[4*(U*A+V)]/255*S];G.push([-1,0,D[4*(U*A+I)]/255*S]),G.push([-1,-1,D[4*(B*A+I)]/255*S]),G.push([0,-1,D[4*(B*A+V)]/255*S]),G.push([1,-1,D[4*(B*A+O)]/255*S]),G.push([1,0,D[4*(U*A+O)]/255*S]),G.push([1,1,D[4*(N*A+O)]/255*S]),G.push([0,1,D[4*(N*A+V)]/255*S]),G.push([-1,1,D[4*(N*A+I)]/255*S]);for(var W=[],X=G.length,Y=0;Y<X;Y++){var K=G[Y],Q=G[(Y+1)%X];K=T(K,H),Q=T(Q,H),W.push(C(M(K,Q)))}for(var Z=[0,0,0],Y=0;Y<W.length;Y++)Z[0]+=W[Y][0],Z[1]+=W[Y][1],Z[2]+=W[Y][2];Z[0]/=W.length,Z[1]/=W.length,Z[2]/=W.length;var J=4*(U*A+V);F[J]=0|255*((Z[0]+1)/2),F[J+1]=0|255*((Z[1]+1)/2),F[J+2]=0|255*Z[2],F[J+3]=255}return P.putImageData(R,0,0),L},generateDataTexture:function(_,S,M){for(var T=_*S,C=new Uint8Array(3*T),A=Math.floor(255*M.r),E=Math.floor(255*M.g),L=Math.floor(255*M.b),P=0;P<T;P++)C[3*P]=A,C[3*P+1]=E,C[3*P+2]=L;var D=new THREE.DataTexture(C,_,S,THREE.RGBFormat);return D.needsUpdate=!0,D}},THREE.SceneUtils={createMultiMaterialObject:function(_,S){for(var M=new THREE.Object3D,T=0,C=S.length;T<C;T++)M.add(new THREE.Mesh(_,S[T]));return M},detach:function(_,S,M){_.applyMatrix(S.matrixWorld),S.remove(_),M.add(_)},attach:function(_,S,M){var T=new THREE.Matrix4;T.getInverse(M.matrixWorld),_.applyMatrix(T),S.remove(_),M.add(_)}},THREE.FontUtils={faces:{},face:'helvetiker',weight:'normal',style:'normal',size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(_){var S=_.familyName.toLowerCase(),M=this;M.faces[S]=M.faces[S]||{},M.faces[S][_.cssFontWeight]=M.faces[S][_.cssFontWeight]||{},M.faces[S][_.cssFontWeight][_.cssFontStyle]=_;M.faces[S][_.cssFontWeight][_.cssFontStyle]=_;return _},drawText:function(_){var T,A=this.getFace(),E=this.size/A.resolution,L=0,P=(_+'').split(''),D=P.length,R=[];for(T=0;T<D;T++){var F=new THREE.Path,V=this.extractGlyphPoints(P[T],A,E,L,F);L+=V.offset,R.push(V.path)}var U=L/2;return{paths:R,offset:U}},extractGlyphPoints:function(_,S,M,T,C){var A=[],E,L,P,D,R,F,V,U,B,N,I,O,G,H,W,X,Y,K,Q,Z=S.glyphs[_]||S.glyphs['?'];if(Z){if(Z.o)for(D=Z._cachedOutline||(Z._cachedOutline=Z.o.split(' ')),F=D.length,V=M,U=M,E=0;E<F;)switch(R=D[E++],R){case'm':B=D[E++]*V+T,N=D[E++]*U,C.moveTo(B,N);break;case'l':B=D[E++]*V+T,N=D[E++]*U,C.lineTo(B,N);break;case'q':if(I=D[E++]*V+T,O=D[E++]*U,W=D[E++]*V+T,X=D[E++]*U,C.quadraticCurveTo(W,X,I,O),Q=A[A.length-1],Q)for(G=Q.x,H=Q.y,(L=1,P=this.divisions);L<=P;L++)var J=L/P,$=THREE.Shape.Utils.b2(J,G,W,I),ee=THREE.Shape.Utils.b2(J,H,X,O);break;case'b':if(I=D[E++]*V+T,O=D[E++]*U,W=D[E++]*V+T,X=D[E++]*-U,Y=D[E++]*V+T,K=D[E++]*-U,C.bezierCurveTo(I,O,W,X,Y,K),Q=A[A.length-1],Q)for(G=Q.x,H=Q.y,(L=1,P=this.divisions);L<=P;L++)var J=L/P,$=THREE.Shape.Utils.b3(J,G,W,Y,I),ee=THREE.Shape.Utils.b3(J,H,X,K,O);}return{offset:Z.ha*M,path:C}}}},THREE.FontUtils.generateShapes=function(_,S){S=S||{};var M=S.size===void 0?100:S.size,T=S.curveSegments===void 0?4:S.curveSegments,C=S.font===void 0?'helvetiker':S.font,A=S.weight===void 0?'normal':S.weight,E=S.style===void 0?'normal':S.style;THREE.FontUtils.size=M,THREE.FontUtils.divisions=T,THREE.FontUtils.face=C,THREE.FontUtils.weight=A,THREE.FontUtils.style=E;for(var L=THREE.FontUtils.drawText(_),P=L.paths,D=[],R=0,F=P.length;R<F;R++)Array.prototype.push.apply(D,P[R].toShapes());return D},function(_){var S=1e-10,T=function(A){for(var E=A.length,L=0,P=E-1,D=0;D<E;P=D++)L+=A[P].x*A[D].y-A[D].x*A[P].y;return 0.5*L},C=function(A,E,L,P,D,R){var F,V,U,B,N,I,O,G,H;if(V=A[R[E]].x,U=A[R[E]].y,B=A[R[L]].x,N=A[R[L]].y,I=A[R[P]].x,O=A[R[P]].y,S>(B-V)*(O-U)-(N-U)*(I-V))return!1;var W,X,Y,K,Q,Z,J,$,ee,re,oe,ie,ne,se,le;for(W=I-B,X=O-N,Y=V-I,K=U-O,Q=B-V,Z=N-U,F=0;F<D;F++)if(F!==E&&F!==L&&F!==P&&(G=A[R[F]].x,H=A[R[F]].y,J=G-V,$=H-U,ee=G-B,re=H-N,oe=G-I,ie=H-O,le=W*re-X*ee,ne=Q*$-Z*J,se=Y*ie-K*oe,le>=-S&&se>=-S&&ne>=-S))return!1;return!0};return _.Triangulate=function(A,E){var L=A.length;if(3>L)return null;var P=[],D=[],R=[],F,V,U;if(0<T(A))for(V=0;V<L;V++)D[V]=V;else for(V=0;V<L;V++)D[V]=L-1-V;var B=L,N=2*B;for(V=B-1;2<B;){if(0>=N--)return console.log('Warning, unable to triangulate polygon!'),E?R:P;if(F=V,B<=F&&(F=0),V=F+1,B<=V&&(V=0),U=V+1,B<=U&&(U=0),C(A,F,V,U,B,D)){var I,O,G,H,W;for(I=D[F],O=D[V],G=D[U],P.push([A[I],A[O],A[G]]),R.push([D[F],D[V],D[U]]),(H=V,W=V+1);W<B;H++,W++)D[H]=D[W];B--,N=2*B}}return E?R:P},_.Triangulate.area=T,_}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log('Warning, getPoint() not implemented!'),null},THREE.Curve.prototype.getPointAt=function(_){var S=this.getUtoTmapping(_);return this.getPoint(S)},THREE.Curve.prototype.getPoints=function(_){_||(_=5);var M=[],S;for(S=0;S<=_;S++)M.push(this.getPoint(S/_));return M},THREE.Curve.prototype.getSpacedPoints=function(_){_||(_=5);var M=[],S;for(S=0;S<=_;S++)M.push(this.getPointAt(S/_));return M},THREE.Curve.prototype.getLength=function(){var _=this.getLengths();return _[_.length-1]},THREE.Curve.prototype.getLengths=function(_){if(_||(_=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==_+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var S=[],T=this.getPoint(0),A=0,M,C;for(S.push(0),C=1;C<=_;C++)M=this.getPoint(C/_),A+=M.distanceTo(T),S.push(A),T=M;return this.cacheArcLengths=S,S},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(_,S){var M=this.getLengths(),T=0,C=M.length,A;A=S?S:_*M[C-1];for(var E=0,L=C-1,P;E<=L;)if(T=Math.floor(E+(L-E)/2),P=M[T]-A,0>P){E=T+1;continue}else if(0<P){L=T-1;continue}else{L=T;break}if(T=L,M[T]==A){var D=T/(C-1);return D}var R=M[T],F=M[T+1],U=(A-R)/(F-R),D=(T+U)/(C-1);return D},THREE.Curve.prototype.getTangent=function(_){var S=1e-4,M=_-S,T=_+S;0>M&&(M=0),1<T&&(T=1);var C=this.getPoint(M),A=this.getPoint(T),E=A.clone().sub(C);return E.normalize()},THREE.Curve.prototype.getTangentAt=function(_){var S=this.getUtoTmapping(_);return this.getTangent(S)},THREE.Curve.Utils={tangentQuadraticBezier:function(_,S,M,T){return 2*(1-_)*(M-S)+2*_*(T-M)},tangentCubicBezier:function(_,S,M,T,C){return-3*S*(1-_)*(1-_)+3*M*(1-_)*(1-_)-6*_*M*(1-_)+6*_*T*(1-_)-3*_*_*T+3*_*_*C},tangentSpline:function(_){return 6*_*_-6*_+(3*_*_-4*_+1)+(-6*_*_+6*_)+(3*_*_-2*_)},interpolate:function(_,S,M,T,C){var A=0.5*(M-_),E=0.5*(T-S),L=C*C;return(2*S-2*M+A+E)*(C*L)+(-3*S+3*M-2*A-E)*L+A*C+S}},THREE.Curve.create=function(_,S){return _.prototype=Object.create(THREE.Curve.prototype),_.prototype.getPoint=S,_},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(_){this.curves.push(_)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var _=this.curves[0].getPoint(0),S=this.curves[this.curves.length-1].getPoint(1);_.equals(S)||this.curves.push(new THREE.LineCurve(S,_))},THREE.CurvePath.prototype.getPoint=function(_){for(var S=_*this.getLength(),M=this.getCurveLengths(),T=0,C,A;T<M.length;){if(M[T]>=S){C=M[T]-S,A=this.curves[T];var E=1-C/A.getLength();return A.getPointAt(E)}T++}return null},THREE.CurvePath.prototype.getLength=function(){var _=this.getCurveLengths();return _[_.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var _=[],S=0,T=this.curves.length,M;for(M=0;M<T;M++)S+=this.curves[M].getLength(),_.push(S);return this.cacheLengths=_,_},THREE.CurvePath.prototype.getBoundingBox=function(){var _=this.getPoints(),S,M,T,C,A,E;S=M=Number.NEGATIVE_INFINITY,C=A=Number.POSITIVE_INFINITY;var F=_[0]instanceof THREE.Vector3,L,P,D,R;for(R=F?new THREE.Vector3:new THREE.Vector2,P=0,D=_.length;P<D;P++)L=_[P],L.x>S?S=L.x:L.x<C&&(C=L.x),L.y>M?M=L.y:L.y<A&&(A=L.y),F&&(L.z>T?T=L.z:L.z<E&&(E=L.z)),R.add(L);var V={minX:C,minY:A,maxX:S,maxY:M,centroid:R.divideScalar(D)};return F&&(V.maxZ=T,V.minZ=E),V},THREE.CurvePath.prototype.createPointsGeometry=function(_){var S=this.getPoints(_,!0);return this.createGeometry(S)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(_){var S=this.getSpacedPoints(_,!0);return this.createGeometry(S)},THREE.CurvePath.prototype.createGeometry=function(_){for(var S=new THREE.Geometry,M=0;M<_.length;M++)S.vertices.push(new THREE.Vector3(_[M].x,_[M].y,_[M].z||0));return S},THREE.CurvePath.prototype.addWrapPath=function(_){this.bends.push(_)},THREE.CurvePath.prototype.getTransformedPoints=function(_,S){var M=this.getPoints(_),T,C;for(S||(S=this.bends),T=0,C=S.length;T<C;T++)M=this.getWrapPoints(M,S[T]);return M},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(_,S){var M=this.getSpacedPoints(_),T,C;for(S||(S=this.bends),T=0,C=S.length;T<C;T++)M=this.getWrapPoints(M,S[T]);return M},THREE.CurvePath.prototype.getWrapPoints=function(_,S){var M=this.getBoundingBox(),T,C,A,E,L,P;for(T=0,C=_.length;T<C;T++){A=_[T],E=A.x,L=A.y,P=E/M.maxX,P=S.getUtoTmapping(P,E);var D=S.getPoint(P),R=S.getTangent(P);R.set(-R.y,R.x).multiplyScalar(L),A.x=D.x+R.x,A.y=D.y+R.y}return _},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(_){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.quaternionWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.quaternionObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.quaternionObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,_=!0);for(var S=0,M=this.children.length;S<M;S++)this.children[S].updateMatrixWorld(_)},THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3,THREE.Gyroscope.prototype.translationObject=new THREE.Vector3,THREE.Gyroscope.prototype.quaternionWorld=new THREE.Quaternion,THREE.Gyroscope.prototype.quaternionObject=new THREE.Quaternion,THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3,THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3,THREE.Path=function(_){THREE.CurvePath.call(this),this.actions=[],_&&this.fromPoints(_)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:'moveTo',LINE_TO:'lineTo',QUADRATIC_CURVE_TO:'quadraticCurveTo',BEZIER_CURVE_TO:'bezierCurveTo',CSPLINE_THRU:'splineThru',ARC:'arc',ELLIPSE:'ellipse'},THREE.Path.prototype.fromPoints=function(_){this.moveTo(_[0].x,_[0].y);for(var S=1,M=_.length;S<M;S++)this.lineTo(_[S].x,_[S].y)},THREE.Path.prototype.moveTo=function(){var M=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:M})},THREE.Path.prototype.lineTo=function(_,S){var M=Array.prototype.slice.call(arguments),T=this.actions[this.actions.length-1].args,C=T[T.length-2],A=T[T.length-1],E=new THREE.LineCurve(new THREE.Vector2(C,A),new THREE.Vector2(_,S));this.curves.push(E),this.actions.push({action:THREE.PathActions.LINE_TO,args:M})},THREE.Path.prototype.quadraticCurveTo=function(_,S,M,T){var C=Array.prototype.slice.call(arguments),A=this.actions[this.actions.length-1].args,E=A[A.length-2],L=A[A.length-1],P=new THREE.QuadraticBezierCurve(new THREE.Vector2(E,L),new THREE.Vector2(_,S),new THREE.Vector2(M,T));this.curves.push(P),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:C})},THREE.Path.prototype.bezierCurveTo=function(_,S,M,T,C,A){var E=Array.prototype.slice.call(arguments),L=this.actions[this.actions.length-1].args,P=L[L.length-2],D=L[L.length-1],R=new THREE.CubicBezierCurve(new THREE.Vector2(P,D),new THREE.Vector2(_,S),new THREE.Vector2(M,T),new THREE.Vector2(C,A));this.curves.push(R),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:E})},THREE.Path.prototype.splineThru=function(_){var S=Array.prototype.slice.call(arguments),M=this.actions[this.actions.length-1].args,T=M[M.length-2],C=M[M.length-1],A=[new THREE.Vector2(T,C)];Array.prototype.push.apply(A,_);var E=new THREE.SplineCurve(A);this.curves.push(E),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:S})},THREE.Path.prototype.arc=function(_,S,M,T,C,A){var E=this.actions[this.actions.length-1].args,L=E[E.length-2],P=E[E.length-1];this.absarc(_+L,S+P,M,T,C,A)},THREE.Path.prototype.absarc=function(_,S,M,T,C,A){this.absellipse(_,S,M,M,T,C,A)},THREE.Path.prototype.ellipse=function(_,S,M,T,C,A,E){var L=this.actions[this.actions.length-1].args,P=L[L.length-2],D=L[L.length-1];this.absellipse(_+P,S+D,M,T,C,A,E)},THREE.Path.prototype.absellipse=function(_,S,M,T,C,A,E){var L=Array.prototype.slice.call(arguments),P=new THREE.EllipseCurve(_,S,M,T,C,A,E);this.curves.push(P);var D=P.getPoint(1);L.push(D.x),L.push(D.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:L})},THREE.Path.prototype.getSpacedPoints=function(_){_||(_=40);for(var M=[],T=0;T<_;T++)M.push(this.getPoint(T/_));return M},THREE.Path.prototype.getPoints=function(_,S){if(this.useSpacedPoints)return console.log('tata'),this.getSpacedPoints(_,S);_=_||12;var M=[],T,C,A,E,L,P,D,R,F,V,U,B,N,I,O,G,H,W;for(T=0,C=this.actions.length;T<C;T++)switch(A=this.actions[T],E=A.action,L=A.args,E){case THREE.PathActions.MOVE_TO:M.push(new THREE.Vector2(L[0],L[1]));break;case THREE.PathActions.LINE_TO:M.push(new THREE.Vector2(L[0],L[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(P=L[2],D=L[3],V=L[0],U=L[1],0<M.length?(I=M[M.length-1],B=I.x,N=I.y):(I=this.actions[T-1].args,B=I[I.length-2],N=I[I.length-1]),O=1;O<=_;O++)G=O/_,H=THREE.Shape.Utils.b2(G,B,V,P),W=THREE.Shape.Utils.b2(G,N,U,D),M.push(new THREE.Vector2(H,W));break;case THREE.PathActions.BEZIER_CURVE_TO:for(P=L[4],D=L[5],V=L[0],U=L[1],R=L[2],F=L[3],0<M.length?(I=M[M.length-1],B=I.x,N=I.y):(I=this.actions[T-1].args,B=I[I.length-2],N=I[I.length-1]),O=1;O<=_;O++)G=O/_,H=THREE.Shape.Utils.b3(G,B,V,R,P),W=THREE.Shape.Utils.b3(G,N,U,F,D),M.push(new THREE.Vector2(H,W));break;case THREE.PathActions.CSPLINE_THRU:I=this.actions[T-1].args;var X=new THREE.Vector2(I[I.length-2],I[I.length-1]),Y=[X],K=_*L[0].length;Y=Y.concat(L[0]);var Q=new THREE.SplineCurve(Y);for(O=1;O<=K;O++)M.push(Q.getPointAt(O/K));break;case THREE.PathActions.ARC:var Z=L[0],J=L[1],$=L[2],ee=L[3],re=L[4],oe=!!L[5],ie=re-ee,se=2*_,ne;for(O=1;O<=se;O++)G=O/se,oe||(G=1-G),ne=ee+G*ie,H=Z+$*Math.cos(ne),W=J+$*Math.sin(ne),M.push(new THREE.Vector2(H,W));break;case THREE.PathActions.ELLIPSE:var Z=L[0],J=L[1],le=L[2],pe=L[3],ee=L[4],re=L[5],oe=!!L[6],ie=re-ee,se=2*_,ne;for(O=1;O<=se;O++)G=O/se,oe||(G=1-G),ne=ee+G*ie,H=Z+le*Math.cos(ne),W=J+pe*Math.sin(ne),M.push(new THREE.Vector2(H,W));}var ue=M[M.length-1],he=1e-10;return Math.abs(ue.x-M[0].x)<he&&Math.abs(ue.y-M[0].y)<he&&M.splice(M.length-1,1),S&&M.push(M[0]),M},THREE.Path.prototype.toShapes=function(_){var E=[],L=new THREE.Path,S,M,T,C,A;for(S=0,M=this.actions.length;S<M;S++)T=this.actions[S],A=T.args,C=T.action,C==THREE.PathActions.MOVE_TO&&0!=L.actions.length&&(E.push(L),L=new THREE.Path),L[C].apply(L,A);if(0!=L.actions.length&&E.push(L),0==E.length)return[];var F=[],P,D,R;if(1==E.length)return D=E[0],R=new THREE.Shape,R.actions=D.actions,R.curves=D.curves,F.push(R),F;var V=!THREE.Shape.Utils.isClockWise(E[0].getPoints());if(V=_?!V:V,V)for(R=new THREE.Shape,S=0,M=E.length;S<M;S++)D=E[S],P=THREE.Shape.Utils.isClockWise(D.getPoints()),P=_?!P:P,P?(R.actions=D.actions,R.curves=D.curves,F.push(R),R=new THREE.Shape):R.holes.push(D);else{for(R=void 0,S=0,M=E.length;S<M;S++)D=E[S],P=THREE.Shape.Utils.isClockWise(D.getPoints()),P=_?!P:P,P?(R&&F.push(R),R=new THREE.Shape,R.actions=D.actions,R.curves=D.curves):R.holes.push(D);F.push(R)}return F},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(_){var S=new THREE.ExtrudeGeometry(this,_);return S},THREE.Shape.prototype.makeGeometry=function(_){var S=new THREE.ShapeGeometry(this,_);return S},THREE.Shape.prototype.getPointsHoles=function(_){var M=this.holes.length,T=[],S;for(S=0;S<M;S++)T[S]=this.holes[S].getTransformedPoints(_,this.bends);return T},THREE.Shape.prototype.getSpacedPointsHoles=function(_){var M=this.holes.length,T=[],S;for(S=0;S<M;S++)T[S]=this.holes[S].getTransformedSpacedPoints(_,this.bends);return T},THREE.Shape.prototype.extractAllPoints=function(_){return{shape:this.getTransformedPoints(_),holes:this.getPointsHoles(_)}},THREE.Shape.prototype.extractPoints=function(_){return this.useSpacedPoints?this.extractAllSpacedPoints(_):this.extractAllPoints(_)},THREE.Shape.prototype.extractAllSpacedPoints=function(_){return{shape:this.getTransformedSpacedPoints(_),holes:this.getSpacedPointsHoles(_)}},THREE.Shape.Utils={removeHoles:function(_,S){var M=_.concat(),T=M.concat(),C,E,P,D,V,U,B,N,I,O,G,H,W,X,Y,K,Q=[];for(V=0;V<S.length;V++){for(B=S[V],Array.prototype.push.apply(T,B),N=Number.POSITIVE_INFINITY,U=0;U<B.length;U++){G=B[U];var Z=[];for(O=0;O<M.length;O++)H=M[O],I=G.distanceToSquared(H),Z.push(I),I<N&&(N=I,P=U,D=O)}C=0<=D-1?D-1:M.length-1,E=0<=P-1?P-1:B.length-1;var J=[B[P],M[D],M[C]],$=THREE.FontUtils.Triangulate.area(J),ee=[B[P],B[E],M[D]],re=THREE.FontUtils.Triangulate.area(ee),ne=D,se=P;D+=1,P+=-1,0>D&&(D+=M.length),D%=M.length,0>P&&(P+=B.length),P%=B.length,C=0<=D-1?D-1:M.length-1,E=0<=P-1?P-1:B.length-1,J=[B[P],M[D],M[C]];var le=THREE.FontUtils.Triangulate.area(J);ee=[B[P],B[E],M[D]];var pe=THREE.FontUtils.Triangulate.area(ee);$+re>le+pe&&(D=ne,P=se,0>D&&(D+=M.length),D%=M.length,0>P&&(P+=B.length),P%=B.length,C=0<=D-1?D-1:M.length-1,E=0<=P-1?P-1:B.length-1),W=M.slice(0,D),X=M.slice(D),Y=B.slice(P),K=B.slice(0,P);var ue=[B[P],M[D],M[C]],he=[B[P],B[E],M[D]];Q.push(ue),Q.push(he),M=W.concat(Y).concat(K).concat(X)}return{shape:M,isolatedPts:Q,allpoints:T}},triangulateShape:function(_,S){var M=THREE.Shape.Utils.removeHoles(_,S),T=M.shape,C=M.allpoints,A=M.isolatedPts,E=THREE.FontUtils.Triangulate(T,!1),L,P,D,R,F,V,U={};for(L=0,P=C.length;L<P;L++)F=C[L].x+':'+C[L].y,void 0!==U[F]&&console.log('Duplicate point',F),U[F]=L;for(L=0,P=E.length;L<P;L++)for(R=E[L],D=0;3>D;D++)F=R[D].x+':'+R[D].y,V=U[F],void 0!==V&&(R[D]=V);for(L=0,P=A.length;L<P;L++)for(R=A[L],D=0;3>D;D++)F=R[D].x+':'+R[D].y,V=U[F],void 0!==V&&(R[D]=V);return E.concat(A)},isClockWise:function(_){return 0>THREE.FontUtils.Triangulate.area(_)},b2p0:function(_,S){var M=1-_;return M*M*S},b2p1:function(_,S){return 2*(1-_)*_*S},b2p2:function(_,S){return _*_*S},b2:function(_,S,M,T){return this.b2p0(_,S)+this.b2p1(_,M)+this.b2p2(_,T)},b3p0:function(_,S){var M=1-_;return M*M*M*S},b3p1:function(_,S){var M=1-_;return 3*M*M*_*S},b3p2:function(_,S){return 3*(1-_)*_*_*S},b3p3:function(_,S){return _*_*_*S},b3:function(_,S,M,T,C){return this.b3p0(_,S)+this.b3p1(_,M)+this.b3p2(_,T)+this.b3p3(_,C)}},THREE.LineCurve=function(_,S){this.v1=_,this.v2=S},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(_){var S=this.v2.clone().sub(this.v1);return S.multiplyScalar(_).add(this.v1),S},THREE.LineCurve.prototype.getPointAt=function(_){return this.getPoint(_)},THREE.LineCurve.prototype.getTangent=function(){var S=this.v2.clone().sub(this.v1);return S.normalize()},THREE.QuadraticBezierCurve=function(_,S,M){this.v0=_,this.v1=S,this.v2=M},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(_){var S,M;return S=THREE.Shape.Utils.b2(_,this.v0.x,this.v1.x,this.v2.x),M=THREE.Shape.Utils.b2(_,this.v0.y,this.v1.y,this.v2.y),new THREE.Vector2(S,M)},THREE.QuadraticBezierCurve.prototype.getTangent=function(_){var S,M;S=THREE.Curve.Utils.tangentQuadraticBezier(_,this.v0.x,this.v1.x,this.v2.x),M=THREE.Curve.Utils.tangentQuadraticBezier(_,this.v0.y,this.v1.y,this.v2.y);var T=new THREE.Vector2(S,M);return T.normalize(),T},THREE.CubicBezierCurve=function(_,S,M,T){this.v0=_,this.v1=S,this.v2=M,this.v3=T},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(_){var S,M;return S=THREE.Shape.Utils.b3(_,this.v0.x,this.v1.x,this.v2.x,this.v3.x),M=THREE.Shape.Utils.b3(_,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(S,M)},THREE.CubicBezierCurve.prototype.getTangent=function(_){var S,M;S=THREE.Curve.Utils.tangentCubicBezier(_,this.v0.x,this.v1.x,this.v2.x,this.v3.x),M=THREE.Curve.Utils.tangentCubicBezier(_,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var T=new THREE.Vector2(S,M);return T.normalize(),T},THREE.SplineCurve=function(_){this.points=_==void 0?[]:_},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(_){var S=new THREE.Vector2,M=[],T=this.points,C,A,E;return C=(T.length-1)*_,A=Math.floor(C),E=C-A,M[0]=0==A?A:A-1,M[1]=A,M[2]=A>T.length-2?T.length-1:A+1,M[3]=A>T.length-3?T.length-1:A+2,S.x=THREE.Curve.Utils.interpolate(T[M[0]].x,T[M[1]].x,T[M[2]].x,T[M[3]].x,E),S.y=THREE.Curve.Utils.interpolate(T[M[0]].y,T[M[1]].y,T[M[2]].y,T[M[3]].y,E),S},THREE.EllipseCurve=function(_,S,M,T,C,A,E){this.aX=_,this.aY=S,this.xRadius=M,this.yRadius=T,this.aStartAngle=C,this.aEndAngle=A,this.aClockwise=E},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(_){var S,M=this.aEndAngle-this.aStartAngle;0>M&&(M+=2*Math.PI),M>2*Math.PI&&(M-=2*Math.PI),S=!0===this.aClockwise?this.aEndAngle+(1-_)*(2*Math.PI-M):this.aStartAngle+_*M;var T=this.aX+this.xRadius*Math.cos(S),C=this.aY+this.yRadius*Math.sin(S);return new THREE.Vector2(T,C)},THREE.ArcCurve=function(_,S,M,T,C,A){THREE.EllipseCurve.call(this,_,S,M,M,T,C,A)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3=THREE.Curve.create(function(_,S){this.v1=_,this.v2=S},function(_){var S=new THREE.Vector3;return S.subVectors(this.v2,this.v1),S.multiplyScalar(_),S.add(this.v1),S}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(_,S,M){this.v0=_,this.v1=S,this.v2=M},function(_){var S,M,T;return S=THREE.Shape.Utils.b2(_,this.v0.x,this.v1.x,this.v2.x),M=THREE.Shape.Utils.b2(_,this.v0.y,this.v1.y,this.v2.y),T=THREE.Shape.Utils.b2(_,this.v0.z,this.v1.z,this.v2.z),new THREE.Vector3(S,M,T)}),THREE.CubicBezierCurve3=THREE.Curve.create(function(_,S,M,T){this.v0=_,this.v1=S,this.v2=M,this.v3=T},function(_){var S,M,T;return S=THREE.Shape.Utils.b3(_,this.v0.x,this.v1.x,this.v2.x,this.v3.x),M=THREE.Shape.Utils.b3(_,this.v0.y,this.v1.y,this.v2.y,this.v3.y),T=THREE.Shape.Utils.b3(_,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new THREE.Vector3(S,M,T)}),THREE.SplineCurve3=THREE.Curve.create(function(_){this.points=_==void 0?[]:_},function(_){var S=new THREE.Vector3,M=[],T=this.points,C,A,E;C=(T.length-1)*_,A=Math.floor(C),E=C-A,M[0]=0==A?A:A-1,M[1]=A,M[2]=A>T.length-2?T.length-1:A+1,M[3]=A>T.length-3?T.length-1:A+2;var L=T[M[0]],P=T[M[1]],D=T[M[2]],R=T[M[3]];return S.x=THREE.Curve.Utils.interpolate(L.x,P.x,D.x,R.x,E),S.y=THREE.Curve.Utils.interpolate(L.y,P.y,D.y,R.y,E),S.z=THREE.Curve.Utils.interpolate(L.z,P.z,D.z,R.z,E),S}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(_){this.points=_==void 0?[]:_},function(_){var S=new THREE.Vector3,M=[],T=this.points,C,A,E;return C=(T.length-0)*_,A=Math.floor(C),E=C-A,A+=0<A?0:(Math.floor(Math.abs(A)/T.length)+1)*T.length,M[0]=(A-1)%T.length,M[1]=A%T.length,M[2]=(A+1)%T.length,M[3]=(A+2)%T.length,S.x=THREE.Curve.Utils.interpolate(T[M[0]].x,T[M[1]].x,T[M[2]].x,T[M[3]].x,E),S.y=THREE.Curve.Utils.interpolate(T[M[0]].y,T[M[1]].y,T[M[2]].y,T[M[3]].y,E),S.z=THREE.Curve.Utils.interpolate(T[M[0]].z,T[M[1]].z,T[M[2]].z,T[M[3]].z,E),S}),THREE.AnimationHandler=function(){var _=[],S={},M={};M.update=function(A){for(var E=0;E<_.length;E++)_[E].update(A)},M.addToUpdate=function(A){-1===_.indexOf(A)&&_.push(A)},M.removeFromUpdate=function(A){var E=_.indexOf(A);-1!==E&&_.splice(E,1)},M.add=function(A){void 0!==S[A.name]&&console.log('THREE.AnimationHandler.add: Warning! '+A.name+' already exists in library. Overwriting.'),S[A.name]=A,C(A)},M.get=function(A){if('string'===typeof A)return S[A]?S[A]:(console.log('THREE.AnimationHandler.get: Couldn\'t find animation '+A),null)},M.parse=function(A){var E=[];if(A instanceof THREE.SkinnedMesh)for(var L=0;L<A.bones.length;L++)E.push(A.bones[L]);else T(A,E);return E};var T=function(A,E){E.push(A);for(var L=0;L<A.children.length;L++)T(A.children[L],E)},C=function(A){if(!0!==A.initialized){for(var E=0;E<A.hierarchy.length;E++){for(var L=0;L<A.hierarchy[E].keys.length;L++)if(0>A.hierarchy[E].keys[L].time&&(A.hierarchy[E].keys[L].time=0),void 0!==A.hierarchy[E].keys[L].rot&&!(A.hierarchy[E].keys[L].rot instanceof THREE.Quaternion)){var P=A.hierarchy[E].keys[L].rot;A.hierarchy[E].keys[L].rot=new THREE.Quaternion(P[0],P[1],P[2],P[3])}if(A.hierarchy[E].keys.length&&void 0!==A.hierarchy[E].keys[0].morphTargets){for(var D={},L=0;L<A.hierarchy[E].keys.length;L++)for(var R=0,F;R<A.hierarchy[E].keys[L].morphTargets.length;R++)F=A.hierarchy[E].keys[L].morphTargets[R],D[F]=-1;A.hierarchy[E].usedMorphTargets=D;for(var L=0,V;L<A.hierarchy[E].keys.length;L++){for(var F in V={},D){for(var R=0;R<A.hierarchy[E].keys[L].morphTargets.length;R++)if(A.hierarchy[E].keys[L].morphTargets[R]===F){V[F]=A.hierarchy[E].keys[L].morphTargetsInfluences[R];break}R===A.hierarchy[E].keys[L].morphTargets.length&&(V[F]=0)}A.hierarchy[E].keys[L].morphTargetsInfluences=V}}for(var L=1;L<A.hierarchy[E].keys.length;L++)A.hierarchy[E].keys[L].time===A.hierarchy[E].keys[L-1].time&&(A.hierarchy[E].keys.splice(L,1),L--);for(var L=0;L<A.hierarchy[E].keys.length;L++)A.hierarchy[E].keys[L].index=L}var U=parseInt(A.length*A.fps,10);A.JIT={},A.JIT.hierarchy=[];for(var E=0;E<A.hierarchy.length;E++)A.JIT.hierarchy.push(Array(U));A.initialized=!0}};return M.LINEAR=0,M.CATMULLROM=1,M.CATMULLROM_FORWARD=2,M}(),THREE.Animation=function(_,S,M){this.root=_,this.data=THREE.AnimationHandler.get(S),this.hierarchy=THREE.AnimationHandler.parse(_),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.interpolationType=M===void 0?THREE.AnimationHandler.LINEAR:M,this.points=[],this.target=new THREE.Vector3},THREE.Animation.prototype.play=function(_,S){if(!1===this.isPlaying){this.isPlaying=!0,this.loop=!(_!==void 0)||_,this.currentTime=S===void 0?0:S;var T=this.hierarchy.length,M,C;for(M=0;M<T;M++){C=this.hierarchy[M],C.matrixAutoUpdate=!0,C.animationCache===void 0&&(C.animationCache={},C.animationCache.prevKey={pos:0,rot:0,scl:0},C.animationCache.nextKey={pos:0,rot:0,scl:0},C.animationCache.originalMatrix=C instanceof THREE.Bone?C.skinMatrix:C.matrix);var A=C.animationCache.prevKey,E=C.animationCache.nextKey;A.pos=this.data.hierarchy[M].keys[0],A.rot=this.data.hierarchy[M].keys[0],A.scl=this.data.hierarchy[M].keys[0],E.pos=this.getNextKeyWith('pos',M,1),E.rot=this.getNextKeyWith('rot',M,1),E.scl=this.getNextKeyWith('scl',M,1)}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.Animation.prototype.pause=function(){!0===this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.Animation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.removeFromUpdate(this)},THREE.Animation.prototype.update=function(_){if(!1!==this.isPlaying){var S=['pos','rot','scl'],V=this.data.JIT.hierarchy,M,T,C,A,E,L,P,D,R,F,U,B,N,I,O;for(this.currentTime+=_*this.timeScale,B=this.currentTime;this.currentTime>this.data.length;)this.currentTime-=this.data.length;U=this.currentTime%=this.data.length,F=parseInt(Math.min(U*this.data.fps,this.data.length*this.data.fps),10);for(var G=0,H=this.hierarchy.length;G<H;G++){D=this.hierarchy[G],R=D.animationCache;for(var W=0;3>W;W++){if(M=S[W],L=R.prevKey[M],P=R.nextKey[M],P.time<=B){if(!(U<=B))do L=P,P=this.getNextKeyWith(M,G,P.index+1);while(null!==P&&P.time<U&&P.index>L.index);else if(this.loop)for(L=this.data.hierarchy[G].keys[0],P=this.getNextKeyWith(M,G,1);null!==P&&P.time<U&&P.index>L.index;)L=P,P=this.getNextKeyWith(M,G,P.index+1);else return void this.stop();R.prevKey[M]=L,R.nextKey[M]=P}D.matrixAutoUpdate=!0,D.matrixWorldNeedsUpdate=!0,T=(U-L.time)/(P.time-L.time),A=L[M],E=P[M],(0>T||1<T)&&(console.log('THREE.Animation.update: Warning! Scale out of bounds:'+T+' on bone '+G),T=0>T?0:1),'pos'===M?(C=D.position,this.interpolationType===THREE.AnimationHandler.LINEAR?(C.x=A[0]+(E[0]-A[0])*T,C.y=A[1]+(E[1]-A[1])*T,C.z=A[2]+(E[2]-A[2])*T):(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)&&(this.points[0]=this.getPrevKeyWith('pos',G,L.index-1).pos,this.points[1]=A,this.points[2]=E,this.points[3]=this.getNextKeyWith('pos',G,P.index+1).pos,T=0.33*T+0.33,N=this.interpolateCatmullRom(this.points,T),C.x=N[0],C.y=N[1],C.z=N[2],this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(I=this.interpolateCatmullRom(this.points,1.01*T),this.target.set(I[0],I[1],I[2]),this.target.sub(C),this.target.y=0,this.target.normalize(),O=Math.atan2(this.target.x,this.target.z),D.rotation.set(0,O,0)))):'rot'===M?THREE.Quaternion.slerp(A,E,D.quaternion,T):'scl'===M&&(C=D.scale,C.x=A[0]+(E[0]-A[0])*T,C.y=A[1]+(E[1]-A[1])*T,C.z=A[2]+(E[2]-A[2])*T)}}}},THREE.Animation.prototype.interpolateCatmullRom=function(_,S){var M=[],T=[],C,A,E,L,P,D,R,F,V;return C=(_.length-1)*S,A=Math.floor(C),E=C-A,M[0]=0===A?A:A-1,M[1]=A,M[2]=A>_.length-2?A:A+1,M[3]=A>_.length-3?A:A+2,D=_[M[0]],R=_[M[1]],F=_[M[2]],V=_[M[3]],L=E*E,P=E*L,T[0]=this.interpolate(D[0],R[0],F[0],V[0],E,L,P),T[1]=this.interpolate(D[1],R[1],F[1],V[1],E,L,P),T[2]=this.interpolate(D[2],R[2],F[2],V[2],E,L,P),T},THREE.Animation.prototype.interpolate=function(_,S,M,T,C,A,E){var L=0.5*(M-_),P=0.5*(T-S);return(2*(S-M)+L+P)*E+(-3*(S-M)-2*L-P)*A+L*C+S},THREE.Animation.prototype.getNextKeyWith=function(_,S,M){var T=this.data.hierarchy[S].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?M=M<T.length-1?M:T.length-1:M%=T.length;M<T.length;M++)if(T[M][_]!==void 0)return T[M];return this.data.hierarchy[S].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(_,S,M){var T=this.data.hierarchy[S].keys;for(M=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<M?M:0:0<=M?M:M+T.length;0<=M;M--)if(T[M][_]!==void 0)return T[M];return this.data.hierarchy[S].keys[T.length-1]},THREE.KeyFrameAnimation=function(_,S,M){this.root=_,this.data=THREE.AnimationHandler.get(S),this.hierarchy=THREE.AnimationHandler.parse(_),this.currentTime=0,this.timeScale=1e-3,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.JITCompile=!(M!==void 0)||M;for(var T=0,C=this.hierarchy.length;T<C;T++){var A=this.data.hierarchy[T].keys,E=this.data.hierarchy[T].sids,L=this.hierarchy[T];if(A.length&&E){for(var P=0;P<E.length;P++){var D=E[P],R=this.getNextKeyWith(D,T,0);R&&R.apply(D)}L.matrixAutoUpdate=!1,this.data.hierarchy[T].node.updateMatrix(),L.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(_,S){if(!this.isPlaying){this.isPlaying=!0,this.loop=!(_!==void 0)||_,this.currentTime=S===void 0?0:S,this.startTimeMs=S,this.startTime=1e7,this.endTime=-this.startTime;var T=this.hierarchy.length,M,C,A;for(M=0;M<T;M++){C=this.hierarchy[M],A=this.data.hierarchy[M],A.animationCache===void 0&&(A.animationCache={},A.animationCache.prevKey=null,A.animationCache.nextKey=null,A.animationCache.originalMatrix=C instanceof THREE.Bone?C.skinMatrix:C.matrix);var E=this.data.hierarchy[M].keys;E.length&&(A.animationCache.prevKey=E[0],A.animationCache.nextKey=E[1],this.startTime=Math.min(E[0].time,this.startTime),this.endTime=Math.max(E[E.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.removeFromUpdate(this);for(var _=0;_<this.data.hierarchy.length;_++){var S=this.hierarchy[_],M=this.data.hierarchy[_];if(M.animationCache!==void 0){var T=M.animationCache.originalMatrix;S instanceof THREE.Bone?(T.copy(S.skinMatrix),S.skinMatrix=T):(T.copy(S.matrix),S.matrix=T),delete M.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(_){if(this.isPlaying){var E=this.data.JIT.hierarchy,S,M,T,C,A,L,P,D;if(this.currentTime+=_*this.timeScale,P=this.currentTime,L=this.currentTime%=this.data.length,L<this.startTimeMs&&(L=this.currentTime=this.startTimeMs+L),A=parseInt(Math.min(L*this.data.fps,this.data.length*this.data.fps),10),D=L<P,D&&!this.loop){for(var R=0,F=this.hierarchy.length;R<F;R++){var V=this.data.hierarchy[R].keys,U=this.data.hierarchy[R].sids,B=V.length-1,N=this.hierarchy[R];if(V.length){for(var I=0;I<U.length;I++){var O=U[I],G=this.getPrevKeyWith(O,R,B);G&&G.apply(O)}this.data.hierarchy[R].node.updateMatrix(),N.matrixWorldNeedsUpdate=!0}}return void this.stop()}if(!(L<this.startTime)){for(var R=0,F=this.hierarchy.length;R<F;R++){T=this.hierarchy[R],C=this.data.hierarchy[R];var V=C.keys,H=C.animationCache;if(this.JITCompile&&void 0!==E[R][A])T instanceof THREE.Bone?(T.skinMatrix=E[R][A],T.matrixWorldNeedsUpdate=!1):(T.matrix=E[R][A],T.matrixWorldNeedsUpdate=!0);else if(V.length){if(this.JITCompile&&H&&(T instanceof THREE.Bone?T.skinMatrix=H.originalMatrix:T.matrix=H.originalMatrix),S=H.prevKey,M=H.nextKey,S&&M){if(M.time<=P){if(D&&this.loop)for(S=V[0],M=V[1];M.time<L;)S=M,M=V[S.index+1];else if(!D)for(var W=V.length-1;M.time<L&&M.index!==W;)S=M,M=V[S.index+1];H.prevKey=S,H.nextKey=M}M.time>=L?S.interpolate(M,L):S.interpolate(M,M.time)}this.data.hierarchy[R].node.updateMatrix(),T.matrixWorldNeedsUpdate=!0}}if(this.JITCompile&&void 0===E[0][A]){this.hierarchy[0].updateMatrixWorld(!0);for(var R=0;R<this.hierarchy.length;R++)E[R][A]=this.hierarchy[R]instanceof THREE.Bone?this.hierarchy[R].skinMatrix.clone():this.hierarchy[R].matrix.clone()}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(_,S,M){var T=this.data.hierarchy[S].keys;for(M%=T.length;M<T.length;M++)if(T[M].hasTarget(_))return T[M];return T[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(_,S,M){var T=this.data.hierarchy[S].keys;for(M=0<=M?M:M+T.length;0<=M;M--)if(T[M].hasTarget(_))return T[M];return T[T.length-1]},THREE.CubeCamera=function(_,S,M){THREE.Object3D.call(this);var T=90,C=1,A=new THREE.PerspectiveCamera(T,C,_,S);A.up.set(0,-1,0),A.lookAt(new THREE.Vector3(1,0,0)),this.add(A);var E=new THREE.PerspectiveCamera(T,C,_,S);E.up.set(0,-1,0),E.lookAt(new THREE.Vector3(-1,0,0)),this.add(E);var L=new THREE.PerspectiveCamera(T,C,_,S);L.up.set(0,0,1),L.lookAt(new THREE.Vector3(0,1,0)),this.add(L);var P=new THREE.PerspectiveCamera(T,C,_,S);P.up.set(0,0,-1),P.lookAt(new THREE.Vector3(0,-1,0)),this.add(P);var D=new THREE.PerspectiveCamera(T,C,_,S);D.up.set(0,-1,0),D.lookAt(new THREE.Vector3(0,0,1)),this.add(D);var R=new THREE.PerspectiveCamera(T,C,_,S);R.up.set(0,-1,0),R.lookAt(new THREE.Vector3(0,0,-1)),this.add(R),this.renderTarget=new THREE.WebGLRenderTargetCube(M,M,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(F,V){var U=this.renderTarget,B=U.generateMipmaps;U.generateMipmaps=!1,U.activeCubeFace=0,F.render(V,A,U),U.activeCubeFace=1,F.render(V,E,U),U.activeCubeFace=2,F.render(V,L,U),U.activeCubeFace=3,F.render(V,P,U),U.activeCubeFace=4,F.render(V,D,U),U.generateMipmaps=B,U.activeCubeFace=5,F.render(V,R,U)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CombinedCamera=function(_,S,M,T,C,A,E){THREE.Camera.call(this),this.fov=M,this.left=-_/2,this.right=_/2,this.top=S/2,this.bottom=-S/2,this.cameraO=new THREE.OrthographicCamera(_/-2,_/2,S/2,S/-2,A,E),this.cameraP=new THREE.PerspectiveCamera(M,_/S,T,C),this.zoom=1,this.toPerspective()},THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype),THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},THREE.CombinedCamera.prototype.toOrthographic=function(){var _=this.fov,S=this.cameraP.aspect,M=this.cameraP.near,T=this.cameraP.far,A=Math.tan(_/2)*((M+T)/2),E=2*A,P=E*S/2;A/=this.zoom,P/=this.zoom,this.cameraO.left=-P,this.cameraO.right=P,this.cameraO.top=A,this.cameraO.bottom=-A,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},THREE.CombinedCamera.prototype.setSize=function(_,S){this.cameraP.aspect=_/S,this.left=-_/2,this.right=_/2,this.top=S/2,this.bottom=-S/2},THREE.CombinedCamera.prototype.setFov=function(_){this.fov=_,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},THREE.CombinedCamera.prototype.setLens=function(_,S){void 0===S&&(S=24);var M=2*THREE.Math.radToDeg(Math.atan(S/(2*_)));return this.setFov(M),M},THREE.CombinedCamera.prototype.setZoom=function(_){this.zoom=_,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CircleGeometry=function(_,S,M,T){THREE.Geometry.call(this),this.radius=_=_||50,this.segments=S=S===void 0?8:Math.max(3,S),this.thetaStart=M=M===void 0?0:M,this.thetaLength=T=T===void 0?2*Math.PI:T;var A=[],E=new THREE.Vector3,L=new THREE.Vector2(0.5,0.5),C;for(this.vertices.push(E),A.push(L),C=0;C<=S;C++){var P=new THREE.Vector3,D=M+C/S*T;P.x=_*Math.cos(D),P.y=_*Math.sin(D),this.vertices.push(P),A.push(new THREE.Vector2((P.x/_+1)/2,(P.y/_+1)/2))}var R=new THREE.Vector3(0,0,1);for(C=1;C<=S;C++){var F=C,V=C+1;this.faces.push(new THREE.Face3(F,V,0,[R.clone(),R.clone(),R.clone()])),this.faceVertexUvs[0].push([A[C].clone(),A[C+1].clone(),L.clone()])}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),_)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=function(_,S,M,T,C,A){function E(F,V,U,B,N,I,O,G){var Y=L.widthSegments,K=L.heightSegments,J=L.vertices.length,H,W,X;'x'===F&&'y'===V||'y'===F&&'x'===V?H='z':'x'===F&&'z'===V||'z'===F&&'x'===V?(H='y',K=L.depthSegments):('z'===F&&'y'===V||'y'===F&&'z'===V)&&(H='x',Y=L.depthSegments);var $=Y+1,ee=K+1,re=N/Y,oe=I/K,ie=new THREE.Vector3;for(ie[H]=0<O?1:-1,X=0;X<ee;X++)for(W=0;W<$;W++){var ne=new THREE.Vector3;ne[F]=(W*re-N/2)*U,ne[V]=(X*oe-I/2)*B,ne[H]=O,L.vertices.push(ne)}for(X=0;X<K;X++)for(W=0;W<Y;W++){var se=W+$*X,le=W+$*(X+1),pe=W+1+$*(X+1),ue=W+1+$*X,he=new THREE.Vector2(W/Y,1-X/K),fe=new THREE.Vector2(W/Y,1-(X+1)/K),ge=new THREE.Vector2((W+1)/Y,1-(X+1)/K),ye=new THREE.Vector2((W+1)/Y,1-X/K),xe=new THREE.Face3(se+J,le+J,ue+J);xe.normal.copy(ie),xe.vertexNormals.push(ie.clone(),ie.clone(),ie.clone()),xe.materialIndex=G,L.faces.push(xe),L.faceVertexUvs[0].push([he,fe,ye]),xe=new THREE.Face3(le+J,pe+J,ue+J),xe.normal.copy(ie),xe.vertexNormals.push(ie.clone(),ie.clone(),ie.clone()),xe.materialIndex=G,L.faces.push(xe),L.faceVertexUvs[0].push([fe.clone(),ge,ye.clone()])}}THREE.Geometry.call(this);var L=this;this.width=_,this.height=S,this.depth=M,this.widthSegments=T||1,this.heightSegments=C||1,this.depthSegments=A||1;var P=this.width/2,D=this.height/2,R=this.depth/2;E('z','y',-1,-1,this.depth,this.height,P,0),E('z','y',1,-1,this.depth,this.height,-P,1),E('x','z',1,1,this.width,this.depth,D,2),E('x','z',1,-1,this.width,this.depth,-D,3),E('x','y',1,-1,this.width,this.height,R,4),E('x','y',-1,-1,this.width,this.height,-R,5),this.computeCentroids(),this.mergeVertices()},THREE.CubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CylinderGeometry=function(_,S,M,T,C,A){THREE.Geometry.call(this),this.radiusTop=_=_===void 0?20:_,this.radiusBottom=S=S===void 0?20:S,this.height=M=M===void 0?100:M,this.radialSegments=T=T||8,this.heightSegments=C=C||1,this.openEnded=A=A!==void 0&&A;var E=M/2,L,P,D=[],R=[];for(P=0;P<=C;P++){var F=[],V=[],U=P/C,B=U*(S-_)+_;for(L=0;L<=T;L++){var N=L/T,I=new THREE.Vector3;I.x=B*Math.sin(2*(N*Math.PI)),I.y=-U*M+E,I.z=B*Math.cos(2*(N*Math.PI)),this.vertices.push(I),F.push(this.vertices.length-1),V.push(new THREE.Vector2(N,1-U))}D.push(F),R.push(V)}var O=(S-_)/M,G,H;for(L=0;L<T;L++)for(0===_?(G=this.vertices[D[1][L]].clone(),H=this.vertices[D[1][L+1]].clone()):(G=this.vertices[D[0][L]].clone(),H=this.vertices[D[0][L+1]].clone()),G.setY(Math.sqrt(G.x*G.x+G.z*G.z)*O).normalize(),H.setY(Math.sqrt(H.x*H.x+H.z*H.z)*O).normalize(),P=0;P<C;P++){var W=D[P][L],X=D[P+1][L],Y=D[P+1][L+1],K=D[P][L+1],Q=G.clone(),Z=G.clone(),J=H.clone(),$=H.clone(),ee=R[P][L].clone(),re=R[P+1][L].clone(),oe=R[P+1][L+1].clone(),ie=R[P][L+1].clone();this.faces.push(new THREE.Face3(W,X,K,[Q,Z,$])),this.faceVertexUvs[0].push([ee,re,ie]),this.faces.push(new THREE.Face3(X,Y,K,[Z.clone(),J,$.clone()])),this.faceVertexUvs[0].push([re.clone(),oe,ie.clone()])}if(!1===A&&0<_)for(this.vertices.push(new THREE.Vector3(0,E,0)),L=0;L<T;L++){var W=D[0][L],X=D[0][L+1],Y=this.vertices.length-1,Q=new THREE.Vector3(0,1,0),Z=new THREE.Vector3(0,1,0),J=new THREE.Vector3(0,1,0),ee=R[0][L].clone(),re=R[0][L+1].clone(),oe=new THREE.Vector2(re.x,0);this.faces.push(new THREE.Face3(W,X,Y,[Q,Z,J])),this.faceVertexUvs[0].push([ee,re,oe])}if(!1===A&&0<S)for(this.vertices.push(new THREE.Vector3(0,-E,0)),L=0;L<T;L++){var W=D[P][L+1],X=D[P][L],Y=this.vertices.length-1,Q=new THREE.Vector3(0,-1,0),Z=new THREE.Vector3(0,-1,0),J=new THREE.Vector3(0,-1,0),ee=R[P][L+1].clone(),re=R[P][L].clone(),oe=new THREE.Vector2(re.x,1);this.faces.push(new THREE.Face3(W,X,Y,[Q,Z,J])),this.faceVertexUvs[0].push([ee,re,oe])}this.computeCentroids(),this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(_,S){return'undefined'===typeof _?void(_=[]):void(THREE.Geometry.call(this),_=_ instanceof Array?_:[_],this.shapebb=_[_.length-1].getBoundingBox(),this.addShapeList(_,S),this.computeCentroids(),this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(_,S){for(var M=_.length,T=0,C;T<M;T++)C=_[T],this.addShape(C,S)},THREE.ExtrudeGeometry.prototype.addShape=function(_,S){function M(He,We,je){return We||console.log('die'),We.clone().multiplyScalar(je).add(He)}function T(He,We,je){return A(He,We,je)}function C(He,We,je){var Xe=Math.atan2(We.y-He.y,We.x-He.x),qe=Math.atan2(je.y-He.y,je.x-He.x);Xe>qe&&(qe+=2*Math.PI);var Ye=(Xe+qe)/2,Ke=-Math.cos(Ye),Qe=-Math.sin(Ye),Ze=new THREE.Vector2(Ke,Qe);return Ze}function A(He,We,je){var Xe=THREE.ExtrudeGeometry.__v1,qe=THREE.ExtrudeGeometry.__v2,Ye=THREE.ExtrudeGeometry.__v3,Ke=THREE.ExtrudeGeometry.__v4,Qe=THREE.ExtrudeGeometry.__v5,Ze=THREE.ExtrudeGeometry.__v6,Je,$e,et,tt,rt,at;return(Xe.set(He.x-We.x,He.y-We.y),qe.set(He.x-je.x,He.y-je.y),Je=Xe.normalize(),$e=qe.normalize(),Ye.set(-Je.y,Je.x),Ke.set($e.y,-$e.x),Qe.copy(He).add(Ye),Ze.copy(He).add(Ke),Qe.equals(Ze))?Ke.clone():(Qe.copy(We).add(Ye),Ze.copy(je).add(Ke),et=Je.dot(Ke),tt=Ze.sub(Qe).dot(Ke),0===et&&(console.log('Either infinite or no solutions!'),0===tt?console.log('Its finite solutions.'):console.log('Too bad, no solutions.')),rt=tt/et,0>rt)?C(He,We,je):(at=Je.multiplyScalar(rt).add(Qe),at.sub(He).clone())}function P(He,We){var je,Xe;for(Re=He.length;0<=--Re;){je=Re,Xe=Re-1,0>Xe&&(Xe=He.length-1);var qe=0,Ye=G+2*N;for(qe=0;qe<Ye;qe++){var Ke=Ce*qe,Qe=Ce*(qe+1),Ze=We+je+Ke,Je=We+Xe+Ke,$e=We+Xe+Qe,et=We+je+Qe;F(Ze,Je,$e,et,He,qe,Ye,je,Xe)}}}function D(He,We,je){se.vertices.push(new THREE.Vector3(He,We,je))}function R(He,We,je,Xe){He+=pe,We+=pe,je+=pe,se.faces.push(new THREE.Face3(He,We,je,null,null,Y));var qe=Xe?Q.generateBottomUV(se,_,S,He,We,je):Q.generateTopUV(se,_,S,He,We,je);se.faceVertexUvs[0].push(qe)}function F(He,We,je,Xe,qe,Ye,Ke,Qe,Ze){He+=pe,We+=pe,je+=pe,Xe+=pe,se.faces.push(new THREE.Face3(He,We,Xe,null,null,K)),se.faces.push(new THREE.Face3(We,je,Xe,null,null,K));var Je=Q.generateSideWallUV(se,_,qe,S,He,We,je,Xe,Ye,Ke,Qe,Ze);se.faceVertexUvs[0].push([Je[0],Je[1],Je[3]]),se.faceVertexUvs[0].push([Je[1],Je[2],Je[3]])}var V=S.amount===void 0?100:S.amount,U=S.bevelThickness===void 0?6:S.bevelThickness,B=S.bevelSize===void 0?U-2:S.bevelSize,N=S.bevelSegments===void 0?3:S.bevelSegments,I=!(S.bevelEnabled!==void 0)||S.bevelEnabled,O=S.curveSegments===void 0?12:S.curveSegments,G=S.steps===void 0?1:S.steps,H=S.extrudePath,W,X=!1,Y=S.material,K=S.extrudeMaterial,Q=S.UVGenerator===void 0?THREE.ExtrudeGeometry.WorldUVGenerator:S.UVGenerator,Z=this.shapebb,J,$,ee,re;H&&(W=H.getSpacedPoints(G),X=!0,I=!1,J=S.frames===void 0?new THREE.TubeGeometry.FrenetFrames(H,G,!1):S.frames,$=new THREE.Vector3,ee=new THREE.Vector3,re=new THREE.Vector3),I||(N=0,U=0,B=0);var oe,ie,ne,se=this,pe=this.vertices.length,ue=_.extractPoints(O),he=ue.shape,fe=ue.holes,ge=!THREE.Shape.Utils.isClockWise(he);if(ge){for(he=he.reverse(),ie=0,ne=fe.length;ie<ne;ie++)oe=fe[ie],THREE.Shape.Utils.isClockWise(oe)&&(fe[ie]=oe.reverse());ge=!1}var ye=THREE.Shape.Utils.triangulateShape(he,fe),xe=he;for(ie=0,ne=fe.length;ie<ne;ie++)oe=fe[ie],he=he.concat(oe);for(var Ce=he.length,we=ye.length,Le=xe.length,Pe=180/Math.PI,De=[],Re=0,Fe=xe.length,Ve=Fe-1,Ue=Re+1,ve,_e,Se,Me,Te,Ae;Re<Fe;Re++,Ve++,Ue++){Ve===Fe&&(Ve=0),Ue===Fe&&(Ue=0);var ze=xe[Re],Be=xe[Ve],Ne=xe[Ue];De[Re]=T(xe[Re],xe[Ve],xe[Ue])}var Ie=[],ke=De.concat(),Oe;for(ie=0,ne=fe.length;ie<ne;ie++){for(oe=fe[ie],Oe=[],(Re=0,Fe=oe.length,Ve=Fe-1,Ue=Re+1);Re<Fe;Re++,Ve++,Ue++)Ve===Fe&&(Ve=0),Ue===Fe&&(Ue=0),Oe[Re]=T(oe[Re],oe[Ve],oe[Ue]);Ie.push(Oe),ke=ke.concat(Oe)}for(ve=0;ve<N;ve++){for(Se=ve/N,Me=U*(1-Se),_e=B*Math.sin(Se*Math.PI/2),(Re=0,Fe=xe.length);Re<Fe;Re++)Te=M(xe[Re],De[Re],_e),D(Te.x,Te.y,-Me);for(ie=0,ne=fe.length;ie<ne;ie++)for(oe=fe[ie],Oe=Ie[ie],(Re=0,Fe=oe.length);Re<Fe;Re++)Te=M(oe[Re],Oe[Re],_e),D(Te.x,Te.y,-Me)}for(_e=B,Re=0;Re<Ce;Re++)Te=I?M(he[Re],ke[Re],_e):he[Re],X?(ee.copy(J.normals[0]).multiplyScalar(Te.x),$.copy(J.binormals[0]).multiplyScalar(Te.y),re.copy(W[0]).add(ee).add($),D(re.x,re.y,re.z)):D(Te.x,Te.y,0);var Ge;for(Ge=1;Ge<=G;Ge++)for(Re=0;Re<Ce;Re++)Te=I?M(he[Re],ke[Re],_e):he[Re],X?(ee.copy(J.normals[Ge]).multiplyScalar(Te.x),$.copy(J.binormals[Ge]).multiplyScalar(Te.y),re.copy(W[Ge]).add(ee).add($),D(re.x,re.y,re.z)):D(Te.x,Te.y,V/G*Ge);for(ve=N-1;0<=ve;ve--){for(Se=ve/N,Me=U*(1-Se),_e=B*Math.sin(Se*Math.PI/2),(Re=0,Fe=xe.length);Re<Fe;Re++)Te=M(xe[Re],De[Re],_e),D(Te.x,Te.y,V+Me);for(ie=0,ne=fe.length;ie<ne;ie++)for(oe=fe[ie],Oe=Ie[ie],(Re=0,Fe=oe.length);Re<Fe;Re++)Te=M(oe[Re],Oe[Re],_e),X?D(Te.x,Te.y+W[G-1].y,W[G-1].x+Me):D(Te.x,Te.y,V+Me)}(function(){if(I){var He=0,We=Ce*He;for(Re=0;Re<we;Re++)Ae=ye[Re],R(Ae[2]+We,Ae[1]+We,Ae[0]+We,!0);for(He=G+2*N,We=Ce*He,Re=0;Re<we;Re++)Ae=ye[Re],R(Ae[0]+We,Ae[1]+We,Ae[2]+We,!1)}else{for(Re=0;Re<we;Re++)Ae=ye[Re],R(Ae[2],Ae[1],Ae[0],!0);for(Re=0;Re<we;Re++)Ae=ye[Re],R(Ae[0]+Ce*G,Ae[1]+Ce*G,Ae[2]+Ce*G,!1)}})(),function(){var He=0;for(P(xe,He),He+=xe.length,(ie=0,ne=fe.length);ie<ne;ie++)oe=fe[ie],P(oe,He),He+=oe.length}()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(_,S,M,T,C,A){var E=_.vertices[T].x,L=_.vertices[T].y,P=_.vertices[C].x,D=_.vertices[C].y,R=_.vertices[A].x,F=_.vertices[A].y;return[new THREE.Vector2(E,L),new THREE.Vector2(P,D),new THREE.Vector2(R,F)]},generateBottomUV:function(_,S,M,T,C,A){return this.generateTopUV(_,S,M,T,C,A)},generateSideWallUV:function(_,S,M,T,C,A,E,L){var V=_.vertices[C].x,U=_.vertices[C].y,B=_.vertices[C].z,N=_.vertices[A].x,I=_.vertices[A].y,O=_.vertices[A].z,G=_.vertices[E].x,H=_.vertices[E].y,W=_.vertices[E].z,X=_.vertices[L].x,Y=_.vertices[L].y,K=_.vertices[L].z;return 0.01>Math.abs(U-I)?[new THREE.Vector2(V,1-B),new THREE.Vector2(N,1-O),new THREE.Vector2(G,1-W),new THREE.Vector2(X,1-K)]:[new THREE.Vector2(U,1-B),new THREE.Vector2(I,1-O),new THREE.Vector2(H,1-W),new THREE.Vector2(Y,1-K)]}},THREE.ExtrudeGeometry.__v1=new THREE.Vector2,THREE.ExtrudeGeometry.__v2=new THREE.Vector2,THREE.ExtrudeGeometry.__v3=new THREE.Vector2,THREE.ExtrudeGeometry.__v4=new THREE.Vector2,THREE.ExtrudeGeometry.__v5=new THREE.Vector2,THREE.ExtrudeGeometry.__v6=new THREE.Vector2,THREE.ShapeGeometry=function(_,S){THREE.Geometry.call(this),!1===_ instanceof Array&&(_=[_]),this.shapebb=_[_.length-1].getBoundingBox(),this.addShapeList(_,S),this.computeCentroids(),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(_,S){for(var M=0,T=_.length;M<T;M++)this.addShape(_[M],S);return this},THREE.ShapeGeometry.prototype.addShape=function(_,S){S===void 0&&(S={});var M=S.curveSegments===void 0?12:S.curveSegments,T=S.material,C=S.UVGenerator===void 0?THREE.ExtrudeGeometry.WorldUVGenerator:S.UVGenerator,A=this.shapebb,E,L,P,R=this.vertices.length,F=_.extractPoints(M),V=F.shape,U=F.holes,B=!THREE.Shape.Utils.isClockWise(V);if(B){for(V=V.reverse(),E=0,L=U.length;E<L;E++)P=U[E],THREE.Shape.Utils.isClockWise(P)&&(U[E]=P.reverse());B=!1}var N=THREE.Shape.Utils.triangulateShape(V,U),I=V;for(E=0,L=U.length;E<L;E++)P=U[E],V=V.concat(P);var G=V.length,O,H,W=N.length,Y=I.length;for(E=0;E<G;E++)O=V[E],this.vertices.push(new THREE.Vector3(O.x,O.y,0));for(E=0;E<W;E++){H=N[E];var K=H[0]+R,Q=H[1]+R,Z=H[2]+R;this.faces.push(new THREE.Face3(K,Q,Z,null,null,T)),this.faceVertexUvs[0].push(C.generateBottomUV(this,_,S,K,Q,Z))}},THREE.LatheGeometry=function(_,S,M,T){THREE.Geometry.call(this),S=S||12,M=M||0,T=T||2*Math.PI;for(var C=1/(_.length-1),A=1/S,E=0,L=S;E<=L;E++)for(var P=M+E*A*T,D=Math.cos(P),R=Math.sin(P),F=0,V=_.length;F<V;F++){var U=_[F],B=new THREE.Vector3;B.x=D*U.x-R*U.y,B.y=R*U.x+D*U.y,B.z=U.z,this.vertices.push(B)}for(var N=_.length,E=0,L=S;E<L;E++)for(var F=0,V=_.length-1;F<V;F++){var I=F+N*E,G=I+N,D=I+1+N,H=I+1,W=E*A,X=F*C,Y=W+A,K=X+C;this.faces.push(new THREE.Face3(I,G,H)),this.faceVertexUvs[0].push([new THREE.Vector2(W,X),new THREE.Vector2(Y,X),new THREE.Vector2(W,K)]),this.faces.push(new THREE.Face3(G,D,H)),this.faceVertexUvs[0].push([new THREE.Vector2(Y,X),new THREE.Vector2(Y,K),new THREE.Vector2(W,K)])}this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(_,S,M,T){THREE.Geometry.call(this),this.width=_,this.height=S,this.widthSegments=M||1,this.heightSegments=T||1;var C,A,P=this.widthSegments,D=this.heightSegments,R=P+1,V=this.width/P,U=this.height/D,B=new THREE.Vector3(0,0,1);for(A=0;A<D+1;A++)for(C=0;C<R;C++){var N=C*V-_/2,I=A*U-S/2;this.vertices.push(new THREE.Vector3(N,-I,0))}for(A=0;A<D;A++)for(C=0;C<P;C++){var O=C+R*A,G=C+R*(A+1),H=C+1+R*(A+1),W=C+1+R*A,X=new THREE.Vector2(C/P,1-A/D),Y=new THREE.Vector2(C/P,1-(A+1)/D),K=new THREE.Vector2((C+1)/P,1-(A+1)/D),Q=new THREE.Vector2((C+1)/P,1-A/D),Z=new THREE.Face3(O,G,W);Z.normal.copy(B),Z.vertexNormals.push(B.clone(),B.clone(),B.clone()),this.faces.push(Z),this.faceVertexUvs[0].push([X,Y,Q]),Z=new THREE.Face3(G,H,W),Z.normal.copy(B),Z.vertexNormals.push(B.clone(),B.clone(),B.clone()),this.faces.push(Z),this.faceVertexUvs[0].push([Y.clone(),K,Q.clone()])}this.computeCentroids()},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry=function(_,S,M,T,C,A){THREE.Geometry.call(this),_=_||0,S=S||50,C=C===void 0?0:C,A=A===void 0?2*Math.PI:A,M=M===void 0?8:Math.max(3,M),T=T===void 0?8:Math.max(3,T);var P=[],D=_,R=(S-_)/T,E,L;for(E=0;E<=T;E++){for(L=0;L<=M;L++){var F=new THREE.Vector3,V=C+L/M*A;F.x=D*Math.cos(V),F.y=D*Math.sin(V),this.vertices.push(F),P.push(new THREE.Vector2((F.x/S+1)/2,(F.y/S+1)/2))}D+=R}var U=new THREE.Vector3(0,0,1);for(E=0;E<T;E++){var B=E*M;for(L=0;L<=M;L++){var V=L+B,N=V+E,I=V+M+E,O=V+M+1+E;this.faces.push(new THREE.Face3(N,I,O,[U.clone(),U.clone(),U.clone()])),this.faceVertexUvs[0].push([P[N].clone(),P[I].clone(),P[O].clone()]),N=V+E,I=V+M+1+E,O=V+1+E,this.faces.push(new THREE.Face3(N,I,O,[U.clone(),U.clone(),U.clone()])),this.faceVertexUvs[0].push([P[N].clone(),P[I].clone(),P[O].clone()])}}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),D)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(_,S,M,T,C,A,E){THREE.Geometry.call(this),this.radius=_=_||50,this.widthSegments=S=Math.max(3,Math.floor(S)||8),this.heightSegments=M=Math.max(2,Math.floor(M)||6),this.phiStart=T=T===void 0?0:T,this.phiLength=C=C===void 0?2*Math.PI:C,this.thetaStart=A=A===void 0?0:A,this.thetaLength=E=E===void 0?Math.PI:E;var D=[],R=[],L,P;for(P=0;P<=M;P++){var F=[],V=[];for(L=0;L<=S;L++){var U=L/S,B=P/M,N=new THREE.Vector3;N.x=-_*Math.cos(T+U*C)*Math.sin(A+B*E),N.y=_*Math.cos(A+B*E),N.z=_*Math.sin(T+U*C)*Math.sin(A+B*E),this.vertices.push(N),F.push(this.vertices.length-1),V.push(new THREE.Vector2(U,1-B))}D.push(F),R.push(V)}for(P=0;P<this.heightSegments;P++)for(L=0;L<this.widthSegments;L++){var I=D[P][L+1],O=D[P][L],G=D[P+1][L],H=D[P+1][L+1],W=this.vertices[I].clone().normalize(),X=this.vertices[O].clone().normalize(),Y=this.vertices[G].clone().normalize(),K=this.vertices[H].clone().normalize(),Q=R[P][L+1].clone(),Z=R[P][L].clone(),J=R[P+1][L].clone(),$=R[P+1][L+1].clone();Math.abs(this.vertices[I].y)===this.radius?(Q.x=(Q.x+Z.x)/2,this.faces.push(new THREE.Face3(I,G,H,[W,Y,K])),this.faceVertexUvs[0].push([Q,J,$])):Math.abs(this.vertices[G].y)===this.radius?(J.x=(J.x+$.x)/2,this.faces.push(new THREE.Face3(I,O,G,[W,X,Y])),this.faceVertexUvs[0].push([Q,Z,J])):(this.faces.push(new THREE.Face3(I,O,H,[W,X,K])),this.faceVertexUvs[0].push([Q,Z,$]),this.faces.push(new THREE.Face3(O,G,H,[X.clone(),Y,K.clone()])),this.faceVertexUvs[0].push([Z.clone(),J,$.clone()]))}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),_)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(_,S){S=S||{};var M=THREE.FontUtils.generateShapes(_,S);S.amount=S.height===void 0?50:S.height,S.bevelThickness===void 0&&(S.bevelThickness=10),S.bevelSize===void 0&&(S.bevelSize=8),S.bevelEnabled===void 0&&(S.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,M,S)},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(_,S,M,T,C){THREE.Geometry.call(this);this;this.radius=_||100,this.tube=S||40,this.radialSegments=M||8,this.tubularSegments=T||6,this.arc=C||2*Math.PI;for(var E=new THREE.Vector3,L=[],P=[],D=0;D<=this.radialSegments;D++)for(var R=0;R<=this.tubularSegments;R++){var F=R/this.tubularSegments*this.arc,V=2*(D/this.radialSegments*Math.PI);E.x=this.radius*Math.cos(F),E.y=this.radius*Math.sin(F);var U=new THREE.Vector3;U.x=(this.radius+this.tube*Math.cos(V))*Math.cos(F),U.y=(this.radius+this.tube*Math.cos(V))*Math.sin(F),U.z=this.tube*Math.sin(V),this.vertices.push(U),L.push(new THREE.Vector2(R/this.tubularSegments,D/this.radialSegments)),P.push(U.clone().sub(E).normalize())}for(var D=1;D<=this.radialSegments;D++)for(var R=1;R<=this.tubularSegments;R++){var B=(this.tubularSegments+1)*D+R-1,N=(this.tubularSegments+1)*(D-1)+R-1,I=(this.tubularSegments+1)*(D-1)+R,O=(this.tubularSegments+1)*D+R,G=new THREE.Face3(B,N,O,[P[B],P[N],P[O]]);G.normal.add(P[B]),G.normal.add(P[N]),G.normal.add(P[O]),G.normal.normalize(),this.faces.push(G),this.faceVertexUvs[0].push([L[B].clone(),L[N].clone(),L[O].clone()]),G=new THREE.Face3(N,I,O,[P[N],P[I],P[O]]),G.normal.add(P[N]),G.normal.add(P[I]),G.normal.add(P[O]),G.normal.normalize(),this.faces.push(G),this.faceVertexUvs[0].push([L[N].clone(),L[I].clone(),L[O].clone()])}this.computeCentroids()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(_,S,M,T,C,A,E){function L(ie,ne,se,le,pe){var ue=Math.cos(ie),he=Math.sin(ie),fe=ne/se*ie,ge=Math.cos(fe),ve=0.5*(pe*le*Math.sin(fe));return new THREE.Vector3(0.5*(le*(2+ge))*ue,0.5*(le*(2+ge)*he),ve)}THREE.Geometry.call(this);var P=this;this.radius=_||100,this.tube=S||40,this.radialSegments=M||64,this.tubularSegments=T||8,this.p=C||2,this.q=A||3,this.heightScale=E||1,this.grid=Array(this.radialSegments);for(var D=new THREE.Vector3,R=new THREE.Vector3,F=new THREE.Vector3,V=0;V<this.radialSegments;++V){this.grid[V]=Array(this.tubularSegments);var U=2*(V/this.radialSegments)*this.p*Math.PI,B=L(U,this.q,this.p,this.radius,this.heightScale),N=L(U+0.01,this.q,this.p,this.radius,this.heightScale);D.subVectors(N,B),R.addVectors(N,B),F.crossVectors(D,R),R.crossVectors(F,D),F.normalize(),R.normalize();for(var I=0;I<this.tubularSegments;++I){var O=2*(I/this.tubularSegments)*Math.PI,G=-this.tube*Math.cos(O),H=this.tube*Math.sin(O),W=new THREE.Vector3;W.x=B.x+G*R.x+H*F.x,W.y=B.y+G*R.y+H*F.y,W.z=B.z+G*R.z+H*F.z,this.grid[V][I]=P.vertices.push(W)-1}}for(var V=0;V<this.radialSegments;++V)for(var I=0;I<this.tubularSegments;++I){var X=(V+1)%this.radialSegments,Y=(I+1)%this.tubularSegments,K=this.grid[V][I],Q=this.grid[X][I],Z=this.grid[X][Y],J=this.grid[V][Y],$=new THREE.Vector2(V/this.radialSegments,I/this.tubularSegments),ee=new THREE.Vector2((V+1)/this.radialSegments,I/this.tubularSegments),re=new THREE.Vector2((V+1)/this.radialSegments,(I+1)/this.tubularSegments),oe=new THREE.Vector2(V/this.radialSegments,(I+1)/this.tubularSegments);this.faces.push(new THREE.Face3(K,Q,J)),this.faceVertexUvs[0].push([$,ee,oe]),this.faces.push(new THREE.Face3(Q,Z,J)),this.faceVertexUvs[0].push([ee.clone(),re,oe.clone()])}this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(_,S,M,T,C){function A(ge,ye,xe){return E.vertices.push(new THREE.Vector3(ge,ye,xe))-1}THREE.Geometry.call(this),this.path=_,this.segments=S||64,this.radius=M||1,this.radialSegments=T||8,this.closed=C||!1,this.grid=[];var E=this,R=this.segments+1,Y=new THREE.Vector3,L,P,D,O,G,H,W,X,K,Q,Z,J,$,ee,re,oe,ie,ne,se,le,pe=new THREE.TubeGeometry.FrenetFrames(this.path,this.segments,this.closed),ue=pe.tangents,he=pe.normals,fe=pe.binormals;for(this.tangents=ue,this.normals=he,this.binormals=fe,K=0;K<R;K++)for(this.grid[K]=[],O=K/(R-1),X=_.getPointAt(O),L=ue[K],P=he[K],D=fe[K],Q=0;Q<this.radialSegments;Q++)G=2*(Q/this.radialSegments)*Math.PI,H=-this.radius*Math.cos(G),W=this.radius*Math.sin(G),Y.copy(X),Y.x+=H*P.x+W*D.x,Y.y+=H*P.y+W*D.y,Y.z+=H*P.z+W*D.z,this.grid[K][Q]=A(Y.x,Y.y,Y.z);for(K=0;K<this.segments;K++)for(Q=0;Q<this.radialSegments;Q++)Z=this.closed?(K+1)%this.segments:K+1,J=(Q+1)%this.radialSegments,$=this.grid[K][Q],ee=this.grid[Z][Q],re=this.grid[Z][J],oe=this.grid[K][J],ie=new THREE.Vector2(K/this.segments,Q/this.radialSegments),ne=new THREE.Vector2((K+1)/this.segments,Q/this.radialSegments),se=new THREE.Vector2((K+1)/this.segments,(Q+1)/this.radialSegments),le=new THREE.Vector2(K/this.segments,(Q+1)/this.radialSegments),this.faces.push(new THREE.Face3($,ee,oe)),this.faceVertexUvs[0].push([ie,ne,le]),this.faces.push(new THREE.Face3(ee,re,oe)),this.faceVertexUvs[0].push([ne.clone(),se,le.clone()]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(_,S,M){function A(){R[0]=new THREE.Vector3,F[0]=new THREE.Vector3,O=Number.MAX_VALUE,G=Math.abs(D[0].x),H=Math.abs(D[0].y),W=Math.abs(D[0].z),G<=O&&(O=G,L.set(1,0,0)),H<=O&&(O=H,L.set(0,1,0)),W<=O&&L.set(0,0,1),V.crossVectors(D[0],L).normalize(),R[0].crossVectors(D[0],V),F[0].crossVectors(D[0],R[0])}var E=new THREE.Vector3,L=new THREE.Vector3,P=new THREE.Vector3,D=[],R=[],F=[],V=new THREE.Vector3,U=new THREE.Matrix4,B=S+1,I=1e-4,N,O,G,H,W,X,Y;for(this.tangents=D,this.normals=R,this.binormals=F,X=0;X<B;X++)Y=X/(B-1),D[X]=_.getTangentAt(Y),D[X].normalize();for(A(),X=1;X<B;X++)R[X]=R[X-1].clone(),F[X]=F[X-1].clone(),V.crossVectors(D[X-1],D[X]),V.length()>I&&(V.normalize(),N=Math.acos(THREE.Math.clamp(D[X-1].dot(D[X]),-1,1)),R[X].applyMatrix4(U.makeRotationAxis(V,N))),F[X].crossVectors(D[X],R[X]);if(M)for(N=Math.acos(THREE.Math.clamp(R[0].dot(R[B-1]),-1,1)),N/=B-1,0<D[0].dot(V.crossVectors(R[0],R[B-1]))&&(N=-N),X=1;X<B;X++)R[X].applyMatrix4(U.makeRotationAxis(D[X],N*X)),F[X].crossVectors(D[X],R[X])},THREE.PolyhedronGeometry=function(_,S,M,T){function C(Z){var J=Z.normalize().clone();J.index=R.vertices.push(J)-1;var $=L(Z)/2/Math.PI+0.5,ee=P(Z)/Math.PI+0.5;return J.uv=new THREE.Vector2($,1-ee),J}function A(Z,J,$){var ee=new THREE.Face3(Z.index,J.index,$.index,[Z.clone(),J.clone(),$.clone()]);ee.centroid.add(Z).add(J).add($).divideScalar(3),R.faces.push(ee);var re=L(ee.centroid);R.faceVertexUvs[0].push([D(Z.uv,Z,re),D(J.uv,J,re),D($.uv,$,re)])}function E(Z,J){for(var $=Math.pow(2,J),ee=Math.pow(4,J),re=C(R.vertices[Z.a]),oe=C(R.vertices[Z.b]),ie=C(R.vertices[Z.c]),ne=[],se=0;se<=$;se++){ne[se]=[];for(var le=C(re.clone().lerp(ie,se/$)),pe=C(oe.clone().lerp(ie,se/$)),ue=$-se,he=0;he<=ue;he++)ne[se][he]=0==he&&se==$?le:C(le.clone().lerp(pe,he/ue))}for(var se=0;se<$;se++)for(var he=0,fe;he<2*($-se)-1;he++)fe=Math.floor(he/2),0==he%2?A(ne[se][fe+1],ne[se+1][fe],ne[se][fe]):A(ne[se][fe+1],ne[se+1][fe+1],ne[se+1][fe])}function L(Z){return Math.atan2(Z.z,-Z.x)}function P(Z){return Math.atan2(-Z.y,Math.sqrt(Z.x*Z.x+Z.z*Z.z))}function D(Z,J,$){return 0>$&&1===Z.x&&(Z=new THREE.Vector2(Z.x-1,Z.y)),0===J.x&&0===J.z&&(Z=new THREE.Vector2($/2/Math.PI+0.5,Z.y)),Z.clone()}THREE.Geometry.call(this),M=M||1,T=T||0;for(var R=this,F=0,V=_.length;F<V;F++)C(new THREE.Vector3(_[F][0],_[F][1],_[F][2]));for(var B=this.vertices,N=[],F=0,V=S.length;F<V;F++){var I=B[S[F][0]],O=B[S[F][1]],G=B[S[F][2]];N[F]=new THREE.Face3(I.index,O.index,G.index,[I.clone(),O.clone(),G.clone()])}for(var F=0,V=N.length;F<V;F++)E(N[F],T);for(var F=0,V=this.faceVertexUvs[0].length;F<V;F++){var H=this.faceVertexUvs[0][F],W=H[0].x,X=H[1].x,Y=H[2].x,K=Math.max(W,Math.max(X,Y)),Q=Math.min(W,Math.min(X,Y));0.9<K&&0.1>Q&&(0.2>W&&(H[0].x+=1),0.2>X&&(H[1].x+=1),0.2>Y&&(H[2].x+=1))}for(var F=0,V=this.vertices.length;F<V;F++)this.vertices[F].multiplyScalar(M);this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3(),M)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(_,S){this.radius=_,this.detail=S;var M=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[[-1,M,0],[1,M,0],[-1,-M,0],[1,-M,0],[0,-1,M],[0,1,M],[0,-1,-M],[0,1,-M],[M,0,-1],[M,0,1],[-M,0,-1],[-M,0,1]],[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],_,S)},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(_,S){THREE.PolyhedronGeometry.call(this,[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],_,S)},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(_,S){THREE.PolyhedronGeometry.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],_,S)},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(_,S,M){THREE.Geometry.call(this);var T=this.vertices,C=this.faces,A=this.faceVertexUvs[0],E,P,D,R,F,U=S+1;for(E=0;E<=M;E++)for(F=E/M,P=0;P<=S;P++)R=P/S,D=_(R,F),T.push(D);var B,N,I,O,G,H,W,X;for(E=0;E<M;E++)for(P=0;P<S;P++)B=E*U+P,N=E*U+P+1,I=(E+1)*U+P+1,O=(E+1)*U+P,G=new THREE.Vector2(P/S,E/M),H=new THREE.Vector2((P+1)/S,E/M),W=new THREE.Vector2((P+1)/S,(E+1)/M),X=new THREE.Vector2(P/S,(E+1)/M),C.push(new THREE.Face3(B,N,O)),A.push([G,H,X]),C.push(new THREE.Face3(N,I,O)),A.push([H.clone(),W,X.clone()]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(_){_=_||1;var S=new THREE.Geometry;S.vertices.push(new THREE.Vector3,new THREE.Vector3(_,0,0),new THREE.Vector3,new THREE.Vector3(0,_,0),new THREE.Vector3,new THREE.Vector3(0,0,_)),S.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775));var M=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,S,M,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(_,S,M,T,C,A){THREE.Object3D.call(this),T===void 0&&(T=16776960),M===void 0&&(M=1),C===void 0&&(C=0.2*M),A===void 0&&(A=0.2*C),this.position=S;var E=new THREE.Geometry;E.vertices.push(new THREE.Vector3(0,0,0)),E.vertices.push(new THREE.Vector3(0,1,0)),this.line=new THREE.Line(E,new THREE.LineBasicMaterial({color:T})),this.line.matrixAutoUpdate=!1,this.add(this.line);var L=new THREE.CylinderGeometry(0,0.5,1,5,1);L.applyMatrix(new THREE.Matrix4().makeTranslation(0,-0.5,0)),this.cone=new THREE.Mesh(L,new THREE.MeshBasicMaterial({color:T})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_),this.setLength(M,C,A)},THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var _=new THREE.Vector3,S;return function(M){0.99999<M.y?this.quaternion.set(0,0,0,1):-0.99999>M.y?this.quaternion.set(1,0,0,0):(_.set(M.z,0,-M.x).normalize(),S=Math.acos(M.y),this.quaternion.setFromAxisAngle(_,S))}}(),THREE.ArrowHelper.prototype.setLength=function(_,S,M){S===void 0&&(S=0.2*_),M===void 0&&(M=0.2*S),this.line.scale.set(1,_,1),this.line.updateMatrix(),this.cone.scale.set(M,S,M),this.cone.position.y=_,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(_){this.line.material.color.setHex(_),this.cone.material.color.setHex(_)},THREE.BoxHelper=function(_){var S=[new THREE.Vector3(1,1,1),new THREE.Vector3(-1,1,1),new THREE.Vector3(-1,-1,1),new THREE.Vector3(1,-1,1),new THREE.Vector3(1,1,-1),new THREE.Vector3(-1,1,-1),new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,-1,-1)];this.vertices=S;var M=new THREE.Geometry;M.vertices.push(S[0],S[1],S[1],S[2],S[2],S[3],S[3],S[0],S[4],S[5],S[5],S[6],S[6],S[7],S[7],S[4],S[0],S[4],S[1],S[5],S[2],S[6],S[3],S[7]),THREE.Line.call(this,M,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),_!==void 0&&this.update(_)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(_){var S=_.geometry;null===S.boundingBox&&S.computeBoundingBox();var M=S.boundingBox.min,T=S.boundingBox.max,C=this.vertices;C[0].set(T.x,T.y,T.z),C[1].set(M.x,T.y,T.z),C[2].set(M.x,M.y,T.z),C[3].set(T.x,M.y,T.z),C[4].set(T.x,T.y,M.z),C[5].set(M.x,T.y,M.z),C[6].set(M.x,M.y,M.z),C[7].set(T.x,M.y,M.z),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.matrixAutoUpdate=!1,this.matrixWorld=_.matrixWorld},THREE.BoundingBoxHelper=function(_,S){this.object=_,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.CubeGeometry(1,1,1),new THREE.MeshBasicMaterial({color:S||8947848,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(_){function S(F,V,U){M(F,U),M(V,U)}function M(F,V){T.vertices.push(new THREE.Vector3),T.colors.push(new THREE.Color(V)),A[F]===void 0&&(A[F]=[]),A[F].push(T.vertices.length-1)}var T=new THREE.Geometry,C=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),A={},E=16755200,L=16711680,P=43775,R=3355443;S('n1','n2',E),S('n2','n4',E),S('n4','n3',E),S('n3','n1',E),S('f1','f2',E),S('f2','f4',E),S('f4','f3',E),S('f3','f1',E),S('n1','f1',E),S('n2','f2',E),S('n3','f3',E),S('n4','f4',E),S('p','n1',L),S('p','n2',L),S('p','n3',L),S('p','n4',L),S('u1','u2',P),S('u2','u3',P),S('u3','u1',P),S('c','t',16777215),S('p','c',R),S('cn1','cn2',R),S('cn3','cn4',R),S('cf1','cf2',R),S('cf3','cf4',R),THREE.Line.call(this,T,C,THREE.LinePieces),this.camera=_,this.matrixWorld=_.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=A,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var _=new THREE.Vector3,S=new THREE.Camera,M=new THREE.Projector;return function(){function T(L,P,D,R){_.set(P,D,R),M.unprojectVector(_,S);var F=C.pointMap[L];if(F!==void 0)for(var V=0,U=F.length;V<U;V++)C.geometry.vertices[F[V]].copy(_)}var C=this,A=1,E=1;S.projectionMatrix.copy(this.camera.projectionMatrix),T('c',0,0,-1),T('t',0,0,1),T('n1',-A,-E,-1),T('n2',A,-E,-1),T('n3',-A,E,-1),T('n4',A,E,-1),T('f1',-A,-E,1),T('f2',A,-E,1),T('f3',-A,E,1),T('f4',A,E,1),T('u1',0.7*A,1.1*E,-1),T('u2',0.7*-A,1.1*E,-1),T('u3',0,2*E,-1),T('cf1',-A,0,1),T('cf2',A,0,1),T('cf3',0,-E,1),T('cf4',0,E,1),T('cn1',-A,0,-1),T('cn2',A,0,-1),T('cn3',0,-E,-1),T('cn4',0,E,-1),this.geometry.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(_,S){THREE.Object3D.call(this),this.light=_,this.light.updateMatrixWorld(),this.matrixWorld=_.matrixWorld,this.matrixAutoUpdate=!1,S=S||1;var M=new THREE.PlaneGeometry(S,S),T=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});T.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Mesh(M,T),this.add(this.lightPlane),M=new THREE.Geometry,M.vertices.push(new THREE.Vector3),M.vertices.push(new THREE.Vector3),T=new THREE.LineBasicMaterial({fog:!1}),T.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(M,T),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var _=new THREE.Vector3,S=new THREE.Vector3,M=new THREE.Vector3;return function(){_.setFromMatrixPosition(this.light.matrixWorld),S.setFromMatrixPosition(this.light.target.matrixWorld),M.subVectors(S,_),this.lightPlane.lookAt(M),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(M),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.FaceNormalsHelper=function(_,S,M,T){this.object=_,this.size=S||1;for(var C=M||16776960,A=T||1,E=new THREE.Geometry,L=this.object.geometry.faces,P=0,D=L.length;P<D;P++)E.vertices.push(new THREE.Vector3),E.vertices.push(new THREE.Vector3);THREE.Line.call(this,E,new THREE.LineBasicMaterial({color:C,linewidth:A}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update=function(){var S=new THREE.Vector3;return function(){this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var T=this.geometry.vertices,C=this.object.geometry.faces,A=this.object.matrixWorld,E=0,L=C.length,P;E<L;E++){P=C[E],S.copy(P.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);var D=2*E;T[D].copy(P.centroid).applyMatrix4(A),T[D+1].addVectors(T[D],S)}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.GridHelper=function(_,S){var M=new THREE.Geometry,T=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var C=-_;C<=_;C+=S){M.vertices.push(new THREE.Vector3(-_,0,C),new THREE.Vector3(_,0,C),new THREE.Vector3(C,0,-_),new THREE.Vector3(C,0,_));var A=0===C?this.color1:this.color2;M.colors.push(A,A,A,A)}THREE.Line.call(this,M,T,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors=function(_,S){this.color1.set(_),this.color2.set(S),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(_,S){THREE.Object3D.call(this),this.light=_,this.light.updateMatrixWorld(),this.matrixWorld=_.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var C=new THREE.SphereGeometry(S,4,2);C.applyMatrix(new THREE.Matrix4().makeRotationX(-Math.PI/2));for(var A=0;A<8;A++)C.faces[A].color=this.colors[4>A?0:1];var L=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(C,L),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var _=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(_.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(_,S){this.light=_,this.light.updateMatrixWorld();var M=new THREE.SphereGeometry(S,4,2),T=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});T.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,M,T),this.matrixWorld=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SpotLightHelper=function(_){THREE.Object3D.call(this),this.light=_,this.light.updateMatrixWorld(),this.matrixWorld=_.matrixWorld,this.matrixAutoUpdate=!1;var S=new THREE.CylinderGeometry(0,1,1,8,1,!0);S.applyMatrix(new THREE.Matrix4().makeTranslation(0,-0.5,0)),S.applyMatrix(new THREE.Matrix4().makeRotationX(-Math.PI/2));var M=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(S,M),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var _=new THREE.Vector3,S=new THREE.Vector3;return function(){var M=this.light.distance?this.light.distance:1e4,T=M*Math.tan(this.light.angle);this.cone.scale.set(T,T,M),_.setFromMatrixPosition(this.light.matrixWorld),S.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(S.sub(_)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(_,S,M,T){this.object=_,this.size=S||1;for(var C=M||16711680,A=T||1,E=new THREE.Geometry,L=_.geometry.vertices,P=_.geometry.faces,D=0,R=P.length,F;D<R;D++){F=P[D];for(var V=0,U=F.vertexNormals.length;V<U;V++)E.vertices.push(new THREE.Vector3),E.vertices.push(new THREE.Vector3)}THREE.Line.call(this,E,new THREE.LineBasicMaterial({color:C,linewidth:A}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update=function(){var S=new THREE.Vector3;return function(){var T=['a','b','c','d'];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var C=this.geometry.vertices,A=this.object.geometry.vertices,E=this.object.geometry.faces,L=this.object.matrixWorld,P=0,D=0,R=E.length,F;D<R;D++){F=E[D];for(var V=0,U=F.vertexNormals.length;V<U;V++){var B=F[T[V]],N=A[B],I=F.vertexNormals[V];C[P].copy(N).applyMatrix4(L),S.copy(I).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),S.add(C[P]),++P,C[P].copy(S),++P}}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(_,S,M,T){this.object=_,this.size=S||1;for(var C=M||255,A=T||1,E=new THREE.Geometry,L=_.geometry.vertices,P=_.geometry.faces,D=0,R=P.length,F;D<R;D++){F=P[D];for(var V=0,U=F.vertexTangents.length;V<U;V++)E.vertices.push(new THREE.Vector3),E.vertices.push(new THREE.Vector3)}THREE.Line.call(this,E,new THREE.LineBasicMaterial({color:C,linewidth:A}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update=function(){var S=new THREE.Vector3;return function(){var T=['a','b','c','d'];this.object.updateMatrixWorld(!0);for(var C=this.geometry.vertices,A=this.object.geometry.vertices,E=this.object.geometry.faces,L=this.object.matrixWorld,P=0,D=0,R=E.length,F;D<R;D++){F=E[D];for(var V=0,U=F.vertexTangents.length;V<U;V++){var B=F[T[V]],N=A[B],I=F.vertexTangents[V];C[P].copy(N).applyMatrix4(L),S.copy(I).transformDirection(L).multiplyScalar(this.size),S.add(C[P]),++P,C[P].copy(S),++P}}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(_){var S=[0,0],M={},T=function(H,W){return H-W},C=['a','b','c','d'],A=new THREE.BufferGeometry,E=0;if(_.geometry instanceof THREE.Geometry){for(var L=_.geometry.vertices,P=_.geometry.faces,D=new Uint32Array(6*P.length),R=0,F=P.length,V;R<F;R++){V=P[R];for(var U=0;3>U;U++){S[0]=V[C[U]],S[1]=V[C[(U+1)%3]],S.sort(T);var B=S.toString();M[B]===void 0&&(D[2*E]=S[0],D[2*E+1]=S[1],M[B]=!0,E++)}}A.addAttribute('position',Float32Array,2*E,3);for(var N=A.attributes.position.array,R=0,F=E;R<F;R++)for(var U=0;2>U;U++){var I=L[D[2*R+U]],O=6*R+3*U;N[O+0]=I.x,N[O+1]=I.y,N[O+2]=I.z}}else{for(var L=_.geometry.attributes.position.array,P=_.geometry.attributes.index.array,D=new Uint32Array(2*P.length),R=0,F=P.length/3;R<F;R++)for(var U=0,O;3>U;U++){O=3*R,S[0]=P[O+U],S[1]=P[O+(U+1)%3],S.sort(T);var B=S.toString();M[B]===void 0&&(D[2*E]=S[0],D[2*E+1]=S[1],M[B]=!0,E++)}A.addAttribute('position',Float32Array,2*E,3);for(var N=A.attributes.position.array,R=0,F=E;R<F;R++)for(var U=0;2>U;U++){var O=6*R+3*U,G=3*D[2*R+U];N[O+0]=L[G],N[O+1]=L[G+1],N[O+2]=L[G+2]}}THREE.Line.call(this,A,new THREE.LineBasicMaterial({color:16777215}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=_.matrixWorld},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare=function(_,S,M,T,C){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,_!==void 0&&this.add(_,S,M,T,C)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(_,S,M,T,C,A){S===void 0&&(S=-1),M===void 0&&(M=0),A===void 0&&(A=1),C===void 0&&(C=new THREE.Color(16777215)),T===void 0&&(T=THREE.NormalBlending),M=Math.min(M,Math.max(0,M)),this.lensFlares.push({texture:_,size:S,distance:M,x:0,y:0,z:0,scale:1,rotation:1,opacity:A,color:C,blending:T})},THREE.LensFlare.prototype.updateLensFlares=function(){var S=this.lensFlares.length,_,M,T=2*-this.positionScreen.x,C=2*-this.positionScreen.y;for(_=0;_<S;_++)M=this.lensFlares[_],M.x=this.positionScreen.x+T*M.distance,M.y=this.positionScreen.y+C*M.distance,M.wantedRotation=0.25*(M.x*Math.PI),M.rotation+=0.25*(M.wantedRotation-M.rotation)},THREE.MorphBlendMesh=function(_,S){THREE.Mesh.call(this,_,S),this.animationsMap={},this.animationsList=[];var M=this.geometry.morphTargets.length,T='__default';this.createAnimation(T,0,M-1,M/1),this.setAnimationWeight(T,1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(_,S,M,T){var C={startFrame:S,endFrame:M,length:M-S+1,fps:T,duration:(M-S)/T,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[_]=C,this.animationsList.push(C)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(_){for(var S=/([a-z]+)(\d+)/,T={},C=this.geometry,A=0,E=C.morphTargets.length,M;A<E;A++){var L=C.morphTargets[A],P=L.name.match(S);if(P&&1<P.length){var D=P[1],R=P[2];T[D]||(T[D]={start:Infinity,end:-Infinity});var F=T[D];A<F.start&&(F.start=A),A>F.end&&(F.end=A),M||(M=D)}}for(var D in T){var F=T[D];this.createAnimation(D,F.start,F.end,_)}this.firstAnimation=M},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(_){var S=this.animationsMap[_];S&&(S.direction=1,S.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(_){var S=this.animationsMap[_];S&&(S.direction=-1,S.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(_,S){var M=this.animationsMap[_];M&&(M.fps=S,M.duration=(M.end-M.start)/M.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(_,S){var M=this.animationsMap[_];M&&(M.duration=S,M.fps=(M.end-M.start)/M.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(_,S){var M=this.animationsMap[_];M&&(M.weight=S)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(_,S){var M=this.animationsMap[_];M&&(M.time=S)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(_){var S=0,M=this.animationsMap[_];return M&&(S=M.time),S},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(_){var S=-1,M=this.animationsMap[_];return M&&(S=M.duration),S},THREE.MorphBlendMesh.prototype.playAnimation=function(_){var S=this.animationsMap[_];S?(S.time=0,S.active=!0):console.warn('animation['+_+'] undefined')},THREE.MorphBlendMesh.prototype.stopAnimation=function(_){var S=this.animationsMap[_];S&&(S.active=!1)},THREE.MorphBlendMesh.prototype.update=function(_){for(var S=0,M=this.animationsList.length,T;S<M;S++)if(T=this.animationsList[S],T.active){var C=T.duration/T.length;T.time+=T.direction*_,T.mirroredLoop?(T.time>T.duration||0>T.time)&&(T.direction*=-1,T.time>T.duration&&(T.time=T.duration,T.directionBackwards=!0),0>T.time&&(T.time=0,T.directionBackwards=!1)):(T.time%=T.duration,0>T.time&&(T.time+=T.duration));var A=T.startFrame+THREE.Math.clamp(Math.floor(T.time/C),0,T.length-1),E=T.weight;A!==T.currentFrame&&(this.morphTargetInfluences[T.lastFrame]=0,this.morphTargetInfluences[T.currentFrame]=1*E,this.morphTargetInfluences[A]=0,T.lastFrame=T.currentFrame,T.currentFrame=A);var L=T.time%C/C;T.directionBackwards&&(L=1-L),this.morphTargetInfluences[T.currentFrame]=L*E,this.morphTargetInfluences[T.lastFrame]=(1-L)*E}},THREE.LensFlarePlugin=function(){function _(A,E){var L=S.createProgram(),P=S.createShader(S.FRAGMENT_SHADER),D=S.createShader(S.VERTEX_SHADER),R='precision '+E+' float;\n';return S.shaderSource(P,R+A.fragmentShader),S.shaderSource(D,R+A.vertexShader),S.compileShader(P),S.compileShader(D),S.attachShader(L,P),S.attachShader(L,D),S.linkProgram(L),L}var C={},S,M,T;this.init=function(A){S=A.context,M=A,T=A.getPrecision(),C.vertices=new Float32Array(16),C.faces=new Uint16Array(6);var E=0;C.vertices[E++]=-1,C.vertices[E++]=-1,C.vertices[E++]=0,C.vertices[E++]=0,C.vertices[E++]=1,C.vertices[E++]=-1,C.vertices[E++]=1,C.vertices[E++]=0,C.vertices[E++]=1,C.vertices[E++]=1,C.vertices[E++]=1,C.vertices[E++]=1,C.vertices[E++]=-1,C.vertices[E++]=1,C.vertices[E++]=0,C.vertices[E++]=1,E=0,C.faces[E++]=0,C.faces[E++]=1,C.faces[E++]=2,C.faces[E++]=0,C.faces[E++]=2,C.faces[E++]=3,C.vertexBuffer=S.createBuffer(),C.elementBuffer=S.createBuffer(),S.bindBuffer(S.ARRAY_BUFFER,C.vertexBuffer),S.bufferData(S.ARRAY_BUFFER,C.vertices,S.STATIC_DRAW),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,C.elementBuffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,C.faces,S.STATIC_DRAW),C.tempTexture=S.createTexture(),C.occlusionTexture=S.createTexture(),S.bindTexture(S.TEXTURE_2D,C.tempTexture),S.texImage2D(S.TEXTURE_2D,0,S.RGB,16,16,0,S.RGB,S.UNSIGNED_BYTE,null),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.bindTexture(S.TEXTURE_2D,C.occlusionTexture),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,16,16,0,S.RGBA,S.UNSIGNED_BYTE,null),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),0>=S.getParameter(S.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(C.hasVertexTexture=!1,C.program=_(THREE.ShaderFlares.lensFlare,T)):(C.hasVertexTexture=!0,C.program=_(THREE.ShaderFlares.lensFlareVertexTexture,T)),C.attributes={},C.uniforms={},C.attributes.vertex=S.getAttribLocation(C.program,'position'),C.attributes.uv=S.getAttribLocation(C.program,'uv'),C.uniforms.renderType=S.getUniformLocation(C.program,'renderType'),C.uniforms.map=S.getUniformLocation(C.program,'map'),C.uniforms.occlusionMap=S.getUniformLocation(C.program,'occlusionMap'),C.uniforms.opacity=S.getUniformLocation(C.program,'opacity'),C.uniforms.color=S.getUniformLocation(C.program,'color'),C.uniforms.scale=S.getUniformLocation(C.program,'scale'),C.uniforms.rotation=S.getUniformLocation(C.program,'rotation'),C.uniforms.screenPosition=S.getUniformLocation(C.program,'screenPosition')},this.render=function(A,E,L,P){var D=A.__webglFlares,R=D.length;if(R){var F=new THREE.Vector3,V=P/L,U=0.5*L,B=0.5*P,N=16/P,I=new THREE.Vector2(N*V,N),O=new THREE.Vector3(1,1,0),G=new THREE.Vector2(1,1),H=C.uniforms,W=C.attributes;S.useProgram(C.program),S.enableVertexAttribArray(C.attributes.vertex),S.enableVertexAttribArray(C.attributes.uv),S.uniform1i(H.occlusionMap,0),S.uniform1i(H.map,1),S.bindBuffer(S.ARRAY_BUFFER,C.vertexBuffer),S.vertexAttribPointer(W.vertex,2,S.FLOAT,!1,16,0),S.vertexAttribPointer(W.uv,2,S.FLOAT,!1,16,8),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,C.elementBuffer),S.disable(S.CULL_FACE),S.depthMask(!1);var X,Y,K,Q,Z;for(X=0;X<R;X++)if(N=16/P,I.set(N*V,N),Q=D[X],F.set(Q.matrixWorld.elements[12],Q.matrixWorld.elements[13],Q.matrixWorld.elements[14]),F.applyMatrix4(E.matrixWorldInverse),F.applyProjection(E.projectionMatrix),O.copy(F),G.x=O.x*U+U,G.y=O.y*B+B,C.hasVertexTexture||0<G.x&&G.x<L&&0<G.y&&G.y<P)for(S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,C.tempTexture),S.copyTexImage2D(S.TEXTURE_2D,0,S.RGB,G.x-8,G.y-8,16,16,0),S.uniform1i(H.renderType,0),S.uniform2f(H.scale,I.x,I.y),S.uniform3f(H.screenPosition,O.x,O.y,O.z),S.disable(S.BLEND),S.enable(S.DEPTH_TEST),S.drawElements(S.TRIANGLES,6,S.UNSIGNED_SHORT,0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,C.occlusionTexture),S.copyTexImage2D(S.TEXTURE_2D,0,S.RGBA,G.x-8,G.y-8,16,16,0),S.uniform1i(H.renderType,1),S.disable(S.DEPTH_TEST),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,C.tempTexture),S.drawElements(S.TRIANGLES,6,S.UNSIGNED_SHORT,0),Q.positionScreen.copy(O),Q.customUpdateCallback?Q.customUpdateCallback(Q):Q.updateLensFlares(),S.uniform1i(H.renderType,2),S.enable(S.BLEND),(Y=0,K=Q.lensFlares.length);Y<K;Y++)Z=Q.lensFlares[Y],1e-3<Z.opacity&&1e-3<Z.scale&&(O.x=Z.x,O.y=Z.y,O.z=Z.z,N=Z.size*Z.scale/P,I.x=N*V,I.y=N,S.uniform3f(H.screenPosition,O.x,O.y,O.z),S.uniform2f(H.scale,I.x,I.y),S.uniform1f(H.rotation,Z.rotation),S.uniform1f(H.opacity,Z.opacity),S.uniform3f(H.color,Z.color.r,Z.color.g,Z.color.b),M.setBlending(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst),M.setTexture(Z.texture,1),S.drawElements(S.TRIANGLES,6,S.UNSIGNED_SHORT,0));S.enable(S.CULL_FACE),S.enable(S.DEPTH_TEST),S.depthMask(!0)}}},THREE.ShadowMapPlugin=function(){function _(N,I){var O=new THREE.DirectionalLight;O.isVirtual=!0,O.onlyShadow=!0,O.castShadow=!0,O.shadowCameraNear=N.shadowCameraNear,O.shadowCameraFar=N.shadowCameraFar,O.shadowCameraLeft=N.shadowCameraLeft,O.shadowCameraRight=N.shadowCameraRight,O.shadowCameraBottom=N.shadowCameraBottom,O.shadowCameraTop=N.shadowCameraTop,O.shadowCameraVisible=N.shadowCameraVisible,O.shadowDarkness=N.shadowDarkness,O.shadowBias=N.shadowCascadeBias[I],O.shadowMapWidth=N.shadowCascadeWidth[I],O.shadowMapHeight=N.shadowCascadeHeight[I],O.pointsWorld=[],O.pointsFrustum=[];for(var G=O.pointsWorld,H=O.pointsFrustum,W=0;8>W;W++)G[W]=new THREE.Vector3,H[W]=new THREE.Vector3;var X=N.shadowCascadeNearZ[I],Y=N.shadowCascadeFarZ[I];return H[0].set(-1,-1,X),H[1].set(1,-1,X),H[2].set(-1,1,X),H[3].set(1,1,X),H[4].set(-1,-1,Y),H[5].set(1,-1,Y),H[6].set(-1,1,Y),H[7].set(1,1,Y),O}function S(N,I){var O=N.shadowCascadeArray[I];O.position.copy(N.position),O.target.position.copy(N.target.position),O.lookAt(O.target),O.shadowCameraVisible=N.shadowCameraVisible,O.shadowDarkness=N.shadowDarkness,O.shadowBias=N.shadowCascadeBias[I];var G=N.shadowCascadeNearZ[I],H=N.shadowCascadeFarZ[I],W=O.pointsFrustum;W[0].z=G,W[1].z=G,W[2].z=G,W[3].z=G,W[4].z=H,W[5].z=H,W[6].z=H,W[7].z=H}function M(N,I){var O=I.shadowCamera,G=I.pointsFrustum,H=I.pointsWorld;V.set(Infinity,Infinity,Infinity),U.set(-Infinity,-Infinity,-Infinity);for(var W=0,X;8>W;W++)X=H[W],X.copy(G[W]),THREE.ShadowMapPlugin.__projector.unprojectVector(X,N),X.applyMatrix4(O.matrixWorldInverse),X.x<V.x&&(V.x=X.x),X.x>U.x&&(U.x=X.x),X.y<V.y&&(V.y=X.y),X.y>U.y&&(U.y=X.y),X.z<V.z&&(V.z=X.z),X.z>U.z&&(U.z=X.z);O.left=V.x,O.right=U.x,O.top=U.y,O.bottom=V.y,O.updateProjectionMatrix()}function T(N){return N.material instanceof THREE.MeshFaceMaterial?N.material.materials[0]:N.material}var R=new THREE.Frustum,F=new THREE.Matrix4,V=new THREE.Vector3,U=new THREE.Vector3,B=new THREE.Vector3,C,A,E,L,P,D;this.init=function(N){C=N.context,A=N;var I=THREE.ShaderLib.depthRGBA,O=THREE.UniformsUtils.clone(I.uniforms);E=new THREE.ShaderMaterial({fragmentShader:I.fragmentShader,vertexShader:I.vertexShader,uniforms:O}),L=new THREE.ShaderMaterial({fragmentShader:I.fragmentShader,vertexShader:I.vertexShader,uniforms:O,morphTargets:!0}),P=new THREE.ShaderMaterial({fragmentShader:I.fragmentShader,vertexShader:I.vertexShader,uniforms:O,skinning:!0}),D=new THREE.ShaderMaterial({fragmentShader:I.fragmentShader,vertexShader:I.vertexShader,uniforms:O,morphTargets:!0,skinning:!0}),E._shadowPass=!0,L._shadowPass=!0,P._shadowPass=!0,D._shadowPass=!0},this.render=function(N,I){A.shadowMapEnabled&&A.shadowMapAutoUpdate&&this.update(N,I)},this.update=function(N,I){var ne=[],se=0,le=null,O,G,H,W,X,Y,K,Q,J,$,ee,re,oe,ie;for(C.clearColor(1,1,1,1),C.disable(C.BLEND),C.enable(C.CULL_FACE),C.frontFace(C.CCW),A.shadowMapCullFace===THREE.CullFaceFront?C.cullFace(C.FRONT):C.cullFace(C.BACK),A.setDepthTest(!0),(O=0,G=N.__lights.length);O<G;O++)if(oe=N.__lights[O],oe.castShadow)if(oe instanceof THREE.DirectionalLight&&oe.shadowCascade)for(X=0;X<oe.shadowCascadeCount;X++){var pe;if(!oe.shadowCascadeArray[X]){pe=_(oe,X),pe.originalCamera=I;var ue=new THREE.Gyroscope;ue.position=oe.shadowCascadeOffset,ue.add(pe),ue.add(pe.target),I.add(ue),oe.shadowCascadeArray[X]=pe,console.log('Created virtualLight',pe)}else pe=oe.shadowCascadeArray[X];S(oe,X),ne[se]=pe,se++}else ne[se]=oe,se++;for(O=0,G=ne.length;O<G;O++){if(oe=ne[O],!oe.shadowMap){var he=THREE.LinearFilter;A.shadowMapType===THREE.PCFSoftShadowMap&&(he=THREE.NearestFilter);var fe={minFilter:he,magFilter:he,format:THREE.RGBAFormat};oe.shadowMap=new THREE.WebGLRenderTarget(oe.shadowMapWidth,oe.shadowMapHeight,fe),oe.shadowMapSize=new THREE.Vector2(oe.shadowMapWidth,oe.shadowMapHeight),oe.shadowMatrix=new THREE.Matrix4}if(!oe.shadowCamera){if(oe instanceof THREE.SpotLight)oe.shadowCamera=new THREE.PerspectiveCamera(oe.shadowCameraFov,oe.shadowMapWidth/oe.shadowMapHeight,oe.shadowCameraNear,oe.shadowCameraFar);else if(oe instanceof THREE.DirectionalLight)oe.shadowCamera=new THREE.OrthographicCamera(oe.shadowCameraLeft,oe.shadowCameraRight,oe.shadowCameraTop,oe.shadowCameraBottom,oe.shadowCameraNear,oe.shadowCameraFar);else{console.error('Unsupported light type for shadow');continue}N.add(oe.shadowCamera),!0===N.autoUpdate&&N.updateMatrixWorld()}for(oe.shadowCameraVisible&&!oe.cameraHelper&&(oe.cameraHelper=new THREE.CameraHelper(oe.shadowCamera),oe.shadowCamera.add(oe.cameraHelper)),oe.isVirtual&&pe.originalCamera==I&&M(I,oe),Y=oe.shadowMap,K=oe.shadowMatrix,Q=oe.shadowCamera,Q.position.setFromMatrixPosition(oe.matrixWorld),B.setFromMatrixPosition(oe.target.matrixWorld),Q.lookAt(B),Q.updateMatrixWorld(),Q.matrixWorldInverse.getInverse(Q.matrixWorld),oe.cameraHelper&&(oe.cameraHelper.visible=oe.shadowCameraVisible),oe.shadowCameraVisible&&oe.cameraHelper.update(),K.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),K.multiply(Q.projectionMatrix),K.multiply(Q.matrixWorldInverse),F.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),R.setFromMatrix(F),A.setRenderTarget(Y),A.clear(),ie=N.__webglObjects,(H=0,W=ie.length);H<W;H++)ee=ie[H],re=ee.object,ee.render=!1,re.visible&&re.castShadow&&(!(re instanceof THREE.Mesh||re instanceof THREE.ParticleSystem)||!re.frustumCulled||R.intersectsObject(re))&&(re._modelViewMatrix.multiplyMatrices(Q.matrixWorldInverse,re.matrixWorld),ee.render=!0);var ge,ye,xe;for(H=0,W=ie.length;H<W;H++)ee=ie[H],ee.render&&(re=ee.object,J=ee.buffer,ge=T(re),ye=0<re.geometry.morphTargets.length&&ge.morphTargets,xe=re instanceof THREE.SkinnedMesh&&ge.skinning,$=re.customDepthMaterial?re.customDepthMaterial:xe?ye?D:P:ye?L:E,J instanceof THREE.BufferGeometry?A.renderBufferDirect(Q,N.__lights,le,$,J,re):A.renderBuffer(Q,N.__lights,le,$,J,re));for(ie=N.__webglObjectsImmediate,H=0,W=ie.length;H<W;H++)ee=ie[H],re=ee.object,re.visible&&re.castShadow&&(re._modelViewMatrix.multiplyMatrices(Q.matrixWorldInverse,re.matrixWorld),A.renderImmediateObject(Q,N.__lights,le,E,re))}var ve=A.getClearColor(),_e=A.getClearAlpha();C.clearColor(ve.r,ve.g,ve.b,_e),C.enable(C.BLEND),A.shadowMapCullFace===THREE.CullFaceFront&&C.cullFace(C.BACK)}},THREE.ShadowMapPlugin.__projector=new THREE.Projector,THREE.SpritePlugin=function(){function _(){var V=M.createProgram(),U=M.createShader(M.VERTEX_SHADER),B=M.createShader(M.FRAGMENT_SHADER);return M.shaderSource(U,['precision '+T.getPrecision()+' float;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','void main() {','vUV = uvOffset + uv * uvScale;','vec2 alignedPosition = position * scale;','vec2 rotatedPosition;','rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','vec4 finalPosition;','finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','finalPosition.xy += rotatedPosition;','finalPosition = projectionMatrix * finalPosition;','gl_Position = finalPosition;','}'].join('\n')),M.shaderSource(B,['precision '+T.getPrecision()+' float;','uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;','varying vec2 vUV;','void main() {','vec4 texture = texture2D( map, vUV );','if ( texture.a < alphaTest ) discard;','gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','if ( fogType > 0 ) {','float depth = gl_FragCoord.z / gl_FragCoord.w;','float fogFactor = 0.0;','if ( fogType == 1 ) {','fogFactor = smoothstep( fogNear, fogFar, depth );','} else {','const float LOG2 = 1.442695;','float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );','fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','}','gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );','}','}'].join('\n')),M.compileShader(U),M.compileShader(B),M.attachShader(V,U),M.attachShader(V,B),M.linkProgram(V),V}function S(V,U){return V.z===U.z?U.id-V.id:U.z-V.z}var M,T,C,A,E,L,P,D,R,F;this.init=function(V){M=V.context,T=V,A=new Float32Array([-0.5,-0.5,0,0,0.5,-0.5,1,0,0.5,0.5,1,1,-0.5,0.5,0,1]),E=new Uint16Array([0,1,2,0,2,3]),L=M.createBuffer(),P=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,L),M.bufferData(M.ARRAY_BUFFER,A,M.STATIC_DRAW),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,P),M.bufferData(M.ELEMENT_ARRAY_BUFFER,E,M.STATIC_DRAW),D=_(),R={position:M.getAttribLocation(D,'position'),uv:M.getAttribLocation(D,'uv')},F={uvOffset:M.getUniformLocation(D,'uvOffset'),uvScale:M.getUniformLocation(D,'uvScale'),rotation:M.getUniformLocation(D,'rotation'),scale:M.getUniformLocation(D,'scale'),color:M.getUniformLocation(D,'color'),map:M.getUniformLocation(D,'map'),opacity:M.getUniformLocation(D,'opacity'),modelViewMatrix:M.getUniformLocation(D,'modelViewMatrix'),projectionMatrix:M.getUniformLocation(D,'projectionMatrix'),fogType:M.getUniformLocation(D,'fogType'),fogDensity:M.getUniformLocation(D,'fogDensity'),fogNear:M.getUniformLocation(D,'fogNear'),fogFar:M.getUniformLocation(D,'fogFar'),fogColor:M.getUniformLocation(D,'fogColor'),alphaTest:M.getUniformLocation(D,'alphaTest')};var U=document.createElement('canvas');U.width=8,U.height=8;var B=U.getContext('2d');B.fillStyle='#ffffff',B.fillRect(0,0,U.width,U.height),C=new THREE.Texture(U),C.needsUpdate=!0},this.render=function(V,U){var I=V.__webglSprites,O=I.length;if(O){M.useProgram(D),M.enableVertexAttribArray(R.position),M.enableVertexAttribArray(R.uv),M.disable(M.CULL_FACE),M.enable(M.BLEND),M.bindBuffer(M.ARRAY_BUFFER,L),M.vertexAttribPointer(R.position,2,M.FLOAT,!1,16,0),M.vertexAttribPointer(R.uv,2,M.FLOAT,!1,16,8),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,P),M.uniformMatrix4fv(F.projectionMatrix,!1,U.projectionMatrix.elements),M.activeTexture(M.TEXTURE0),M.uniform1i(F.map,0);var G=0,H=0,W=V.fog;W?(M.uniform3f(F.fogColor,W.color.r,W.color.g,W.color.b),W instanceof THREE.Fog?(M.uniform1f(F.fogNear,W.near),M.uniform1f(F.fogFar,W.far),M.uniform1i(F.fogType,1),G=1,H=1):W instanceof THREE.FogExp2&&(M.uniform1f(F.fogDensity,W.density),M.uniform1i(F.fogType,2),G=2,H=2)):(M.uniform1i(F.fogType,0),G=0,H=0);var Z=[],X,Y,K,Q;for(X=0;X<O;X++)Y=I[X],K=Y.material,!1===Y.visible||(Y._modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,Y.matrixWorld),Y.z=-Y._modelViewMatrix.elements[14]);for(I.sort(S),X=0;X<O;X++)Y=I[X],!1===Y.visible||(K=Y.material,M.uniform1f(F.alphaTest,K.alphaTest),M.uniformMatrix4fv(F.modelViewMatrix,!1,Y._modelViewMatrix.elements),Z[0]=Y.scale.x,Z[1]=Y.scale.y,Q=V.fog&&K.fog?H:0,G!==Q&&(M.uniform1i(F.fogType,Q),G=Q),M.uniform2f(F.uvScale,K.uvScale.x,K.uvScale.y),M.uniform2f(F.uvOffset,K.uvOffset.x,K.uvOffset.y),M.uniform1f(F.opacity,K.opacity),M.uniform3f(F.color,K.color.r,K.color.g,K.color.b),M.uniform1f(F.rotation,K.rotation),M.uniform2fv(F.scale,Z),T.setBlending(K.blending,K.blendEquation,K.blendSrc,K.blendDst),T.setDepthTest(K.depthTest),T.setDepthWrite(K.depthWrite),K.map&&K.map.image&&K.map.image.width?T.setTexture(K.map,0):T.setTexture(C,0),M.drawElements(M.TRIANGLES,6,M.UNSIGNED_SHORT,0));M.enable(M.CULL_FACE)}}},THREE.DepthPassPlugin=function(){function _(D){return D.material instanceof THREE.MeshFaceMaterial?D.material.materials[0]:D.material}this.enabled=!1,this.renderTarget=null;var L=new THREE.Frustum,P=new THREE.Matrix4,S,M,T,C,A,E;this.init=function(D){S=D.context,M=D;var R=THREE.ShaderLib.depthRGBA,F=THREE.UniformsUtils.clone(R.uniforms);T=new THREE.ShaderMaterial({fragmentShader:R.fragmentShader,vertexShader:R.vertexShader,uniforms:F}),C=new THREE.ShaderMaterial({fragmentShader:R.fragmentShader,vertexShader:R.vertexShader,uniforms:F,morphTargets:!0}),A=new THREE.ShaderMaterial({fragmentShader:R.fragmentShader,vertexShader:R.vertexShader,uniforms:F,skinning:!0}),E=new THREE.ShaderMaterial({fragmentShader:R.fragmentShader,vertexShader:R.vertexShader,uniforms:F,morphTargets:!0,skinning:!0}),T._shadowPass=!0,C._shadowPass=!0,A._shadowPass=!0,E._shadowPass=!0},this.render=function(D,R){this.enabled&&this.update(D,R)},this.update=function(D,R){var K=null,U,B,O,G,H,W,Y;for(S.clearColor(1,1,1,1),S.disable(S.BLEND),M.setDepthTest(!0),!0===D.autoUpdate&&D.updateMatrixWorld(),R.matrixWorldInverse.getInverse(R.matrixWorld),P.multiplyMatrices(R.projectionMatrix,R.matrixWorldInverse),L.setFromMatrix(P),M.setRenderTarget(this.renderTarget),M.clear(),Y=D.__webglObjects,(U=0,B=Y.length);U<B;U++)H=Y[U],W=H.object,H.render=!1,W.visible&&(!(W instanceof THREE.Mesh||W instanceof THREE.ParticleSystem)||!W.frustumCulled||L.intersectsObject(W))&&(W._modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,W.matrixWorld),H.render=!0);var Q,Z,J;for(U=0,B=Y.length;U<B;U++)if(H=Y[U],H.render){if(W=H.object,O=H.buffer,W instanceof THREE.ParticleSystem&&!W.customDepthMaterial)continue;Q=_(W),Q&&M.setMaterialFaces(W.material),Z=0<W.geometry.morphTargets.length&&Q.morphTargets,J=W instanceof THREE.SkinnedMesh&&Q.skinning,G=W.customDepthMaterial?W.customDepthMaterial:J?Z?E:A:Z?C:T,O instanceof THREE.BufferGeometry?M.renderBufferDirect(R,D.__lights,K,G,O,W):M.renderBuffer(R,D.__lights,K,G,O,W)}for(Y=D.__webglObjectsImmediate,U=0,B=Y.length;U<B;U++)H=Y[U],W=H.object,W.visible&&(W._modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,W.matrixWorld),M.renderImmediateObject(R,D.__lights,K,T,W));var $=M.getClearColor(),ee=M.getClearAlpha();S.clearColor($.r,$.g,$.b,ee),S.enable(S.BLEND)}},THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:['uniform lowp int renderType;','uniform vec3 screenPosition;','uniform vec2 scale;','uniform float rotation;','uniform sampler2D occlusionMap;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','varying float vVisibility;','void main() {','vUV = uv;','vec2 pos = position;','if( renderType == 2 ) {','vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );','visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );','visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );','visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );','visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );','visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );','visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );','visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );','visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );','vVisibility =        visibility.r / 9.0;','vVisibility *= 1.0 - visibility.g / 9.0;','vVisibility *=       visibility.b / 9.0;','vVisibility *= 1.0 - visibility.a / 9.0;','pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;','pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;','}','gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );','}'].join('\n'),fragmentShader:['uniform lowp int renderType;','uniform sampler2D map;','uniform float opacity;','uniform vec3 color;','varying vec2 vUV;','varying float vVisibility;','void main() {','if( renderType == 0 ) {','gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );','} else if( renderType == 1 ) {','gl_FragColor = texture2D( map, vUV );','} else {','vec4 texture = texture2D( map, vUV );','texture.a *= opacity * vVisibility;','gl_FragColor = texture;','gl_FragColor.rgb *= color;','}','}'].join('\n')},lensFlare:{vertexShader:['uniform lowp int renderType;','uniform vec3 screenPosition;','uniform vec2 scale;','uniform float rotation;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','void main() {','vUV = uv;','vec2 pos = position;','if( renderType == 2 ) {','pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;','pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;','}','gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );','}'].join('\n'),fragmentShader:['precision mediump float;','uniform lowp int renderType;','uniform sampler2D map;','uniform sampler2D occlusionMap;','uniform float opacity;','uniform vec3 color;','varying vec2 vUV;','void main() {','if( renderType == 0 ) {','gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );','} else if( renderType == 1 ) {','gl_FragColor = texture2D( map, vUV );','} else {','float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;','visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;','visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;','visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;','visibility = ( 1.0 - visibility / 4.0 );','vec4 texture = texture2D( map, vUV );','texture.a *= opacity * visibility;','gl_FragColor = texture;','gl_FragColor.rgb *= color;','}','}'].join('\n')}};</script><script>THREE.ColladaLoader=function(){function a(pt,ct,ut){if(Be=pt,ct=ct||Ue,void 0!==ut){var ht=ut.split('/');ht.pop(),tt=(1>ht.length?'.':ht.join('/'))+'/'}c(),Ie(),ze=u('//dae:library_images/dae:image',B,'image'),He=u('//dae:library_materials/dae:material',oe,'material'),Je=u('//dae:library_effects/dae:effect',ce,'effect'),We=u('//dae:library_geometries/dae:geometry',Q,'geometry'),Qe=u('.//dae:library_cameras/dae:camera',ye,'camera'),Ke=u('.//dae:library_lights/dae:light',xe,'light'),Fe=u('//dae:library_controllers/dae:controller',V,'controller'),Ge=u('//dae:library_animations/dae:animation',he,'animation'),et=u('.//dae:library_visual_scenes/dae:visual_scene',z,'visual_scene'),nt=[],it=[],Pe=h(),Ve=new THREE.Object3D;for(var mt=0;mt<Pe.nodes.length;mt++)Ve.add(O(Pe.nodes[mt]));Ve.scale.multiplyScalar(st),g();var gt={scene:Ve,morphs:nt,skins:it,animations:$e,dae:{images:ze,materials:He,cameras:Qe,lights:Ke,effects:Je,geometries:We,controllers:Fe,animations:Ge,visualScenes:et,scene:Pe}};return ct&&ct(gt),gt}function c(){var pt=Be.evaluate('//dae:asset',Be,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),ct=pt.iterateNext();if(ct&&ct.childNodes)for(var ht,ut=0;ut<ct.childNodes.length;ut++)switch(ht=ct.childNodes[ut],ht.nodeName){case'unit':var mt=ht.getAttribute('meter');mt&&(st=parseFloat(mt));break;case'up_axis':dt=ht.textContent.charAt(0);}}function u(pt,ct,ut){for(var yt,ht=Be.evaluate(pt,Be,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),mt={},gt=ht.iterateNext(),ft=0;gt;)yt=new ct().parse(gt),yt.id&&0!=yt.id.length||(yt.id=ut+ft++),mt[yt.id]=yt,gt=ht.iterateNext();return mt}function h(){var pt=Be.evaluate('.//dae:scene/dae:instance_visual_scene',Be,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(pt){var ct=pt.getAttribute('url').replace(/^#/,'');return et[0<ct.length?ct:'visual_scene0']}return null}function g(){$e=[],y(Ve)}function y(pt){var ct=Pe.getChildById(pt.name,!0),ut=null;if(ct&&ct.keys){ut={fps:60,hierarchy:[{node:ct,keys:ct.keys,sids:ct.sids}],node:pt,name:'animation_'+pt.name,length:0},$e.push(ut);for(var ht=0,mt=ct.keys.length;ht<mt;ht++)ut.length=Math.max(ut.length,ct.keys[ht].time)}else ut={hierarchy:[{keys:[],sids:[]}]};for(var gt,ht=0,mt=pt.children.length;ht<mt;ht++){gt=y(pt.children[ht]);for(var ft=0,yt=gt.hierarchy.length;ft<yt;ft++)ut.hierarchy.push({keys:[],sids:[]})}return ut}function N(){var pt=1e6,ct=-pt,ut=0;for(var ht in Ge)for(var ft,mt=Ge[ht],gt=0;gt<mt.sampler.length;gt++)ft=mt.sampler[gt],ft.create(),pt=Math.min(pt,ft.startTime),ct=Math.max(ct,ft.endTime),ut=Math.max(ut,ft.input.length);return{start:pt,end:ct,frames:ut}}function x(pt,ct){var ut=ct instanceof W?Fe[ct.url]:ct;if(!ut||!ut.morph)return void console.log('could not find morph controller!');for(var ht=ut.morph,mt=0;mt<ht.targets.length;mt++){var gt=ht.targets[mt],ft=We[gt];if(ft.mesh&&ft.mesh.primitives&&ft.mesh.primitives.length){var yt=ft.mesh.primitives[0].geometry;yt.vertices.length===pt.vertices.length&&pt.morphTargets.push({name:'target_1',vertices:yt.vertices})}}pt.morphTargets.push({name:'target_Z',vertices:pt.vertices})}function T(pt,ct,ut,ht){if(pt.world=pt.world||new THREE.Matrix4,pt.world.copy(pt.matrix),pt.channels&&pt.channels.length){var mt=pt.channels[0],gt=mt.sampler.output[ut];gt instanceof THREE.Matrix4&&pt.world.copy(gt)}ht&&pt.world.multiplyMatrices(ht,pt.world),ct.push(pt);for(var ft=0;ft<pt.nodes.length;ft++)T(pt.nodes[ft],ct,ut,pt.world)}function _(pt,ct){for(var ut=0;ut<pt.length;ut++){var ht=pt[ut],mt=-1;if('JOINT'==ht.type){for(var gt=0;gt<ct.joints.length;gt++)if(ht.sid==ct.joints[gt]){mt=gt;break}if(0<=mt){var ft=ct.invBindMatrices[mt];ht.invBindMatrix=ft,ht.skinningMatrix=new THREE.Matrix4,ht.skinningMatrix.multiplyMatrices(ht.world,ft),ht.weights=[];for(var gt=0;gt<ct.weights.length;gt++)for(var Nt,yt=0;yt<ct.weights[gt].length;yt++)Nt=ct.weights[gt][yt],Nt.joint==mt&&ht.weights.push(Nt)}else throw'ColladaLoader: Could not find joint \''+ht.sid+'\'.'}}}function C(pt,ct,ut){var ht=Fe[ct.url];if(ut=void 0===ut?40:ut,!ht||!ht.skin)return void console.log('ColladaLoader: Could not find skin controller.');if(!ct.skeleton||!ct.skeleton.length)return void console.log('ColladaLoader: Could not find the skeleton for the skin. ');var ft,yt,Nt,xt,bt,_t,vt,mt=N(),gt=Pe.getChildById(ct.skeleton[0],!0)||Pe.getChildBySid(ct.skeleton[0],!0),Tt=new THREE.Vector3;for(ft=0;ft<pt.vertices.length;ft++)pt.vertices[ft].applyMatrix4(ht.skin.bindShapeMatrix);for(ut=0;ut<mt.frames;ut++){var jt=[],Ct=[];for(ft=0;ft<pt.vertices.length;ft++)Ct.push(new THREE.Vector3);for(T(gt,jt,ut),_(jt,ht.skin),ft=0;ft<jt.length;ft++)if('JOINT'==jt[ft].type)for(yt=0;yt<jt[ft].weights.length;yt++)Nt=jt[ft].weights[yt],xt=Nt.index,bt=Nt.weight,_t=pt.vertices[xt],vt=Ct[xt],Tt.x=_t.x,Tt.y=_t.y,Tt.z=_t.z,Tt.applyMatrix4(jt[ft].skinningMatrix),vt.x+=Tt.x*bt,vt.y+=Tt.y*bt,vt.z+=Tt.z*bt;pt.morphTargets.push({name:'target_'+ut,vertices:Ct})}}function O(pt){var mt,gt,ft,yt,ut=new THREE.Object3D,ht=!1;for(ft=0;ft<pt.controllers.length;ft++){var Nt=Fe[pt.controllers[ft].url];switch(Nt.type){case'skin':if(We[Nt.skin.source]){var xt=new J;xt.url=Nt.skin.source,xt.instance_material=pt.controllers[ft].instance_material,pt.geometries.push(xt),ht=!0,mt=pt.controllers[ft]}else if(Fe[Nt.skin.source]){var bt=Fe[Nt.skin.source];if(gt=bt,bt.morph&&We[bt.morph.source]){var xt=new J;xt.url=bt.morph.source,xt.instance_material=pt.controllers[ft].instance_material,pt.geometries.push(xt)}}break;case'morph':if(We[Nt.morph.source]){var xt=new J;xt.url=Nt.morph.source,xt.instance_material=pt.controllers[ft].instance_material,pt.geometries.push(xt),gt=pt.controllers[ft]}console.log('ColladaLoader: Morph-controller partially supported.');default:}}var Tt={};for(ft=0;ft<pt.geometries.length;ft++){var Mt,_t=pt.geometries[ft],vt=_t.instance_material,jt=We[_t.url],Ct={},Ot=[],At=0;if(jt){if(!jt.mesh||!jt.mesh.primitives)continue;if(0==ut.name.length&&(ut.name=jt.id),vt)for(yt=0;yt<vt.length;yt++){var kt=vt[yt],Et=He[kt.target],Rt=Et.instance_effect.url,St=Je[Rt].shader,wt=St.material;if(jt.doubleSided){if(!(kt.symbol in Tt)){var It=wt.clone();It.side=THREE.DoubleSide,Tt[kt.symbol]=It}wt=Tt[kt.symbol]}wt.opacity=wt.opacity?wt.opacity:1,Ct[kt.symbol]=At,Ot.push(wt),Mt=wt,Mt.name=null==Et.name||''===Et.name?Et.id:Et.name,At++}var Dt,Xt=Mt||new THREE.MeshLambertMaterial({color:14540253,shading:THREE.FlatShading,side:jt.doubleSided?THREE.DoubleSide:THREE.FrontSide}),Yt=jt.mesh.geometry3js;if(1<At)for(Xt=new THREE.MeshFaceMaterial(Ot),yt=0;yt<Yt.faces.length;yt++){var Zt=Yt.faces[yt];Zt.materialIndex=Ct[Zt.daeMaterial]}void 0===mt?void 0===gt?Dt=new THREE.Mesh(Yt,Xt):(x(Yt,gt),Xt.morphTargets=!0,Dt=new THREE.Mesh(Yt,Xt),Dt.name='morph_'+nt.length,nt.push(Dt)):(C(Yt,mt),Xt.morphTargets=!0,Dt=new THREE.SkinnedMesh(Yt,Xt,!1),Dt.skeleton=mt.skeleton,Dt.skinController=Fe[mt.url],Dt.skinInstanceController=mt,Dt.name='skin_'+it.length,it.push(Dt)),1<pt.geometries.length?ut.add(Dt):ut=Dt}}for(ft=0;ft<pt.cameras.length;ft++){var Lt=pt.cameras[ft],Bt=Qe[Lt.url];ut=new THREE.PerspectiveCamera(Bt.fov,parseFloat(Bt.aspect_ratio),parseFloat(Bt.znear),parseFloat(Bt.zfar))}for(ft=0;ft<pt.lights.length;ft++){var Vt=pt.lights[ft],Pt=Ke[Vt.url];if(Pt&&Pt.technique){var Ft,Ut=Pt.color.getHex(),qt=Pt.intensity,zt=0,Gt=Pt.falloff_angle;switch(Pt.technique){case'directional':ut=new THREE.DirectionalLight(Ut,qt,zt);break;case'point':ut=new THREE.PointLight(Ut,qt,zt);break;case'spot':ut=new THREE.SpotLight(Ut,qt,zt,Gt,Ft);break;case'ambient':ut=new THREE.AmbientLight(Ut);}}}if(ut.name=pt.name||pt.id||'',ut.matrix=pt.matrix,ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ot.centerGeometry&&ut.geometry){var Wt=THREE.GeometryUtils.center(ut.geometry);Wt.multiply(ut.scale),Wt.applyQuaternion(ut.quaternion),ut.position.sub(Wt)}for(ft=0;ft<pt.nodes.length;ft++)ut.add(O(pt.nodes[ft],pt));return ut}function M(pt){return Be.evaluate('.//dae:library_nodes//dae:node[@id=\''+pt+'\']',Be,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext()}function E(pt){var ct=[],ut=1e6,ht=-1e6;for(var mt in Ge)for(var gt=Ge[mt],ft=0;ft<gt.channel.length;ft++){var yt=gt.channel[ft],Nt=gt.sampler[ft],mt=yt.target.split('/')[0];mt==pt.id&&(Nt.create(),yt.sampler=Nt,ut=Math.min(ut,Nt.startTime),ht=Math.max(ht,Nt.endTime),ct.push(yt))}return ct.length&&(pt.startTime=ut,pt.endTime=ht),ct}function I(pt){if(pt.channels&&pt.channels.length){for(var ct=[],ut=[],ht=0,mt=pt.channels.length;ht<mt;ht++){var bt,gt=pt.channels[ht],ft=gt.fullSid,yt=gt.sampler,Nt=yt.input,xt=pt.getTransformBySid(gt.sid);if(gt.arrIndices){bt=[];for(var Tt=0,_t=gt.arrIndices.length;Tt<_t;Tt++)bt[Tt]=Ze(gt.arrIndices[Tt])}else bt=Le(gt.member);if(xt){-1===ut.indexOf(ft)&&ut.push(ft);for(var Tt=0,_t=Nt.length;Tt<_t;Tt++){var vt=Nt[Tt],jt=yt.getData(xt.type,Tt),Ct=D(ct,vt);if(!Ct){Ct=new fe(vt);var Ot=X(ct,vt);ct.splice(-1==Ot?ct.length:Ot,0,Ct)}Ct.addTarget(ft,xt,bt,jt)}}else console.log('Could not find transform "'+gt.sid+'" in node '+pt.id)}for(var At,ht=0;ht<ut.length;ht++){At=ut[ht];for(var Ct,Tt=0;Tt<ct.length;Tt++)Ct=ct[Tt],Ct.hasTarget(At)||Y(ct,Ct,Tt,At)}pt.keys=ct,pt.sids=ut}}function D(pt,ct){for(var gt,ut=null,ht=0,mt=pt.length;ht<mt&&null==ut;ht++)if(gt=pt[ht],gt.time===ct)ut=gt;else if(gt.time>ct)break;return ut}function X(pt,ct){for(var gt,ut=-1,ht=0,mt=pt.length;ht<mt&&-1==ut;ht++)gt=pt[ht],gt.time>=ct&&(ut=ht);return ut}function Y(pt,ct,ut,ht){var mt=L(pt,ht,ut?ut-1:0),gt=Z(pt,ht,ut+1);if(mt&&gt){var bt,ft=(ct.time-mt.time)/(gt.time-mt.time),yt=mt.getTarget(ht),Nt=gt.getTarget(ht).data,xt=yt.data;if('matrix'===yt.type)bt=xt;else if(xt.length){bt=[];for(var Tt=0;Tt<xt.length;++Tt)bt[Tt]=xt[Tt]+(Nt[Tt]-xt[Tt])*ft}else bt=xt+(Nt-xt)*ft;ct.addTarget(ht,yt.transform,yt.member,bt)}}function Z(pt,ct,ut){for(;ut<pt.length;ut++){var ht=pt[ut];if(ht.hasTarget(ct))return ht}return null}function L(pt,ct,ut){for(ut=0<=ut?ut:ut+pt.length;0<=ut;ut--){var ht=pt[ut];if(ht.hasTarget(ct))return ht}return null}function B(){this.id='',this.init_from=''}function V(){this.id='',this.name='',this.type='',this.skin=null,this.morph=null}function P(){this.method=null,this.source=null,this.targets=null,this.weights=null}function U(){this.source='',this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function z(){this.id='',this.name='',this.nodes=[],this.scene=new THREE.Object3D}function G(){this.id='',this.name='',this.sid='',this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function F(){this.sid='',this.type='',this.data=[],this.obj=null}function W(){this.url='',this.skeleton=[],this.instance_material=[]}function H(){this.symbol='',this.target=''}function J(){this.url='',this.instance_material=[]}function Q(){this.id='',this.mesh=null}function K(pt){this.geometry=pt.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function $(){this.material='',this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function ee(){$.call(this),this.vcount=[]}function te(){$.call(this),this.vcount=3}function ne(){this.source='',this.count=0,this.stride=0,this.params=[]}function ie(){this.input={}}function ae(){this.semantic='',this.offset=0,this.source='',this.set=0}function re(pt){this.id=pt,this.type=null}function oe(){this.id='',this.name='',this.instance_effect=null}function se(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function de(pt,ct){this.type=pt,this.effect=ct,this.material=null}function le(pt){this.effect=pt,this.init_from=null,this.format=null}function pe(pt){this.effect=pt,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function ce(){this.id='',this.name='',this.shader=null,this.surface={},this.sampler={}}function ue(){this.url=''}function he(){this.id='',this.name='',this.source={},this.sampler=[],this.channel=[]}function me(pt){this.animation=pt,this.source='',this.target='',this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function ge(pt){this.id='',this.animation=pt,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function fe(pt){this.targets=[],this.time=pt}function ye(){this.id='',this.name='',this.technique=''}function Ne(){this.url=''}function xe(){this.id='',this.name='',this.technique=''}function be(){this.url=''}function Te(pt){var ct=pt.getAttribute('id');return void 0==qe[ct]?(qe[ct]=new re(ct).parse(pt),qe[ct]):qe[ct]}function _e(pt){return'dae'==pt?'http://www.collada.org/2005/11/COLLADASchema':null}function ve(pt){for(var ct=Oe(pt),ut=[],ht=0,mt=ct.length;ht<mt;ht++)ut.push('true'==ct[ht]||'1'==ct[ht]);return ut}function je(pt){for(var ct=Oe(pt),ut=[],ht=0,mt=ct.length;ht<mt;ht++)ut.push(parseFloat(ct[ht]));return ut}function Ce(pt){for(var ct=Oe(pt),ut=[],ht=0,mt=ct.length;ht<mt;ht++)ut.push(parseInt(ct[ht],10));return ut}function Oe(pt){return 0<pt.length?Ae(pt).split(/\s+/):[]}function Ae(pt){return pt.replace(/^\s+/,'').replace(/\s+$/,'')}function ke(pt,ct,ut){return pt.hasAttribute(ct)?parseInt(pt.getAttribute(ct),10):ut}function Se(pt,ct){for(var ut=Be.evaluate(ct,pt,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),ht=ut.iterateNext(),mt=[];ht;)mt.push(ht),ht=ut.iterateNext();return mt}function we(pt,ct){pt.doubleSided=!1;var ut=Be.evaluate('.//dae:extra//dae:double_sided',ct,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);ut&&(ut=ut.iterateNext(),ut&&1===parseInt(ut.textContent,10)&&(pt.doubleSided=!0))}function Ie(){ot.convertUpAxis&&dt!==ot.upAxis?'X'===dt?lt='Y'===ot.upAxis?'XtoY':'XtoZ':'Y'===dt?lt='X'===ot.upAxis?'YtoX':'YtoZ':'Z'===dt?lt='X'===ot.upAxis?'ZtoX':'ZtoY':void 0:lt=null}function De(pt,ct){if(ot.convertUpAxis&&dt!==ot.upAxis)switch(lt){case'XtoY':var ut=pt[0];pt[0]=ct*pt[1],pt[1]=ut;break;case'XtoZ':var ut=pt[2];pt[2]=pt[1],pt[1]=pt[0],pt[0]=ut;break;case'YtoX':var ut=pt[0];pt[0]=pt[1],pt[1]=ct*ut;break;case'YtoZ':var ut=pt[1];pt[1]=ct*pt[2],pt[2]=ut;break;case'ZtoX':var ut=pt[0];pt[0]=pt[1],pt[1]=pt[2],pt[2]=ut;break;case'ZtoY':var ut=pt[1];pt[1]=pt[2],pt[2]=ct*ut;}}function Xe(pt,ct){var ut=[pt[ct],pt[ct+1],pt[ct+2]];return De(ut,-1),new THREE.Vector3(ut[0],ut[1],ut[2])}function Ye(pt){if(ot.convertUpAxis){var ct=[pt[0],pt[4],pt[8]];De(ct,-1),pt[0]=ct[0],pt[4]=ct[1],pt[8]=ct[2],ct=[pt[1],pt[5],pt[9]],De(ct,-1),pt[1]=ct[0],pt[5]=ct[1],pt[9]=ct[2],ct=[pt[2],pt[6],pt[10]],De(ct,-1),pt[2]=ct[0],pt[6]=ct[1],pt[10]=ct[2],ct=[pt[0],pt[1],pt[2]],De(ct,-1),pt[0]=ct[0],pt[1]=ct[1],pt[2]=ct[2],ct=[pt[4],pt[5],pt[6]],De(ct,-1),pt[4]=ct[0],pt[5]=ct[1],pt[6]=ct[2],ct=[pt[8],pt[9],pt[10]],De(ct,-1),pt[8]=ct[0],pt[9]=ct[1],pt[10]=ct[2],ct=[pt[3],pt[7],pt[11]],De(ct,-1),pt[3]=ct[0],pt[7]=ct[1],pt[11]=ct[2]}return new THREE.Matrix4(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15])}function Ze(pt){if(-1<pt&&3>pt){pt=Le(['X','Y','Z'][pt]),pt={X:0,Y:1,Z:2}[pt]}return pt}function Le(pt){return ot.convertUpAxis&&('X'===pt?'XtoY'===lt||'XtoZ'===lt||'YtoX'===lt?pt='Y':'ZtoX'===lt?pt='Z':void 0:'Y'===pt?'XtoY'===lt||'YtoX'===lt||'ZtoX'===lt?pt='X':'XtoZ'===lt||'YtoZ'===lt||'ZtoY'===lt?pt='Z':void 0:'Z'===pt?'XtoZ'===lt?pt='X':'YtoZ'===lt||'ZtoX'===lt||'ZtoY'===lt?pt='Y':void 0:void 0),pt}var Pe,$e,et,tt,nt,it,Be=null,Ve=null,Ue=null,qe={},ze={},Ge={},Fe={},We={},He={},Je={},Qe={},Ke={},rt=THREE.SmoothShading,ot={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:'Y',defaultEnvMap:null},st=1,dt='Y',lt=null;return B.prototype.parse=function(pt){this.id=pt.getAttribute('id');for(var ut,ct=0;ct<pt.childNodes.length;ct++)ut=pt.childNodes[ct],'init_from'==ut.nodeName&&(this.init_from=ut.textContent);return this},V.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name'),this.type='none';for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'skin':this.skin=new U().parse(ut),this.type=ut.nodeName;break;case'morph':this.morph=new P().parse(ut),this.type=ut.nodeName;break;default:}return this},P.prototype.parse=function(pt){var ht,ct={},ut=[];for(this.method=pt.getAttribute('method'),this.source=pt.getAttribute('source').replace(/^#/,''),ht=0;ht<pt.childNodes.length;ht++){var mt=pt.childNodes[ht];if(1==mt.nodeType)switch(mt.nodeName){case'source':var gt=new re().parse(mt);ct[gt.id]=gt;break;case'targets':ut=this.parseInputs(mt);break;default:console.log(mt.nodeName);}}for(ht=0;ht<ut.length;ht++){var ft=ut[ht],gt=ct[ft.source];switch(ft.semantic){case'MORPH_TARGET':this.targets=gt.read();break;case'MORPH_WEIGHT':this.weights=gt.read();break;default:}}return this},P.prototype.parseInputs=function(pt){for(var ht,ct=[],ut=0;ut<pt.childNodes.length;ut++)if(ht=pt.childNodes[ut],1==ht.nodeType)switch(ht.nodeName){case'input':ct.push(new ae().parse(ht));break;default:}return ct},U.prototype.parse=function(pt){var ut,ht,ct={};this.source=pt.getAttribute('source').replace(/^#/,''),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var gt,mt=0;mt<pt.childNodes.length;mt++)if(gt=pt.childNodes[mt],1==gt.nodeType)switch(gt.nodeName){case'bind_shape_matrix':var ft=je(gt.textContent);this.bindShapeMatrix=Ye(ft);break;case'source':var yt=new re().parse(gt);ct[yt.id]=yt;break;case'joints':ut=gt;break;case'vertex_weights':ht=gt;break;default:console.log(gt.nodeName);}return this.parseJoints(ut,ct),this.parseWeights(ht,ct),this},U.prototype.parseJoints=function(pt,ct){for(var ht,ut=0;ut<pt.childNodes.length;ut++)if(ht=pt.childNodes[ut],1==ht.nodeType)switch(ht.nodeName){case'input':var mt=new ae().parse(ht),gt=ct[mt.source];'JOINT'==mt.semantic?this.joints=gt.read():'INV_BIND_MATRIX'==mt.semantic&&(this.invBindMatrices=gt.read());break;default:}},U.prototype.parseWeights=function(pt,ct){for(var ut,ht,ft,mt=[],gt=0;gt<pt.childNodes.length;gt++)if(ft=pt.childNodes[gt],1==ft.nodeType)switch(ft.nodeName){case'input':mt.push(new ae().parse(ft));break;case'v':ut=Ce(ft.textContent);break;case'vcount':ht=Ce(ft.textContent);break;default:}for(var yt=0,gt=0;gt<ht.length;gt++){for(var Tt,Nt=ht[gt],xt=[],bt=0;bt<Nt;bt++){Tt={};for(var _t=0;_t<mt.length;_t++){var vt=mt[_t],jt=ut[yt+vt.offset];switch(vt.semantic){case'JOINT':Tt.joint=jt;break;case'WEIGHT':Tt.weight=ct[vt.source].data[jt];break;default:}}xt.push(Tt),yt+=mt.length}for(var bt=0;bt<xt.length;bt++)xt[bt].index=gt;this.weights.push(xt)}},z.prototype.getChildById=function(pt,ct){for(var ht,ut=0;ut<this.nodes.length;ut++)if(ht=this.nodes[ut].getChildById(pt,ct),ht)return ht;return null},z.prototype.getChildBySid=function(pt,ct){for(var ht,ut=0;ut<this.nodes.length;ut++)if(ht=this.nodes[ut].getChildBySid(pt,ct),ht)return ht;return null},z.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name'),this.nodes=[];for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'node':this.nodes.push(new G().parse(ut));break;default:}return this},G.prototype.getChannelForTransform=function(pt){for(var ct=0;ct<this.channels.length;ct++){var Nt,xt,ut=this.channels[ct],ht=ut.target.split('/'),mt=ht.shift(),gt=ht.shift(),ft=0<=gt.indexOf('.'),yt=0<=gt.indexOf('(');if(ft)ht=gt.split('.'),gt=ht.shift(),xt=ht.shift();else if(yt){Nt=gt.split('('),gt=Nt.shift();for(var bt=0;bt<Nt.length;bt++)Nt[bt]=parseInt(Nt[bt].replace(/\)/,''))}if(gt==pt)return ut.info={sid:gt,dotSyntax:ft,arrSyntax:yt,arrIndices:Nt},ut}return null},G.prototype.getChildById=function(pt,ct){if(this.id==pt)return this;if(ct)for(var ht,ut=0;ut<this.nodes.length;ut++)if(ht=this.nodes[ut].getChildById(pt,ct),ht)return ht;return null},G.prototype.getChildBySid=function(pt,ct){if(this.sid==pt)return this;if(ct)for(var ht,ut=0;ut<this.nodes.length;ut++)if(ht=this.nodes[ut].getChildBySid(pt,ct),ht)return ht;return null},G.prototype.getTransformBySid=function(pt){for(var ct=0;ct<this.transforms.length;ct++)if(this.transforms[ct].sid==pt)return this.transforms[ct];return null},G.prototype.parse=function(pt){var ct;this.id=pt.getAttribute('id'),this.sid=pt.getAttribute('sid'),this.name=pt.getAttribute('name'),this.type=pt.getAttribute('type'),this.type='JOINT'==this.type?this.type:'NODE',this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var ht,ut=0;ut<pt.childNodes.length;ut++)if(ht=pt.childNodes[ut],1==ht.nodeType)switch(ht.nodeName){case'node':this.nodes.push(new G().parse(ht));break;case'instance_camera':this.cameras.push(new Ne().parse(ht));break;case'instance_controller':this.controllers.push(new W().parse(ht));break;case'instance_geometry':this.geometries.push(new J().parse(ht));break;case'instance_light':this.lights.push(new be().parse(ht));break;case'instance_node':ct=ht.getAttribute('url').replace(/^#/,'');var mt=M(ct);mt&&this.nodes.push(new G().parse(mt));break;case'rotate':case'translate':case'scale':case'matrix':case'lookat':case'skew':this.transforms.push(new F().parse(ht));break;case'extra':break;default:console.log(ht.nodeName);}return this.channels=E(this),I(this),this.updateMatrix(),this},G.prototype.updateMatrix=function(){this.matrix.identity();for(var pt=0;pt<this.transforms.length;pt++)this.transforms[pt].apply(this.matrix)},F.prototype.parse=function(pt){return this.sid=pt.getAttribute('sid'),this.type=pt.nodeName,this.data=je(pt.textContent),this.convert(),this},F.prototype.convert=function(){switch(this.type){case'matrix':this.obj=Ye(this.data);break;case'rotate':this.angle=THREE.Math.degToRad(this.data[3]);case'translate':De(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case'scale':De(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log('Can not convert Transform of type '+this.type);}},F.prototype.apply=function(){var pt=new THREE.Matrix4;return function(ct){switch(this.type){case'matrix':ct.multiply(this.obj);break;case'translate':ct.multiply(pt.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case'rotate':ct.multiply(pt.makeRotationAxis(this.obj,this.angle));break;case'scale':ct.scale(this.obj);}}}(),F.prototype.update=function(pt,ct){var ut=['X','Y','Z','ANGLE'];switch(this.type){case'matrix':if(!ct)this.obj.copy(pt);else if(1===ct.length)switch(ct[0]){case 0:this.obj.n11=pt[0],this.obj.n21=pt[1],this.obj.n31=pt[2],this.obj.n41=pt[3];break;case 1:this.obj.n12=pt[0],this.obj.n22=pt[1],this.obj.n32=pt[2],this.obj.n42=pt[3];break;case 2:this.obj.n13=pt[0],this.obj.n23=pt[1],this.obj.n33=pt[2],this.obj.n43=pt[3];break;case 3:this.obj.n14=pt[0],this.obj.n24=pt[1],this.obj.n34=pt[2],this.obj.n44=pt[3];}else if(2===ct.length){var ht='n'+(ct[0]+1)+(ct[1]+1);this.obj[ht]=pt}else console.log('Incorrect addressing of matrix in transform.');break;case'translate':case'scale':switch('[object Array]'===Object.prototype.toString.call(ct)&&(ct=ut[ct[0]]),ct){case'X':this.obj.x=pt;break;case'Y':this.obj.y=pt;break;case'Z':this.obj.z=pt;break;default:this.obj.x=pt[0],this.obj.y=pt[1],this.obj.z=pt[2];}break;case'rotate':switch('[object Array]'===Object.prototype.toString.call(ct)&&(ct=ut[ct[0]]),ct){case'X':this.obj.x=pt;break;case'Y':this.obj.y=pt;break;case'Z':this.obj.z=pt;break;case'ANGLE':this.angle=THREE.Math.degToRad(pt);break;default:this.obj.x=pt[0],this.obj.y=pt[1],this.obj.z=pt[2],this.angle=THREE.Math.degToRad(pt[3]);}}},W.prototype.parse=function(pt){this.url=pt.getAttribute('url').replace(/^#/,''),this.skeleton=[],this.instance_material=[];for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1===ut.nodeType)switch(ut.nodeName){case'skeleton':this.skeleton.push(ut.textContent.replace(/^#/,''));break;case'bind_material':var ht=Be.evaluate('.//dae:instance_material',ut,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);if(ht)for(var mt=ht.iterateNext();mt;)this.instance_material.push(new H().parse(mt)),mt=ht.iterateNext();break;case'extra':break;default:}return this},H.prototype.parse=function(pt){return this.symbol=pt.getAttribute('symbol'),this.target=pt.getAttribute('target').replace(/^#/,''),this},J.prototype.parse=function(pt){this.url=pt.getAttribute('url').replace(/^#/,''),this.instance_material=[];for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType&&'bind_material'==ut.nodeName){var ht=Be.evaluate('.//dae:instance_material',ut,_e,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);if(ht)for(var mt=ht.iterateNext();mt;)this.instance_material.push(new H().parse(mt)),mt=ht.iterateNext();break}return this},Q.prototype.parse=function(pt){this.id=pt.getAttribute('id'),we(this,pt);for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'mesh':this.mesh=new K(this).parse(ut);break;case'extra':break;default:}return this},K.prototype.parse=function(pt){this.primitives=[];var ct;for(ct=0;ct<pt.childNodes.length;ct++){var ht=pt.childNodes[ct];switch(ht.nodeName){case'source':Te(ht);break;case'vertices':this.vertices=new ie().parse(ht);break;case'triangles':this.primitives.push(new te().parse(ht));break;case'polygons':this.primitives.push(new $().parse(ht));break;case'polylist':this.primitives.push(new ee().parse(ht));break;default:}}this.geometry3js=new THREE.Geometry;var mt=qe[this.vertices.input.POSITION.source].data;for(ct=0;ct<mt.length;ct+=3)this.geometry3js.vertices.push(Xe(mt,ct).clone());for(ct=0;ct<this.primitives.length;ct++){var gt=this.primitives[ct];gt.setVertices(this.vertices),this.handlePrimitive(gt,this.geometry3js)}return this.geometry3js.computeCentroids(),this.geometry3js.computeFaceNormals(),this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},K.prototype.handlePrimitive=function(pt,ct){var ut,ht,ft,yt,Nt,xt,bt,mt=pt.p,gt=pt.inputs,Tt=0,_t=3,vt=0,jt=[];for(ut=0;ut<gt.length;ut++){ft=gt[ut];var Ct=ft.offset+1;switch(vt=vt<Ct?Ct:vt,ft.semantic){case'TEXCOORD':jt.push(ft.set);}}for(var Ot=0;Ot<mt.length;++Ot)for(var At=mt[Ot],Mt=0;Mt<At.length;){var kt=[],Et=[],Rt=null,St=[];for(_t=pt.vcount?pt.vcount.length?pt.vcount[Tt++]:pt.vcount:At.length/vt,ut=0;ut<_t;ut++)for(ht=0;ht<gt.length;ht++)switch(ft=gt[ht],xt=qe[ft.source],yt=At[Mt+ut*vt+ft.offset],bt=xt.accessor.params.length,Nt=yt*bt,ft.semantic){case'VERTEX':kt.push(yt);break;case'NORMAL':Et.push(Xe(xt.data,Nt));break;case'TEXCOORD':Rt=Rt||{},void 0===Rt[ft.set]&&(Rt[ft.set]=[]),Rt[ft.set].push(new THREE.Vector2(xt.data[Nt],xt.data[Nt+1]));break;case'COLOR':St.push(new THREE.Color().setRGB(xt.data[Nt],xt.data[Nt+1],xt.data[Nt+2]));break;default:}if(0==Et.length)if(ft=this.vertices.input.NORMAL,ft){xt=qe[ft.source],bt=xt.accessor.params.length;for(var wt=0,It=kt.length;wt<It;wt++)Et.push(Xe(xt.data,kt[wt]*bt))}else ct.calcNormals=!0;if(!Rt&&(Rt={},ft=this.vertices.input.TEXCOORD,ft)){jt.push(ft.set),xt=qe[ft.source],bt=xt.accessor.params.length;for(var wt=0,It=kt.length;wt<It;wt++)Nt=kt[wt]*bt,void 0===Rt[ft.set]&&(Rt[ft.set]=[]),Rt[ft.set].push(new THREE.Vector2(xt.data[Nt],1-xt.data[Nt+1]))}if(0==St.length&&(ft=this.vertices.input.COLOR,ft)){xt=qe[ft.source],bt=xt.accessor.params.length;for(var wt=0,It=kt.length;wt<It;wt++)Nt=kt[wt]*bt,St.push(new THREE.Color().setRGB(xt.data[Nt],xt.data[Nt+1],xt.data[Nt+2]))}var Yt,Zt,Dt=null,Xt=[];if(3===_t)Xt.push(new THREE.Face3(kt[0],kt[1],kt[2],Et,St.length?St:new THREE.Color));else if(4===_t)Xt.push(new THREE.Face3(kt[0],kt[1],kt[3],[Et[0],Et[1],Et[3]],St.length?[St[0],St[1],St[3]]:new THREE.Color)),Xt.push(new THREE.Face3(kt[1],kt[2],kt[3],[Et[1],Et[2],Et[3]],St.length?[St[1],St[2],St[3]]:new THREE.Color));else if(4<_t&&ot.subdivideFaces){var Lt=St.length?St:new THREE.Color;for(ht=1;ht<_t-1;)Xt.push(new THREE.Face3(kt[0],kt[ht],kt[ht+1],[Et[0],Et[ht++],Et[ht]],Lt))}if(Xt.length)for(var wt=0,It=Xt.length;wt<It;wt++)for(Dt=Xt[wt],Dt.daeMaterial=pt.material,ct.faces.push(Dt),ht=0;ht<jt.length;ht++)Yt=Rt[jt[ht]],Zt=4<_t?[Yt[0],Yt[wt+1],Yt[wt+2]]:4===_t?0===wt?[Yt[0],Yt[1],Yt[3]]:[Yt[1].clone(),Yt[2],Yt[3].clone()]:[Yt[0],Yt[1],Yt[2]],void 0===ct.faceVertexUvs[ht]&&(ct.faceVertexUvs[ht]=[]),ct.faceVertexUvs[ht].push(Zt);else console.log('dropped face with vcount '+_t+' for geometry with id: '+ct.id);Mt+=vt*_t}},$.prototype.setVertices=function(pt){for(var ct=0;ct<this.inputs.length;ct++)this.inputs[ct].source==pt.id&&(this.inputs[ct].source=pt.input.POSITION.source)},$.prototype.parse=function(pt){this.material=pt.getAttribute('material'),this.count=ke(pt,'count',0);for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'input':this.inputs.push(new ae().parse(pt.childNodes[ct]));break;case'vcount':this.vcount=Ce(ut.textContent);break;case'p':this.p.push(Ce(ut.textContent));break;case'ph':console.warn('polygon holes not yet supported!');break;default:}return this},ee.prototype=Object.create($.prototype),te.prototype=Object.create($.prototype),ne.prototype.parse=function(pt){this.params=[],this.source=pt.getAttribute('source'),this.count=ke(pt,'count',0),this.stride=ke(pt,'stride',0);for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],'param'==ut.nodeName){var ht={};ht.name=ut.getAttribute('name'),ht.type=ut.getAttribute('type'),this.params.push(ht)}return this},ie.prototype.parse=function(pt){this.id=pt.getAttribute('id');for(var ct=0;ct<pt.childNodes.length;ct++)if('input'==pt.childNodes[ct].nodeName){var ut=new ae().parse(pt.childNodes[ct]);this.input[ut.semantic]=ut}return this},ae.prototype.parse=function(pt){return this.semantic=pt.getAttribute('semantic'),this.source=pt.getAttribute('source').replace(/^#/,''),this.set=ke(pt,'set',-1),this.offset=ke(pt,'offset',0),'TEXCOORD'==this.semantic&&0>this.set&&(this.set=0),this},re.prototype.parse=function(pt){this.id=pt.getAttribute('id');for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'bool_array':this.data=ve(ut.textContent),this.type=ut.nodeName;break;case'float_array':this.data=je(ut.textContent),this.type=ut.nodeName;break;case'int_array':this.data=Ce(ut.textContent),this.type=ut.nodeName;break;case'IDREF_array':case'Name_array':this.data=Oe(ut.textContent),this.type=ut.nodeName;break;case'technique_common':for(var ht=0;ht<ut.childNodes.length;ht++)if('accessor'==ut.childNodes[ht].nodeName){this.accessor=new ne().parse(ut.childNodes[ht]);break}break;default:}return this},re.prototype.read=function(){var pt=[],ct=this.accessor.params[0];switch(ct.type){case'IDREF':case'Name':case'name':case'float':return this.data;case'float4x4':for(var ut=0;ut<this.data.length;ut+=16){var ht=this.data.slice(ut,ut+16),mt=Ye(ht);pt.push(mt)}break;default:console.log('ColladaLoader: Source: Read dont know how to read '+ct.type+'.');}return pt},oe.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name');for(var ct=0;ct<pt.childNodes.length;ct++)if('instance_effect'==pt.childNodes[ct].nodeName){this.instance_effect=new ue().parse(pt.childNodes[ct]);break}return this},se.prototype.isColor=function(){return null==this.texture},se.prototype.isTexture=function(){return null!=this.texture},se.prototype.parse=function(pt){'transparent'==pt.nodeName&&(this.opaque=pt.getAttribute('opaque'));for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'color':var ht=je(ut.textContent);this.color=new THREE.Color,this.color.setRGB(ht[0],ht[1],ht[2]),this.color.a=ht[3];break;case'texture':this.texture=ut.getAttribute('texture'),this.texcoord=ut.getAttribute('texcoord'),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(ut);break;default:}return this},se.prototype.parseTexture=function(pt){if(!pt.childNodes)return this;pt.childNodes[1]&&'extra'===pt.childNodes[1].nodeName&&(pt=pt.childNodes[1],pt.childNodes[1]&&'technique'===pt.childNodes[1].nodeName&&(pt=pt.childNodes[1]));for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'offsetU':case'offsetV':case'repeatU':case'repeatV':this.texOpts[ut.nodeName]=parseFloat(ut.textContent);break;case'wrapU':case'wrapV':this.texOpts[ut.nodeName]=parseInt(ut.textContent);break;default:this.texOpts[ut.nodeName]=ut.textContent;}return this},de.prototype.parse=function(pt){for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'ambient':case'emission':case'diffuse':case'specular':case'transparent':this[ut.nodeName]=new se().parse(ut);break;case'shininess':case'reflectivity':case'index_of_refraction':case'transparency':var ht=Se(ut,'.//dae:float');0<ht.length&&(this[ut.nodeName]=parseFloat(ht[0].textContent));break;default:}return this.create(),this},de.prototype.create=function(){var pt={},ct=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var ut=this.transparent,ht=(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency;0<ht&&(ct=!0,pt.transparent=!0,pt.opacity=1-ht)}for(var mt in this)switch(mt){case'ambient':case'emission':case'diffuse':case'specular':var gt=this[mt];if(gt instanceof se)if(gt.isTexture()){var ft=gt.texture,yt=this.effect.sampler[ft];if(void 0!==yt&&void 0!==yt.source){var Nt=this.effect.surface[yt.source],xt=ze[Nt.init_from];if(xt){var bt=THREE.ImageUtils.loadTexture(tt+xt.init_from);bt.wrapS=gt.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,bt.wrapT=gt.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,bt.offset.x=gt.texOpts.offsetU,bt.offset.y=gt.texOpts.offsetV,bt.repeat.x=gt.texOpts.repeatU,bt.repeat.y=gt.texOpts.repeatV,pt.map=bt,'emission'===mt&&(pt.emissive=16777215)}}}else'diffuse'!==mt&&ct||('emission'===mt?pt.emissive=gt.color.getHex():pt[mt]=gt.color.getHex());break;case'shininess':pt[mt]=this[mt];break;case'reflectivity':pt[mt]=this[mt],0<pt[mt]&&(pt.envMap=ot.defaultEnvMap),pt.combine=THREE.MixOperation;break;case'index_of_refraction':pt.refractionRatio=this[mt],1!==this[mt]&&(pt.envMap=ot.defaultEnvMap);break;case'transparency':break;default:}switch(pt.shading=rt,pt.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,this.type){case'constant':void 0!=pt.emissive&&(pt.color=pt.emissive),this.material=new THREE.MeshBasicMaterial(pt);break;case'phong':case'blinn':void 0!=pt.diffuse&&(pt.color=pt.diffuse),this.material=new THREE.MeshPhongMaterial(pt);break;case'lambert':default:void 0!=pt.diffuse&&(pt.color=pt.diffuse),this.material=new THREE.MeshLambertMaterial(pt);}return this.material},le.prototype.parse=function(pt){for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'init_from':this.init_from=ut.textContent;break;case'format':this.format=ut.textContent;break;default:console.log('unhandled Surface prop: '+ut.nodeName);}return this},pe.prototype.parse=function(pt){for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'source':this.source=ut.textContent;break;case'minfilter':this.minfilter=ut.textContent;break;case'magfilter':this.magfilter=ut.textContent;break;case'mipfilter':this.mipfilter=ut.textContent;break;case'wrap_s':this.wrap_s=ut.textContent;break;case'wrap_t':this.wrap_t=ut.textContent;break;default:console.log('unhandled Sampler2D prop: '+ut.nodeName);}return this},ce.prototype.create=function(){if(null==this.shader)return null},ce.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name'),we(this,pt),this.shader=null;for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'profile_COMMON':this.parseTechnique(this.parseProfileCOMMON(ut));break;default:}return this},ce.prototype.parseNewparam=function(pt){for(var ht,ct=pt.getAttribute('sid'),ut=0;ut<pt.childNodes.length;ut++)if(ht=pt.childNodes[ut],1==ht.nodeType)switch(ht.nodeName){case'surface':this.surface[ct]=new le(this).parse(ht);break;case'sampler2D':this.sampler[ct]=new pe(this).parse(ht);break;case'extra':break;default:console.log(ht.nodeName);}},ce.prototype.parseProfileCOMMON=function(pt){for(var ct,ht,ut=0;ut<pt.childNodes.length;ut++)if(ht=pt.childNodes[ut],1==ht.nodeType)switch(ht.nodeName){case'profile_COMMON':this.parseProfileCOMMON(ht);break;case'technique':ct=ht;break;case'newparam':this.parseNewparam(ht);break;case'image':var mt=new B().parse(ht);ze[mt.id]=mt;break;case'extra':break;default:console.log(ht.nodeName);}return ct},ce.prototype.parseTechnique=function(pt){for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'constant':case'lambert':case'blinn':case'phong':this.shader=new de(ut.nodeName,this).parse(ut);break;default:}},ue.prototype.parse=function(pt){return this.url=pt.getAttribute('url').replace(/^#/,''),this},he.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name'),this.source={};for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'animation':var ht=new he().parse(ut);for(var mt in ht.source)this.source[mt]=ht.source[mt];for(var gt=0;gt<ht.channel.length;gt++)this.channel.push(ht.channel[gt]),this.sampler.push(ht.sampler[gt]);break;case'source':var mt=new re().parse(ut);this.source[mt.id]=mt;break;case'sampler':this.sampler.push(new ge(this).parse(ut));break;case'channel':this.channel.push(new me(this).parse(ut));break;default:}return this},me.prototype.parse=function(pt){this.source=pt.getAttribute('source').replace(/^#/,''),this.target=pt.getAttribute('target');var ct=this.target.split('/'),ut=ct.shift(),ht=ct.shift(),mt=0<=ht.indexOf('.'),gt=0<=ht.indexOf('(');if(mt)ct=ht.split('.'),this.sid=ct.shift(),this.member=ct.shift();else if(gt){var ft=ht.split('(');this.sid=ft.shift();for(var yt=0;yt<ft.length;yt++)ft[yt]=parseInt(ft[yt].replace(/\)/,''));this.arrIndices=ft}else this.sid=ht;return this.fullSid=ht,this.dotSyntax=mt,this.arrSyntax=gt,this},ge.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.inputs=[];for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'input':this.inputs.push(new ae().parse(ut));break;default:}return this},ge.prototype.create=function(){for(var pt=0;pt<this.inputs.length;pt++){var ct=this.inputs[pt],ut=this.animation.source[ct.source];switch(ct.semantic){case'INPUT':this.input=ut.read();break;case'OUTPUT':this.output=ut.read(),this.strideOut=ut.accessor.stride;break;case'INTERPOLATION':this.interpolation=ut.read();break;case'IN_TANGENT':break;case'OUT_TANGENT':break;default:console.log(ct.semantic);}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var pt=0;pt<this.input.length;pt++)this.startTime=Math.min(this.startTime,this.input[pt]),this.endTime=Math.max(this.endTime,this.input[pt]);this.duration=this.endTime-this.startTime}},ge.prototype.getData=function(pt,ct){var ut;if('matrix'===pt&&16===this.strideOut)ut=this.output[ct];else if(1<this.strideOut){ut=[],ct*=this.strideOut;for(var ht=0;ht<this.strideOut;++ht)ut[ht]=this.output[ct+ht];3===this.strideOut?'rotate'===pt||'translate'===pt?De(ut,-1):'scale'===pt?De(ut,1):void 0:4===this.strideOut&&'matrix'===pt&&De(ut,-1)}else ut=this.output[ct];return ut},fe.prototype.addTarget=function(pt,ct,ut,ht){this.targets.push({sid:pt,member:ut,transform:ct,data:ht})},fe.prototype.apply=function(pt){for(var ut,ct=0;ct<this.targets.length;++ct)ut=this.targets[ct],pt&&ut.sid!==pt||ut.transform.update(ut.data,ut.member)},fe.prototype.getTarget=function(pt){for(var ct=0;ct<this.targets.length;++ct)if(this.targets[ct].sid===pt)return this.targets[ct];return null},fe.prototype.hasTarget=function(pt){for(var ct=0;ct<this.targets.length;++ct)if(this.targets[ct].sid===pt)return!0;return!1},fe.prototype.interpolate=function(pt,ct){for(var ut=0;ut<this.targets.length;++ut){var gt,ht=this.targets[ut],mt=pt.getTarget(ht.sid);if('matrix'!==ht.transform.type&&mt){var ft=(ct-this.time)/(pt.time-this.time),yt=mt.data,Nt=ht.data;if((0>ft||1<ft)&&(console.log('Key.interpolate: Warning! Scale out of bounds:'+ft),ft=0>ft?0:1),Nt.length){gt=[];for(var xt=0;xt<Nt.length;++xt)gt[xt]=Nt[xt]+(yt[xt]-Nt[xt])*ft}else gt=Nt+(yt-Nt)*ft}else gt=ht.data;ht.transform.update(gt,ht.member)}},ye.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name');for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'optics':this.parseOptics(ut);break;default:}return this},ye.prototype.parseOptics=function(pt){for(var ct=0;ct<pt.childNodes.length;ct++)if('technique_common'==pt.childNodes[ct].nodeName)for(var ut=pt.childNodes[ct],ht=0;ht<ut.childNodes.length;ht++)if(this.technique=ut.childNodes[ht].nodeName,'perspective'==this.technique)for(var ft,mt=ut.childNodes[ht],gt=0;gt<mt.childNodes.length;gt++)switch(ft=mt.childNodes[gt],ft.nodeName){case'yfov':this.yfov=ft.textContent;break;case'xfov':this.xfov=ft.textContent;break;case'znear':this.znear=ft.textContent;break;case'zfar':this.zfar=ft.textContent;break;case'aspect_ratio':this.aspect_ratio=ft.textContent;}else if('orthographic'==this.technique)for(var ft,yt=ut.childNodes[ht],gt=0;gt<yt.childNodes.length;gt++)switch(ft=yt.childNodes[gt],ft.nodeName){case'xmag':this.xmag=ft.textContent;break;case'ymag':this.ymag=ft.textContent;break;case'znear':this.znear=ft.textContent;break;case'zfar':this.zfar=ft.textContent;break;case'aspect_ratio':this.aspect_ratio=ft.textContent;}return this},Ne.prototype.parse=function(pt){return this.url=pt.getAttribute('url').replace(/^#/,''),this},xe.prototype.parse=function(pt){this.id=pt.getAttribute('id'),this.name=pt.getAttribute('name');for(var ut,ct=0;ct<pt.childNodes.length;ct++)if(ut=pt.childNodes[ct],1==ut.nodeType)switch(ut.nodeName){case'technique_common':this.parseCommon(ut);break;case'technique':this.parseTechnique(ut);break;default:}return this},xe.prototype.parseCommon=function(pt){for(var ct=0;ct<pt.childNodes.length;ct++)switch(pt.childNodes[ct].nodeName){case'directional':case'point':case'spot':case'ambient':this.technique=pt.childNodes[ct].nodeName;for(var mt,ut=pt.childNodes[ct],ht=0;ht<ut.childNodes.length;ht++)switch(mt=ut.childNodes[ht],mt.nodeName){case'color':var gt=je(mt.textContent);this.color=new THREE.Color(0),this.color.setRGB(gt[0],gt[1],gt[2]),this.color.a=gt[3];break;case'falloff_angle':this.falloff_angle=parseFloat(mt.textContent);}}return this},xe.prototype.parseTechnique=function(pt){this.profile=pt.getAttribute('profile');for(var ut,ct=0;ct<pt.childNodes.length;ct++)switch(ut=pt.childNodes[ct],ut.nodeName){case'intensity':this.intensity=parseFloat(ut.textContent);}return this},(be.prototype.parse=function(pt){return this.url=pt.getAttribute('url').replace(/^#/,''),this},{load:function(pt,ct,ut){var ht=0;if(document.implementation&&document.implementation.createDocument){var mt=new XMLHttpRequest;mt.onreadystatechange=function(){if(4!=mt.readyState)3==mt.readyState&&ut&&(0==ht&&(ht=mt.getResponseHeader('Content-Length')),ut({total:ht,loaded:mt.responseText.length}));else if(0==mt.status||200==mt.status)if(mt.responseXML)Ue=ct,a(mt.responseXML,void 0,pt);else if(mt.responseText){Ue=ct;var gt=new DOMParser,ft=gt.parseFromString(mt.responseText,'application/xml');a(ft,void 0,pt)}else console.error('ColladaLoader: Empty or non-existing file ('+pt+')')},mt.open('GET',pt,!0),mt.send(null)}else alert('Don\'t know how to parse XML!')},parse:a,setPreferredShading:function(pt){rt=pt},applySkin:C,geometries:We,options:ot})};</script><script>(function(){var e,n,a,r,d,s,p,l,u,m,g,f,h,_,y,b,T,C,v,A,N,M,k,S,I,L,U,E,j,O,V,D,W,P,q,G,R,F,B,z,X,J,H,K,Q,Y,Z,$,ee,te,ne,ie,ae,re,oe,de,se,pe=Object.prototype.hasOwnProperty,le=function(ue,ge){function fe(){this.constructor=ue}for(var ce in ge)pe.call(ge,ce)&&(ue[ce]=ge[ce]);return fe.prototype=ge.prototype,ue.prototype=new fe,ue.__super__=ge.prototype,ue};Q=function(ue,ge){var fe,ce;for(ce="",fe=1;fe<=ue;fe+=1)ce+="    ";return ce+=ge,ce},K=function(ue,ge){return Q(ue,"|-"+ge)},H=function(ue,ge,fe){return null==ue?"":"string"===typeof ue?K(ge,fe+("'"+ue+"'\n")):"number"===typeof ue?K(ge,fe+(""+ue+"\n")):"boolean"===typeof ue?K(ge,fe+(""+ue+"\n")):null==ue.getInfo?K(ge,fe+"<unknown data type>\n"):ue.getInfo(ge,fe)},P=function(){function ue(ge){this.url=ge.trim().replace(/^#/,""),this.object=null}return ue.prototype.getInfo=function(ge,fe){return K(ge,fe+("<urlLink url='"+this.url+"'>\n"))},ue}(),_=function(){function ue(ge,fe){this.url=ge,this.scope=fe,this.object=null}return ue.prototype.getInfo=function(ge,fe){return K(ge,fe+("<fxLink url='"+this.url+"'>\n"))},ue}(),O=function(){function ue(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce;for(this.url=fe,this.object=null,this.id=null,this.sids=[],this.member=null,this.indices=null,this.dotSyntax=!1,this.arrSyntax=!1,be=fe.split("/"),this.id=be.shift(),"."===this.id&&(this.id=ge);1<be.length;)this.sids.push(be.shift());if(0<be.length)if(xe=be[0],_e=0<=xe.indexOf("."),he=0<=xe.indexOf("("),_e)be=xe.split("."),this.sids.push(be.shift()),this.member=be.shift(),this.dotSyntax=!0;else if(he){for(ce=xe.split("("),this.sids.push(ce.shift()),this.indices=[],(Te=0,Ce=ce.length);Te<Ce;Te++)ye=ce[Te],this.indices.push(parseInt(ye.replace(/\)/,""),10));this.arrSyntax=!0}else this.sids.push(xe)}return ue.prototype.getInfo=function(ge,fe){var ce,he;return he="<sidLink id='"+this.id+"'",0<this.sids.length&&(he+=", sids='[",he+=this.sids.join(","),he+="]'"),he+=">\n",ce=K(ge,fe+he)},ue}(),n=function(){function ue(){this.animTarget={},this.animTarget.channels=[],this.animTarget.activeChannels=[],this.animTarget.dataRows=null,this.animTarget.dataColumns=null}return ue.prototype.selectAnimation=function(ge){var fe,ce,he,_e;for(this.animTarget.activeChannels=[],_e=this.animTarget.channels,(ce=0,he=_e.length);ce<he;ce++)fe=_e[ce],ge(fe,ce)&&this.animTarget.activeChannels.push(fe)},ue.prototype.selectAnimationById=function(ge){this.selectAnimation(function(fe){return fe.animation.id===ge})},ue.prototype.selectAnimationByName=function(ge){this.selectAnimation(function(fe){return fe.animation.name===ge})},ue.prototype.selectAllAnimations=function(){this.selectAnimation(function(){return!0})},ue.prototype.applyAnimationKeyframe=function(){throw new Error("applyAnimationKeyframe() not implemented")},ue.prototype.initAnimationTarget=function(){throw new Error("initAnimationTarget() not implemented")},ue.prototype.resetAnimation=function(){throw new Error("resetAnimation() not implemented")},ue}(),a=function(){function ue(){this.unit=1,this.upAxis=null}return ue.prototype.getInfo=function(ge,fe){return K(ge,fe+"<asset>\n")},ue}(),R=function(){function ue(){this.id=null,this.children=[],this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe;if(he=K(ge,fe+("<visualScene id='"+this.id+"'>\n")),null!=this.children)for(xe=this.children,_e=0,ye=xe.length;_e<ye;_e++)ce=xe[_e],he+=H(ce,ge+1,"child ");return he},ue}(),F=function(){function ue(){this.id=null,this.sid=null,this.name=null,this.type=null,this.layer=null,this.parent=null,this.children=[],this.sidChildren=[],this.transformations=[],this.geometries=[],this.controllers=[],this.lights=[],this.cameras=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue;if(he=K(ge,fe+("<visualSceneNode id='"+this.id+"', sid='"+this.sid+"', name='"+this.name+"'>\n")),null!=this.geometries)for(ke=this.geometries,_e=0,Te=ke.length;_e<Te;_e++)ce=ke[_e],he+=H(ce,ge+1,"geometry ");if(null!=this.controllers)for(Se=this.controllers,ye=0,Ce=Se.length;ye<Ce;ye++)ce=Se[ye],he+=H(ce,ge+1,"controller ");if(null!=this.lights)for(Ie=this.lights,xe=0,ve=Ie.length;xe<ve;xe++)ce=Ie[xe],he+=H(ce,ge+1,"light ");if(null!=this.cameras)for(Le=this.cameras,be=0,Ae=Le.length;be<Ae;be++)ce=Le[be],he+=H(ce,ge+1,"camera ");if(null!=this.children)for(Ue=this.children,Me=0,Ne=Ue.length;Me<Ne;Me++)ce=Ue[Me],he+=H(ce,ge+1,"child ");return he},ue.prototype.getTransformMatrix=function(ge){var fe,ce,he,_e,ye;for(fe=new THREE.Matrix4,ge.identity(),ye=this.transformations,(he=0,_e=ye.length);he<_e;he++)ce=ye[he],ce.getTransformMatrix(fe),ge.multiplyMatrices(ge,fe)},ue}(),E=function(ue){function ge(){ge.__super__.constructor.call(this),this.sid=null,this.type=null,this.data=null,this.originalData=null,this.node=null}return le(ge,ue),ge.prototype.getTransformMatrix=function(fe){var ce;switch(this.type){case"matrix":ee(this.data,0,fe);break;case"rotate":ce=new THREE.Vector3(this.data[0],this.data[1],this.data[2]),fe.makeRotationAxis(ce,this.data[3]*B);break;case"translate":fe.makeTranslation(this.data[0],this.data[1],this.data[2]);break;case"scale":fe.makeScale(this.data[0],this.data[1],this.data[2]);break;default:throw new Error("transform type '"+this.type+"' not implemented");}},ge.prototype.applyAnimationKeyframe=function(fe){var ce,he,_e,ye,xe,be,Te;for(be=this.animTarget.activeChannels,ye=0,xe=be.length;ye<xe;ye++)for(ce=be[ye],_e=ce.outputData,(he=0,Te=ce.count-1);he<=Te;he+=1)this.data[ce.offset+he]=_e[fe*ce.stride+he]},ge.prototype.initAnimationTarget=function(){var fe,ce,he,_e;for(this.originalData=new Float32Array(this.data.length),_e=this.data,(fe=0,he=_e.length);fe<he;fe++)ce=_e[fe],this.originalData[fe]=this.data[fe];switch(this.type){case"matrix":this.animTarget.dataColumns=4,this.animTarget.dataRows=4;break;case"rotate":this.animTarget.dataColumns=4,this.animTarget.dataRows=1;break;case"translate":case"scale":this.animTarget.dataColumns=3,this.animTarget.dataRows=1;break;default:throw new Error("transform type '"+this.type+"' not implemented");}},ge.prototype.resetAnimation=function(){var fe,ce,he,_e;for(_e=this.originalData,fe=0,he=_e.length;fe<he;fe++)ce=_e[fe],this.data[fe]=this.originalData[fe]},ge}(n),A=function(){function ue(){this.geometry=null,this.materials=[],this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe;for(he=K(ge,fe+"<instanceGeometry>\n"),he+=H(this.geometry,ge+1,"geometry "),xe=this.materials,(_e=0,ye=xe.length);_e<ye;_e++)ce=xe[_e],he+=H(ce,ge+1,"material ");return he},ue}(),v=function(){function ue(){this.controller=null,this.skeletons=[],this.materials=[],this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(he=K(ge,fe+"<instanceController>\n"),he+=H(this.controller,ge+1,"controller "),Ce=this.skeletons,(ye=0,be=Ce.length);ye<be;ye++)_e=Ce[ye],he+=H(_e,ge+1,"skeleton ");for(ve=this.materials,xe=0,Te=ve.length;xe<Te;xe++)ce=ve[xe],he+=H(ce,ge+1,"material ");return he},ue}(),M=function(){function ue(){this.sid=null,this.symbol=null,this.material=null,this.name=null,this.vertexInputs={},this.params={}}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<instanceMaterial sid='"+this.sid+"'>\n")),ce+=H(this.material,ge+1,"material "),ce},ue}(),N=function(){function ue(){this.sid=null,this.light=null,this.name=null,this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+"<instanceLight>\n"),ce+=H(this.light,ge+1,"light "),ce},ue}(),C=function(){function ue(){this.sid=null,this.camera=null,this.name=null,this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+"<instanceCamera>\n"),ce+=H(this.light,ge+1,"camera "),ce},ue}(),b=function(){function ue(){this.id=null,this.initFrom=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<image id='"+this.id+"'>\n")),ce+=H(this.initFrom,ge+1,"initFrom "),ce},ue}(),u=function(){function ue(){this.id=null,this.sids={},this.technique=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<effect id='"+this.id+"'>\n")),ce+=H(this.technique,ge+1,"technique "),ce},ue}(),f=function(){function ue(){this.sid=null,this.sids={},this.fxScope=null,this.shading=null,this.emission=null,this.ambient=null,this.diffuse=null,this.specular=null,this.shininess=null,this.reflective=null,this.transparent=null,this.bump=null,this.reflectivity=null,this.transparency=null,this.index_of_refraction=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<technique sid='"+this.sid+"'>\n")),ce},ue}(),g=function(){function ue(){this.sid=null,this.fxScope=null,this.type=null,this.initFrom=null,this.format=null,this.size=null,this.viewportRatio=null,this.mipLevels=null,this.mipmapGenerate=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<surface sid='"+this.sid+"'>\n")),ce+=H(this.initFrom,ge+1,"initFrom "),ce},ue}(),m=function(){function ue(){this.sid=null,this.fxScope=null,this.surface=null,this.image=null,this.wrapS=null,this.wrapT=null,this.minfilter=null,this.magfilter=null,this.borderColor=null,this.mipmapMaxLevel=null,this.mipmapBias=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<sampler sid='"+this.sid+"'>\n")),ce+=H(this.image,ge+1,"image "),ce+=H(this.surface,ge+1,"surface "),ce},ue}(),p=function(){return function(){this.color=null,this.textureSampler=null,this.texcoord=null,this.opaque=null,this.bumptype=null}}(),U=function(){function ue(){this.id=null,this.name=null,this.effect=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<material id='"+this.id+"' name='"+this.name+"'>\n")),ce+=H(this.effect,ge+1,"effect "),ce},ue}(),y=function(){function ue(){this.id=null,this.name=null,this.sources=[],this.vertices=null,this.triangles=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(ce=K(ge,fe+("<geometry id='"+this.id+"' name='"+this.name+"'>\n")),Ce=this.sources,(ye=0,be=Ce.length);ye<be;ye++)he=Ce[ye],ce+=H(he,ge+1,"source ");for(ce+=H(this.vertices,ge+1,"vertices "),ve=this.triangles,(xe=0,Te=ve.length);xe<Te;xe++)_e=ve[xe],ce+=H(_e,ge+1,"triangles ");return ce},ue}(),D=function(){function ue(){this.id=null,this.name=null,this.sourceId=null,this.count=null,this.stride=null,this.data=null,this.params={}}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<source id='"+this.id+"' name='"+this.name+"'>\n")),ce+=H(this.sourceId,ge+1,"sourceId "),ce},ue}(),G=function(){function ue(){this.id=null,this.name=null,this.inputs=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe;for(he=K(ge,fe+("<vertices id='"+this.id+"' name='"+this.name+"'>\n")),xe=this.inputs,(_e=0,ye=xe.length);_e<ye;_e++)ce=xe[_e],he+=H(ce,ge+1,"input ");return he},ue}(),W=function(){function ue(){this.name=null,this.count=null,this.material=null,this.inputs=[],this.indices=null}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe;for(he=K(ge,fe+("<triangles name='"+this.name+"'>\n")),he+=H(this.material,ge+1,"material "),xe=this.inputs,(_e=0,ye=xe.length);_e<ye;_e++)ce=xe[_e],he+=H(ce,ge+1,"input ");return he},ue}(),T=function(){function ue(){this.semantic=null,this.source=null,this.offset=null,this.set=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<input semantic="+this.semantic+">\n")),ce+=H(this.source,ge+1,"source "),ce},ue}(),l=function(){function ue(){this.id=null,this.name=null,this.skin=null,this.morph=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+("<controller id='"+this.id+"', name='"+this.name+"'>\n")),ce+=H(this.skin,ge+1,"skin "),ce+=H(this.morph,ge+1,"morph "),ce},ue}(),V=function(){function ue(){this.source=null,this.bindShapeMatrix=null,this.sources=[],this.joints=null,this.vertexWeights=null}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe;for(ce=K(ge,fe+("<skin source='"+this.source+"'>\n")),ce+=H(this.bindShapeMatrix,ge+1,"bind_shape_matrix "),xe=this.sources,(_e=0,ye=xe.length);_e<ye;_e++)he=xe[_e],ce+=H(he,ge+1,"source ");return ce+=H(this.joints,ge+1,"joints "),ce+=H(this.vertexWeights,ge+1,"vertex_weights "),ce},ue}(),k=function(){function ue(){this.joints=null,this.invBindMatrices=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+"<joints>\n"),ce+=H(this.joints,ge+1,"joints "),ce+=H(this.invBindMatrices,ge+1,"invBindMatrices "),ce},ue}(),q=function(){function ue(){this.inputs=[],this.vcount=null,this.v=null,this.joints=null,this.weights=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+"<vertex_weights>\n"),ce+=H(this.joints,ge+1,"joints "),ce+=H(this.weights,ge+1,"weights "),ce},ue}(),e=function(){function ue(){this.id=null,this.name=null,this.parent=null,this.rootId=null,this.rootName=null,this.animations=[],this.sources=[],this.samplers=[],this.channels=[]}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue;for(_e=K(ge,fe+("<animation id='"+this.id+"', name='"+name+"'>\n")),Se=this.animations,(be=0,Ae=Se.length);be<Ae;be++)ce=Se[be],_e+=H(ce,ge+1,"animation ");for(Ie=this.sources,Te=0,Ne=Ie.length;Te<Ne;Te++)xe=Ie[Te],_e+=H(xe,ge+1,"source ");for(Le=this.samplers,Ce=0,Me=Le.length;Ce<Me;Ce++)ye=Le[Ce],_e+=H(ye,ge+1,"sampler ");for(Ue=this.channels,ve=0,ke=Ue.length;ve<ke;ve++)he=Ue[ve],_e+=H(he,ge+1,"channel ");return _e},ue}(),j=function(){function ue(){this.id=null,this.input=null,this.outputs=[],this.inTangents=[],this.outTangents=[],this.interpolation=null}return ue.prototype.getInfo=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me;for(he=K(ge,fe+("<sampler id='"+this.id+"'>\n")),he+=H(this.input,ge+1,"input "),Ae=this.outputs,(ye=0,Te=Ae.length);ye<Te;ye++)ce=Ae[ye],he+=H(ce,ge+1,"output ");for(Ne=this.inTangents,xe=0,Ce=Ne.length;xe<Ce;xe++)_e=Ne[xe],he+=H(_e,ge+1,"inTangent ");for(Me=this.outTangents,be=0,ve=Me.length;be<ve;be++)_e=Me[be],he+=H(_e,ge+1,"outTangent ");return he+=H(this.interpolation,ge+1,"interpolation "),he},ue}(),s=function(){function ue(){this.animation=null,this.source=null,this.target=null}return ue.prototype.getInfo=function(ge,fe){var ce;return ce=K(ge,fe+"<channel>\n"),ce+=H(this.source,ge+1,"source "),ce+=H(this.target,ge+1,"target "),ce},ue}(),S=function(){function ue(){this.id=null,this.name=null,this.type=null,this.color=null,this.params={},this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){return K(ge,fe+"<light>\n")},ue}(),I=function(){return function(){this.sid=null,this.name=null,this.value=null}}(),r=function(){function ue(){this.id=null,this.name=null,this.type=null,this.params={},this.sidChildren=[]}return ue.prototype.getInfo=function(ge,fe){return K(ge,fe+"<camera>\n")},ue}(),d=function(){return function(){this.sid=null,this.name=null,this.value=null}}(),z=function(){return function(){this.inputData=null,this.outputData=null,this.offset=null,this.stride=null,this.count=null,this.animation=null}}(),J=function(){function ue(){this.index=null,this.node=null,this.sid=null,this.parent=null,this.isAnimated=null,this.matrix=new THREE.Matrix4,this.worldMatrix=new THREE.Matrix4,this.invBindMatrix=new THREE.Matrix4,this.skinMatrix=new THREE.Matrix4,this.worldMatrixDirty=!0}return ue.prototype.getWorldMatrix=function(){return this.worldMatrixDirty&&(null==this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiplyMatrices(this.parent.getWorldMatrix(),this.matrix),this.worldMatrixDirty=!1),this.worldMatrix},ue.prototype.applyAnimation=function(ge){var fe,ce,he,_e;if(this.isAnimated){for(_e=this.node.transformations,ce=0,he=_e.length;ce<he;ce++)fe=_e[ce],fe.applyAnimationKeyframe(ge);this.node.getTransformMatrix(this.matrix)}return this.worldMatrixDirty=!0,null},ue.prototype.updateSkinMatrix=function(ge){var fe;return fe=this.getWorldMatrix(),this.skinMatrix.multiplyMatrices(fe,this.invBindMatrix),this.skinMatrix.multiplyMatrices(this.skinMatrix,ge),null},ue}(),X=function(){return function(){this.materials=[],this.indices={},this.needTangents=!1}}(),h=function(){function ue(ge){var fe,ce,he;for(fe in this._url=null,this._baseUrl=null,this._loader=ge,this._options={},he=ge.options,he)ce=he[fe],this._options[fe]=ce;this._log=ge.log,this._readyCallback=null,this._progressCallback=null,this.dae={},this.dae.ids={},this.dae.animationTargets=[],this.dae.libEffects=[],this.dae.libMaterials=[],this.dae.libGeometries=[],this.dae.libControllers=[],this.dae.libLights=[],this.dae.libCameras=[],this.dae.libImages=[],this.dae.libVisualScenes=[],this.dae.libAnimations=[],this.dae.asset=null,this.dae.scene=null,this.threejs={},this.threejs.scene=null,this.threejs.images=[],this.threejs.geometries=[],this.threejs.materials=[],this.scene=null}return ue.prototype.setUrl=function(ge){var fe;null==ge?(this._url="",this._baseUrl=""):(this._url=ge,fe=ge.split("/"),fe.pop(),this._baseUrl=(1>fe.length?".":fe.join("/"))+"/")},ue.prototype.getLibInfo=function(ge,fe,ce){var he,_e,ye,xe,be;if(null==ge)return"";for(ye=K(fe,ce+(" <"+ce+">\n")),_e=0,(xe=0,be=ge.length);xe<be;xe++)he=ge[xe],ye+=H(he,fe+1,""),_e+=1;return 0<_e?ye:""},ue.prototype.getInfo=function(ge){var ce;return ce="<collada url='"+this.url+"'>\n",ce+=H(this.dae.asset,ge+1,"asset "),ce+=H(this.dae.scene,ge+1,"scene "),ce+=this.getLibInfo(this.dae.libEffects,ge+1,"library_effects"),ce+=this.getLibInfo(this.dae.libMaterials,ge+1,"library_materials"),ce+=this.getLibInfo(this.dae.libGeometries,ge+1,"library_geometries"),ce+=this.getLibInfo(this.dae.libControllers,ge+1,"library_controllers"),ce+=this.getLibInfo(this.dae.libLights,ge+1,"library_lights"),ce+=this.getLibInfo(this.dae.libCameras,ge+1,"library_cameras"),ce+=this.getLibInfo(this.dae.libImages,ge+1,"library_images"),ce+=this.getLibInfo(this.dae.libVisualScenes,ge+1,"library_visual_scenes"),ce+=this.getLibInfo(this.dae.libAnimations,ge+1,"library_animations"),ce},ue.prototype._reportUnexpectedChild=function(ge,fe){this._log("Skipped unknown <"+ge.nodeName+"> child <"+fe.nodeName+">.",L.messageWarning)},ue.prototype._reportUnhandledExtra=function(ge,fe){this._log("Skipped element <"+ge.nodeName+">/<"+fe.nodeName+">. Element is legal, but not handled by this loader.",L.messageWarning)},ue.prototype._getAttributeAsFloat=function(ge,fe,ce){var he;return he=ge.getAttribute(fe),null==he?ce:parseFloat(he)},ue.prototype._getAttributeAsInt=function(ge,fe,ce){var he;return he=ge.getAttribute(fe),null==he?ce:parseInt(he,10)},ue.prototype._addUrlTarget=function(ge,fe,ce){var he;return null!=fe&&fe.push(ge),he=ge.id,null==he?void(ce&&this._log("Object has no ID.",L.messageError)):null==this.dae.ids[he]?void(this.dae.ids[he]=ge):void this._log("There is already an object with ID "+he+".",L.messageError)},ue.prototype._resolveUrlLink=function(ge){return ge.object=this.dae.ids[ge.url],null!=ge.object||(this._log("Could not resolve URL #"+ge.url,L.messageError),!1)},ue.prototype._addFxTarget=function(ge,fe){var ce;return ce=ge.sid,null==ce?void this._log("Cannot add a FX target: object has no SID.",L.messageError):null==fe.sids[ce]?void(ge.fxScope=fe,fe.sids[ce]=ge):void this._log("There is already an FX target with SID "+ce+".",L.messageError)},ue.prototype._resolveFxLink=function(ge){var fe;for(fe=ge.scope;null==ge.object&&null!=fe;)ge.object=fe.sids[ge.url],fe=fe.fxScope;return null!=ge.object||(this._log("Could not resolve FX parameter #"+ge.url,L.messageError),!1)},ue.prototype._addSidTarget=function(ge,fe){null!=fe.sidChildren||(fe.sidChildren=[]),fe.sidChildren.push(ge)},ue.prototype._findSidTarget=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me;for(Te=fe.split("/"),_e=ge,ce=null,(Ce=0,Ae=Te.length);Ce<Ae;Ce++){for(xe=Te[Ce],ye=[_e];0!==ye.length;){if(he=ye.shift(),he.sid===xe){ce=he;break}if(null!=he.sidChildren)for(Me=he.sidChildren,ve=0,Ne=Me.length;ve<Ne;ve++)be=Me[ve],ye.push(be)}if(null==ce)return null;_e=ce}return ce},ue.prototype._resolveSidLink=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me;if(fe=this.dae.ids[ge.id],null==fe)return this._log("Could not resolve SID #"+ge.url+", missing base ID "+ge.id,L.messageError),!1;for(_e=fe,ce=null,Ne=ge.sids,(Te=0,ve=Ne.length);Te<ve;Te++){for(xe=Ne[Te],ye=[_e];0!==ye.length;){if(he=ye.shift(),he.sid===xe){ce=he;break}if(null!=he.sidChildren)for(Me=he.sidChildren,Ce=0,Ae=Me.length;Ce<Ae;Ce++)be=Me[Ce],ye.push(be)}if(null==ce)return this._log("Could not resolve SID #"+ge.url+", missing SID part "+xe,L.messageError),!1;_e=ce}return ge.object=ce,!0},ue.prototype._getLinkTarget=function(ge,fe){return null==ge?null:(null!=ge.object||(ge instanceof P?this._resolveUrlLink(ge):ge instanceof O?this._resolveSidLink(ge):ge instanceof _?this._resolveFxLink(ge):this._log("Trying to resolve an object that is not a link",L.messageError)),null==fe||null==ge.object||ge.object instanceof fe||this._log("Link "+ge.url+" does not link to a "+fe.name,L.messageError),ge.object)},ue.prototype._parseXml=function(ge){var fe,ce;fe=ge.childNodes[0],"COLLADA"===(null==fe||null==(ce=fe.nodeName)?void 0:ce.toUpperCase())?this._parseCollada(fe):this._log("Can not parse document, top level element is not <COLLADA>.",L.messageError)},ue.prototype._parseCollada=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"asset":this._parseAsset(fe);break;case"scene":this._parseScene(fe);break;case"library_effects":this._parseLibEffect(fe);break;case"library_materials":this._parseLibMaterial(fe);break;case"library_geometries":this._parseLibGeometry(fe);break;case"library_images":this._parseLibImage(fe);break;case"library_visual_scenes":this._parseLibVisualScene(fe);break;case"library_controllers":this._parseLibController(fe);break;case"library_animations":this._parseLibAnimation(fe);break;case"library_lights":this._parseLibLight(fe);break;case"library_cameras":this._parseLibCamera(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseAsset=function(ge){var fe,ce,he,_e;for(this.dae.asset||(this.dae.asset=new a),_e=ge.childNodes,(ce=0,he=_e.length);ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"unit":this.dae.asset.unit=this._getAttributeAsFloat(fe,"meter");break;case"up_axis":this.dae.asset.upAxis=fe.textContent.toUpperCase().charAt(0);break;case"contributor":case"created":case"modified":case"revision":case"title":case"subject":case"keywords":break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseScene=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"instance_visual_scene":this.dae.scene=new P(fe.getAttribute("url"));break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseLibVisualScene=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"visual_scene":this._parseVisualScene(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseVisualScene=function(ge){var fe,ce,he,_e,ye;for(ce=new R,ce.id=ge.getAttribute("id"),this._addUrlTarget(ce,this.dae.libVisualScenes,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"node":this._parseSceneNode(ce,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseSceneNode=function(ge,fe){var ce,he,_e,ye,xe;for(he=new F,he.id=fe.getAttribute("id"),he.sid=fe.getAttribute("sid"),he.name=fe.getAttribute("name"),he.type=fe.getAttribute("type"),he.layer=fe.getAttribute("layer"),he.parent=ge,ge.children.push(he),this._addUrlTarget(he,null,!1),this._addSidTarget(he,ge),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"instance_geometry":this._parseInstanceGeometry(he,ce);break;case"instance_controller":this._parseInstanceController(he,ce);break;case"instance_light":this._parseInstanceLight(he,ce);break;case"instance_camera":this._parseInstanceCamera(he,ce);break;case"matrix":case"rotate":case"translate":case"scale":this._parseTransformElement(he,ce);break;case"node":this._parseSceneNode(he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseInstanceGeometry=function(ge,fe){var ce,he,_e,ye,xe;for(he=new A,he.geometry=new P(fe.getAttribute("url")),he.sid=fe.getAttribute("sid"),ge.geometries.push(he),this._addSidTarget(he,ge),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"bind_material":this._parseBindMaterial(he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseInstanceController=function(ge,fe){var ce,he,_e,ye,xe;for(he=new v,he.controller=new P(fe.getAttribute("url")),he.sid=fe.getAttribute("sid"),he.name=fe.getAttribute("name"),ge.controllers.push(he),this._addSidTarget(he,ge),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"skeleton":he.skeletons.push(new P(ce.textContent));break;case"bind_material":this._parseBindMaterial(he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseBindMaterial=function(ge,fe){var ce,he,_e,ye;for(ye=fe.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"technique_common":this._parseBindMaterialTechnique(ge,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseBindMaterialTechnique=function(ge,fe){var ce,he,_e,ye;for(ye=fe.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"instance_material":this._parseInstanceMaterial(ge,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseInstanceMaterial=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(ye=new M,ye.symbol=fe.getAttribute("symbol"),ye.material=new P(fe.getAttribute("target")),ge.materials.push(ye),this._addSidTarget(ye,ge),ve=fe.childNodes,(Te=0,Ce=ve.length);Te<Ce;Te++)if(ce=ve[Te],1===ce.nodeType)switch(ce.nodeName){case"bind_vertex_input":xe=ce.getAttribute("semantic"),he=ce.getAttribute("input_semantic"),_e=ce.getAttribute("input_set"),null!=_e&&(_e=parseInt(_e,10)),ye.vertexInputs[xe]={inputSemantic:he,inputSet:_e};break;case"bind":xe=ce.getAttribute("semantic"),be=new O(null,ce.getAttribute("target")),ye.params[xe]={target:be};break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseTransformElement=function(ge,fe){var ce,he;switch(he=new E,he.sid=fe.getAttribute("sid"),he.type=fe.nodeName,he.node=ge,ge.transformations.push(he),this._addSidTarget(he,ge),this.dae.animationTargets.push(he),he.data=oe(fe.textContent),ce=0,he.type){case"matrix":ce=16;break;case"rotate":ce=4;break;case"translate":ce=3;break;case"scale":ce=3;break;case"skew":ce=7;break;case"lookat":ce=9;break;default:this._log("Unknown transformation type "+he.type+".",L.messageError);}he.data.length!==ce&&this._log("Wrong number of elements for transformation type '"+he.type+"': expected "+ce+", found "+he.data.length,L.messageError)},ue.prototype._parseInstanceLight=function(ge,fe){var ce,he,_e,ye,xe;for(he=new N,he.light=new P(fe.getAttribute("url")),he.sid=fe.getAttribute("sid"),he.name=fe.getAttribute("name"),ge.lights.push(he),this._addSidTarget(he,ge),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"extra":this._reportUnhandledExtra(fe,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseInstanceCamera=function(ge,fe){var ce,he,_e,ye,xe;for(ce=new C,ce.camera=new P(fe.getAttribute("url")),ce.sid=fe.getAttribute("sid"),ce.name=fe.getAttribute("name"),ge.cameras.push(ce),this._addSidTarget(ce,ge),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"extra":this._reportUnhandledExtra(fe,he);break;default:this._reportUnexpectedChild(fe,he);}},ue.prototype._parseLibEffect=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"effect":this._parseEffect(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseEffect=function(ge){var fe,ce,he,_e,ye;for(ce=new u,ce.id=ge.getAttribute("id"),this._addUrlTarget(ce,this.dae.libEffects,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"profile_COMMON":this._parseEffectProfileCommon(ce,fe);break;case"profile":this._log("Skipped non-common effect profile for effect "+ce.id+".",L.messageWarning);break;case"extra":break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseEffectProfileCommon=function(ge,fe){var ce,he,_e,ye;for(ye=fe.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"newparam":this._parseEffectNewparam(ge,ce);break;case"technique":this._parseEffectTechnique(ge,ce);break;case"extra":this._parseTechniqueExtra(ge.technique,"COMMON",ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseEffectNewparam=function(ge,fe){var ce,he,_e,ye,xe;for(he=fe.getAttribute("sid"),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"surface":this._parseEffectSurface(ge,he,ce);break;case"sampler2D":this._parseEffectSampler(ge,he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseEffectSurface=function(ge,fe,ce){var he,_e,ye,xe,be;for(_e=new g,_e.type=ce.getAttribute("type"),_e.sid=fe,this._addFxTarget(_e,ge),be=ce.childNodes,(ye=0,xe=be.length);ye<xe;ye++)if(he=be[ye],1===he.nodeType)switch(he.nodeName){case"init_from":_e.initFrom=new P(he.textContent);break;case"format":_e.format=he.textContent;break;case"size":_e.size=oe(he.textContent);break;case"viewport_ratio":_e.viewportRatio=oe(he.textContent);break;case"mip_levels":_e.mipLevels=parseInt(he.textContent,10);break;case"mipmap_generate":_e.mipmapGenerate=he.textContent;break;default:this._reportUnexpectedChild(ce,he);}},ue.prototype._parseEffectSampler=function(ge,fe,ce){var he,_e,ye,xe,be;for(_e=new m,_e.sid=fe,this._addFxTarget(_e,ge),be=ce.childNodes,(ye=0,xe=be.length);ye<xe;ye++)if(he=be[ye],1===he.nodeType)switch(he.nodeName){case"source":_e.surface=new _(he.textContent,ge);break;case"instance_image":_e.image=new P(he.getAttribute("url"));break;case"wrap_s":_e.wrapS=he.textContent;break;case"wrap_t":_e.wrapT=he.textContent;break;case"minfilter":_e.minfilter=he.textContent;break;case"magfilter":_e.magfilter=he.textContent;break;case"border_color":_e.borderColor=oe(he.textContent);break;case"mipmap_maxlevel":_e.mipmapMaxLevel=parseInt(he.textContent,10);break;case"mipmap_bias":_e.mipmapBias=parseFloat(he.textContent);break;default:this._reportUnexpectedChild(ce,he);}},ue.prototype._parseEffectTechnique=function(ge,fe){var ce,he,_e,ye,xe;for(he=new f,he.sid=fe.getAttribute("sid"),this._addFxTarget(he,ge),ge.technique=he,xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"blinn":case"phong":case"lambert":case"constant":he.shading=ce.nodeName,this._parseTechniqueParam(he,"COMMON",ce);break;case"extra":this._parseTechniqueExtra(he,"COMMON",ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseTechniqueParam=function(ge,fe,ce){var he,_e,ye,xe;for(xe=ce.childNodes,_e=0,ye=xe.length;_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"newparam":this._parseEffectNewparam(ge,he);break;case"emission":case"ambient":case"diffuse":case"specular":case"reflective":this._parseEffectColorOrTexture(ge,he);break;case"shininess":case"reflectivity":case"transparency":case"index_of_refraction":ge[he.nodeName]=parseFloat(he.childNodes[1].textContent);break;case"transparent":this._parseEffectColorOrTexture(ge,he),ge.transparent.opaque=he.getAttribute("opaque");break;case"bump":this._parseEffectColorOrTexture(ge,he),ge.bump.bumptype=he.getAttribute("bumptype");break;case"double_sided":ge.doubleSided=1===parseInt(he.textContent,10);break;default:"COMMON"===fe&&this._reportUnexpectedChild(ce,he);}},ue.prototype._parseTechniqueExtra=function(ge,fe,ce){var he,_e,ye,xe;for(xe=ce.childNodes,_e=0,ye=xe.length;_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"technique":fe=he.getAttribute("profile"),this._parseTechniqueParam(ge,fe,he);break;default:this._reportUnexpectedChild(ce,he);}},ue.prototype._parseEffectColorOrTexture=function(ge,fe){var ce,he,_e,ye,xe,be,Te;for(_e=fe.nodeName,he=ge[_e],null!=he||(he=new p,ge[_e]=he),Te=fe.childNodes,(xe=0,be=Te.length);xe<be;xe++)if(ce=Te[xe],1===ce.nodeType)switch(ce.nodeName){case"color":he.color=re(ce.textContent);break;case"texture":ye=ce.getAttribute("texture"),he.textureSampler=new _(ye,ge),he.texcoord=ce.getAttribute("texcoord");break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseLibMaterial=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"material":this._parseMaterial(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseMaterial=function(ge){var fe,ce,he,_e,ye;for(ce=new U,ce.id=ge.getAttribute("id"),ce.name=ge.getAttribute("name"),this._addUrlTarget(ce,this.dae.libMaterials,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"instance_effect":ce.effect=new P(fe.getAttribute("url"));break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseLibGeometry=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"geometry":this._parseGeometry(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseGeometry=function(ge){var fe,ce,he,_e,ye;for(ce=new y,ce.id=ge.getAttribute("id"),ce.name=ge.getAttribute("name"),this._addUrlTarget(ce,this.dae.libGeometries,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"mesh":this._parseMesh(ce,fe);break;case"convex_mesh":case"spline":this._log("Geometry type "+fe.nodeName+" not supported.",L.messageError);break;case"extra":this._parseGeometryExtra(ce,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseMesh=function(ge,fe){var ce,he,_e,ye;for(ye=fe.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"source":this._parseSource(ge,ce);break;case"vertices":this._parseVertices(ge,ce);break;case"triangles":case"polylist":case"polygons":this._parseTriangles(ge,ce);break;case"lines":case"linestrips":case"trifans":case"tristrips":this._log("Geometry primitive type "+ce.nodeName+" not supported.",L.messageError);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseGeometryExtra=function(ge,fe){var ce,he,_e,ye,xe;for(xe=fe.childNodes,_e=0,ye=xe.length;_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"technique":he=ce.getAttribute("profile"),this._parseGeometryExtraTechnique(ge,he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseGeometryExtraTechnique=function(ge,fe,ce){var he,_e,ye,xe;for(xe=ce.childNodes,_e=0,ye=xe.length;_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"double_sided":ge.doubleSided="1"===ce.textContent;}},ue.prototype._parseSource=function(ge,fe){var ce,he,_e,ye,xe;for(he=new D,he.id=fe.getAttribute("id"),he.name=fe.getAttribute("name"),this._addUrlTarget(he,ge.sources,!0),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"bool_array":he.sourceId=ce.getAttribute("id"),he.data=ae(ce.textContent);break;case"float_array":he.sourceId=ce.getAttribute("id"),he.data=oe(ce.textContent);break;case"int_array":he.sourceId=ce.getAttribute("id"),he.data=de(ce.textContent);break;case"IDREF_array":case"Name_array":he.sourceId=ce.getAttribute("id"),he.data=se(ce.textContent);break;case"technique_common":this._parseSourceTechniqueCommon(he,ce);break;case"technique":break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseVertices=function(ge,fe){var ce,he,_e,ye,xe;for(he=new G,he.id=fe.getAttribute("id"),he.name=fe.getAttribute("name"),this._addUrlTarget(he,null,!0),ge.vertices=he,xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"input":he.inputs.push(this._parseInput(ce));break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseTriangles=function(ge,fe){var ce,he,_e,ye,xe;for(he=new W,he.name=fe.getAttribute("name"),he.material=fe.getAttribute("material"),he.count=this._getAttributeAsInt(fe,"count"),he.type=fe.nodeName,ge.triangles.push(he),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"input":he.inputs.push(this._parseInput(ce));break;case"vcount":he.vcount=de(ce.textContent);break;case"p":he.indices=de(ce.textContent);break;default:this._reportUnexpectedChild(fe,ce);}return he},ue.prototype._parseSourceTechniqueCommon=function(ge,fe){var ce,he,_e,ye;for(ye=fe.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"accessor":this._parseAccessor(ge,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseAccessor=function(ge,fe){var ce,he,_e,ye,xe,be,Te;for(_e=fe.getAttribute("source"),ge.count=fe.getAttribute("count"),ge.stride=this._getAttributeAsInt(fe,"stride",1),_e!=="#"+ge.sourceId&&this._log("Non-local sources not supported, source data will be empty",L.messageError),Te=fe.childNodes,(xe=0,be=Te.length);xe<be;xe++)if(ce=Te[xe],1===ce.nodeType)switch(ce.nodeName){case"param":he=ce.getAttribute("name"),ye=ce.getAttribute("type"),ge.params[he]=ye;break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseInput=function(ge){var fe;return fe=new T,fe.semantic=ge.getAttribute("semantic"),fe.source=new P(ge.getAttribute("source")),fe.offset=this._getAttributeAsInt(ge,"offset"),fe.set=this._getAttributeAsInt(ge,"set"),fe},ue.prototype._parseLibImage=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"image":this._parseImage(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseImage=function(ge){var fe,ce,he,_e,ye;for(ce=new b,ce.id=ge.getAttribute("id"),this._addUrlTarget(ce,this.dae.libImages,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"init_from":ce.initFrom=fe.textContent;break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseLibController=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"controller":this._parseController(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseController=function(ge){var fe,ce,he,_e,ye;for(ce=new l,ce.id=ge.getAttribute("id"),ce.name=ge.getAttribute("name"),this._addUrlTarget(ce,this.dae.libControllers,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"skin":this._parseSkin(ce,fe);break;case"morph":this._parseMorph(ce,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseMorph=function(){this._log("Morph controllers not implemented",L.messageError)},ue.prototype._parseSkin=function(ge,fe){var ce,he,_e,ye,xe;for(he=new V,he.source=new P(fe.getAttribute("source")),(null!=ge.skin||null!=ge.morph)&&this._log("Controller already has a skin or morph",L.messageError),ge.skin=he,xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(ce=xe[_e],1===ce.nodeType)switch(ce.nodeName){case"bind_shape_matrix":this._parseBindShapeMatrix(he,ce);break;case"source":this._parseSource(he,ce);break;case"joints":this._parseJoints(he,ce);break;case"vertex_weights":this._parseVertexWeights(he,ce);break;default:this._reportUnexpectedChild(fe,ce);}},ue.prototype._parseBindShapeMatrix=function(ge,fe){ge.bindShapeMatrix=oe(fe.textContent)},ue.prototype._parseJoints=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(ye=new k,null!=ge.joints&&this._log("Skin already has a joints array",L.messageError),ge.joints=ye,_e=[],ve=fe.childNodes,(xe=0,Te=ve.length);xe<Te;xe++)if(ce=ve[xe],1===ce.nodeType)switch(ce.nodeName){case"input":_e.push(this._parseInput(ce));break;default:this._reportUnexpectedChild(fe,ce);}for(be=0,Ce=_e.length;be<Ce;be++)switch(he=_e[be],he.semantic){case"JOINT":ye.joints=he;break;case"INV_BIND_MATRIX":ye.invBindMatrices=he;break;default:this._log("Unknown joints input semantic "+he.semantic,L.messageError);}},ue.prototype._parseVertexWeights=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(ye=new q,ye.count=parseInt(fe.getAttribute("count"),10),null!=ge.vertexWeights&&this._log("Skin already has a vertex weight array",L.messageError),ge.vertexWeights=ye,_e=[],ve=fe.childNodes,(xe=0,Te=ve.length);xe<Te;xe++)if(ce=ve[xe],1===ce.nodeType)switch(ce.nodeName){case"input":_e.push(this._parseInput(ce));break;case"vcount":ye.vcount=de(ce.textContent);break;case"v":ye.v=de(ce.textContent);break;default:this._reportUnexpectedChild(fe,ce);}for(be=0,Ce=_e.length;be<Ce;be++)switch(he=_e[be],he.semantic){case"JOINT":ye.joints=he;break;case"WEIGHT":ye.weights=he;break;default:this._log("Unknown vertex weight input semantic "+he.semantic,L.messageError);}},ue.prototype._parseLibAnimation=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"animation":this._parseAnimation(null,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseAnimation=function(ge,fe){var ce,he,_e,ye,xe;for(ce=new e,ce.id=fe.getAttribute("id"),ce.name=fe.getAttribute("name"),ce.parent=ge,null==ge?(ce.rootId=ce.id,ce.rootName=ce.name):(ce.rootId=ge.rootId,ce.rootName=ge.rootName),this._addUrlTarget(ce,(null==ge?void 0:ge.animations)||this.dae.libAnimations,!1),xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"animation":this._parseAnimation(ce,he);break;case"source":this._parseSource(ce,he);break;case"sampler":this._parseSampler(ce,he);break;case"channel":this._parseChannel(ce,he);break;default:this._reportUnexpectedChild(fe,he);}},ue.prototype._parseSampler=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve;for(ye=new j,ye.id=fe.getAttribute("id"),null!=ye.id&&this._addUrlTarget(ye,ge.samplers,!1),_e=[],ve=fe.childNodes,(xe=0,Te=ve.length);xe<Te;xe++)if(ce=ve[xe],1===ce.nodeType)switch(ce.nodeName){case"input":_e.push(this._parseInput(ce));break;default:this._reportUnexpectedChild(fe,ce);}for(be=0,Ce=_e.length;be<Ce;be++)switch(he=_e[be],he.semantic){case"INPUT":ye.input=he;break;case"OUTPUT":ye.outputs.push(he);break;case"INTERPOLATION":ye.interpolation=he;break;case"IN_TANGENT":ye.inTangents.push(he);break;case"OUT_TANGENT":ye.outTangents.push(he);break;default:this._log("Unknown sampler input semantic "+he.semantic,L.messageError);}},ue.prototype._parseChannel=function(ge,fe){var ce,he,_e,ye,xe;for(ce=new s,ce.source=new P(fe.getAttribute("source")),ce.target=new O(ge.id,fe.getAttribute("target")),ge.channels.push(ce),ce.animation=ge,xe=fe.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)he=xe[_e],1===he.nodeType&&this._reportUnexpectedChild(fe,he)},ue.prototype._parseLibLight=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"light":this._parseLight(fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseLight=function(ge){var fe,ce,he,_e,ye;for(ce=new S,ce.id=ge.getAttribute("id"),ce.name=ge.getAttribute("name"),null!=ce.id&&this._addUrlTarget(ce,this.dae.libLights,!0),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(fe=ye[he],1===fe.nodeType)switch(fe.nodeName){case"technique_common":this._parseLightTechniqueCommon(fe,ce);break;case"extra":this._reportUnhandledExtra(ge,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseLightTechniqueCommon=function(ge,fe){var ce,he,_e,ye;for(ye=ge.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"ambient":this._parseLightParams(ce,"COMMON",fe);break;case"directional":this._parseLightParams(ce,"COMMON",fe);break;case"point":this._parseLightParams(ce,"COMMON",fe);break;case"spot":this._parseLightParams(ce,"COMMON",fe);break;default:this._reportUnexpectedChild(ge,ce);}},ue.prototype._parseLightParams=function(ge,fe,ce){var he,_e,ye,xe;for(ce.type=ge.nodeName,xe=ge.childNodes,(_e=0,ye=xe.length);_e<ye;_e++)if(he=xe[_e],1===he.nodeType)switch(he.nodeName){case"color":this._parseLightColor(he,fe,ce);break;case"constant_attenuation":this._parseLightParam(he,fe,ce);break;case"linear_attenuation":this._parseLightParam(he,fe,ce);break;case"quadratic_attenuation":this._parseLightParam(he,fe,ce);break;case"falloff_angle":this._parseLightParam(he,fe,ce);break;case"falloff_exponent":this._parseLightParam(he,fe,ce);break;default:this._reportUnexpectedChild(ge,he);}},ue.prototype._parseLightColor=function(ge,fe,ce){ce.color=oe(ge.textContent)},ue.prototype._parseLightParam=function(ge,fe,ce){var he;he=new I,he.sid=ge.getAttribute("sid"),he.name=ge.nodeName,ce.params[he.name]=he,this._addSidTarget(he,ce),he.value=parseFloat(ge.textContent)},ue.prototype._parseLibCamera=function(ge){var fe,ce,he,_e;for(_e=ge.childNodes,ce=0,he=_e.length;ce<he;ce++)if(fe=_e[ce],1===fe.nodeType)switch(fe.nodeName){case"camera":this._parseCamera(fe);break;case"extra":this._reportUnhandledExtra(ge,fe);break;default:this._reportUnexpectedChild(ge,fe);}},ue.prototype._parseCamera=function(ge){var fe,ce,he,_e,ye;for(fe=new r,fe.id=ge.getAttribute("id"),null!=fe.id&&this._addUrlTarget(fe,this.dae.libCameras,!0),fe.name=ge.getAttribute("name"),ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"asset":this._reportUnhandledExtra(ge,ce);break;case"optics":this._parseCameraOptics(ce,fe);break;case"imager":this._reportUnhandledExtra(ge,ce);break;case"extra":this._reportUnhandledExtra(ge,ce);break;default:this._reportUnexpectedChild(ge,ce);}},ue.prototype._parseCameraOptics=function(ge,fe){var ce,he,_e,ye;for(ye=ge.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"technique_common":this._parseCameraTechniqueCommon(ce,fe);break;case"technique":this._reportUnhandledExtra(ge,ce);break;case"extra":this._reportUnhandledExtra(ge,ce);break;default:this._reportUnexpectedChild(ge,ce);}},ue.prototype._parseCameraTechniqueCommon=function(ge,fe){var ce,he,_e,ye;for(ye=ge.childNodes,he=0,_e=ye.length;he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"orthographic":this._parseCameraParams(ce,fe);break;case"perspective":this._parseCameraParams(ce,fe);break;default:this._reportUnexpectedChild(ge,ce);}},ue.prototype._parseCameraParams=function(ge,fe){var ce,he,_e,ye;for(fe.type=ge.nodeName,ye=ge.childNodes,(he=0,_e=ye.length);he<_e;he++)if(ce=ye[he],1===ce.nodeType)switch(ce.nodeName){case"xmag":this._parseCameraParam(ce,fe);break;case"ymag":this._parseCameraParam(ce,fe);break;case"xfov":this._parseCameraParam(ce,fe);break;case"yfov":this._parseCameraParam(ce,fe);break;case"aspect_ratio":this._parseCameraParam(ce,fe);break;case"znear":this._parseCameraParam(ce,fe);break;case"zfar":this._parseCameraParam(ce,fe);break;case"extra":this._reportUnhandledExtra(ge,ce);break;default:this._reportUnexpectedChild(ge,ce);}},ue.prototype._parseCameraParam=function(ge,fe){var ce;ce=new d,ce.sid=ge.getAttribute("sid"),ce.name=ge.nodeName,fe.params[ce.name]=ce,this._addSidTarget(ce,fe),ce.value=parseFloat(ge.textContent)},ue.prototype._linkAnimations=function(){var ge,fe,ce,he,_e,ye,xe,be;for(xe=this.dae.animationTargets,ce=0,_e=xe.length;ce<_e;ce++)fe=xe[ce],fe.initAnimationTarget();for(be=this.dae.libAnimations,he=0,ye=be.length;he<ye;he++)ge=be[he],this._linkAnimationChannels(ge)},ue.prototype._linkAnimationChannels=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se;for(Me=ge.channels,Ce=0,Ae=Me.length;Ce<Ae;Ce++){if(fe=Me[Ce],be=this._getLinkTarget(fe.target,n),null==be){this._log("Animation channel has an invalid target '"+fe.target.url+"', animation ignored",L.messageWarning);continue}if(xe=this._getLinkTarget(fe.source,j),null==xe){this._log("Animation channel has an invalid sampler '"+fe.source.url+"', animation ignored",L.messageWarning);continue}if(he=this._getLinkTarget(null==(ke=xe.input)?void 0:ke.source),null==he){this._log("Animation channel has no input data, animation ignored",L.messageWarning);continue}if(0===xe.outputs.length){this._log("Animation channel has no output, animation ignored",L.messageWarning);continue}if(1<xe.outputs.length&&this._log("Animation channel has more than one output, using only the first output",L.messageWarning),_e=xe.outputs[0],ye=this._getLinkTarget(null==_e?void 0:_e.source),null==ye){this._log("Animation channel has no output data, animation ignored",L.messageWarning);continue}if(Te=new z,Te.outputData=ye.data,Te.inputData=he.data,Te.stride=ye.stride,Te.animation=ge,fe.target.dotSyntax)switch(Te.semantic=fe.target.member,Te.count=1,Te.semantic){case"X":Te.offset=0;break;case"Y":Te.offset=1;break;case"Z":Te.offset=2;break;case"W":Te.offset=3;break;case"R":Te.offset=0;break;case"G":Te.offset=1;break;case"B":Te.offset=2;break;case"U":Te.offset=0;break;case"V":Te.offset=1;break;case"S":Te.offset=0;break;case"T":Te.offset=1;break;case"P":Te.offset=2;break;case"Q":Te.offset=3;break;case"ANGLE":Te.offset=3;break;default:this._log("Unknown semantic for '"+targetLink.url+"', animation ignored",L.messageWarning);continue;}else if(fe.target.arrSyntax){switch(targetLink.indices.length){case 1:Te.offset=targetLink.indices[0];break;case 2:Te.offset=targetLink.indices[0]*be.animTarget.dataRows+targetLink.indices[1];break;default:this._log("Invalid number of indices for '"+targetLink.url+"', animation ignored",L.messageWarning);continue;}Te.count=1}else Te.offset=0,Te.count=be.animTarget.dataColumns*be.animTarget.dataRows;be.animTarget.channels.push(Te)}for(Se=ge.animations,ve=0,Ne=Se.length;ve<Ne;ve++)ce=Se[ve],this._linkAnimationChannels(ce)},ue.prototype._createSceneGraph=function(){var ge,fe,ce,he,_e,ye;if(fe=this._getLinkTarget(this.dae.scene,R),null!=fe){for(ce=new THREE.Object3D,this.threejs.scene=ce,ye=fe.children,(he=0,_e=ye.length);he<_e;he++)ge=ye[he],this._createSceneGraphNode(ge,ce);this.scene=ce}},ue.prototype._setNodeTransformation=function(ge,fe){ge.getTransformMatrix(fe.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.rotation.setFromQuaternion(fe.quaternion)},ue.prototype._createSceneGraphNode=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue,Ee,je,we,Oe,Ve,De,We,Pe,qe,Ge,Re;for(Ce=[],We=ge.geometries,(Me=0,Le=We.length);Me<Le;Me++)ye=We[Me],Ae=this._createStaticMesh(ye),null!=Ae&&(Ae.name=null==ge.name?"":ge.name,Ce.push(Ae));for(Pe=ge.controllers,ke=0,Ue=Pe.length;ke<Ue;ke++)_e=Pe[ke],Ae=this._createAnimatedMesh(_e),null!=Ae&&(Ae.name=null==ge.name?"":ge.name,Ce.push(Ae));for(qe=ge.lights,Se=0,Ee=qe.length;Se<Ee;Se++)xe=qe[Se],ve=this._createLight(xe),null!=ve&&(ve.name=null==ge.name?"":ge.name,Ce.push(ve));for(Ge=ge.cameras,Ie=0,je=Ge.length;Ie<je;Ie++)ce=Ge[Ie],be=this._createCamera(ce),null!=be&&(be.name=null==ge.name?"":ge.name,Ce.push(be));if(1<Ce.length){for(Ne=new THREE.Object3D,Ve=0,we=Ce.length;Ve<we;Ve++)Te=Ce[Ve],null!=Te&&Ne.add(Te);fe.add(Ne)}else 1===Ce.length?(Ne=Ce[0],fe.add(Ne)):0===Ce.length&&("JOINT"!==ge.type&&this._log("Collada node "+ge.name+" did not produce any threejs nodes",L.messageWarning),Ne=new THREE.Object3D,fe.add(Ne));for(this._setNodeTransformation(ge,Ne),Re=ge.children,(De=0,Oe=Re.length);De<Oe;De++)he=Re[De],this._createSceneGraphNode(he,Ne)},ue.prototype._createLight=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me;if(Te=this._getLinkTarget(ge.light,S),null==Te)return this._log("Light instance has no light, light ignored",L.messageWarning),null;switch(_e=Te.color,ye=255*_e[0]<<16^255*_e[1]<<8^255*_e[2]<<0,fe=null==(Ce=Te.params.constant_attenuation)?void 0:Ce.value,ce=null==(ve=Te.params.linear_attenuation)?void 0:ve.value,he=null==(Ae=Te.params.quadratic_attenuation)?void 0:Ae.value,xe=null==(Ne=Te.params.falloff_angle)?void 0:Ne.value,be=null==(Me=Te.params.falloff_exponent)?void 0:Me.value,Te.type){case"ambient":Te=new THREE.AmbientLight(ye);break;case"directional":Te=new THREE.DirectionalLight(ye,1);break;case"point":Te=new THREE.PointLight(ye,fe,ce);break;case"spot":Te=new THREE.SpotLight(ye,fe,ce,xe,be);break;default:this._log("Unknown light type "+ge.type+", light ignored.",L.messageError);}return Te},ue.prototype._createCamera=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se;if(ce=this._getLinkTarget(ge.camera,r),null==ce)return this._log("Camera instance has no camera, camera ignored",L.messageWarning),null;switch(_e=null==(Ce=ce.params.xmag)?void 0:Ce.value,xe=null==(ve=ce.params.ymag)?void 0:ve.value,he=null==(Ae=ce.params.xfov)?void 0:Ae.value,ye=null==(Ne=ce.params.yfov)?void 0:Ne.value,fe=null==(Me=ce.params.aspect_ratio)?void 0:Me.value,Te=null==(ke=ce.params.znear)?void 0:ke.value,be=null==(Se=ce.params.zfar)?void 0:Se.value,ce.type){case"orthographic":null!=_e&&null!=xe?fe=_e/xe:null!=xe&&null!=fe?_e=xe*fe:null!=_e&&null!=fe?xe=_e/fe:null==_e?null==xe?this._log("Not enough field of view parameters for an orthographic camera.",L.messageError):(fe=1,_e=xe):(fe=1,xe=_e),ce=new THREE.OrthographicCamera(-_e,+_e,-xe,+xe,Te,be);break;case"perspective":null!=he&&null!=ye?fe=he/ye:null!=ye&&null!=fe?he=ye*fe:null!=he&&null!=fe?ye=he/fe:null==he?null==ye?this._log("Not enough field of view parameters for a perspective camera.",L.messageError):(fe=1,he=ye):(fe=1,ye=he),ce=new THREE.PerspectiveCamera(ye,fe,Te,be);break;default:this._log("Unknown camera type "+ge.type+", camera ignored.",L.messageError);}return ce},ue.prototype._createStaticMesh=function(ge){var fe,ce,he,_e,ye;return(fe=this._getLinkTarget(ge.geometry,y),null==fe)?(this._log("Geometry instance has no geometry, mesh ignored",L.messageWarning),null):(ye=this._createGeometryAndMaterial(fe,ge.materials),he=ye[0],_e=ye[1],ce=new THREE.Mesh(he,_e),ce)},ue.prototype._createGeometryAndMaterial=function(ge,fe){var ce,he,_e,ye,xe,be,Te;if(ye=this._createMaterials(fe),he=this._createGeometry(ge,ye),_e=null,1<ye.materials.length)for(_e=new THREE.MeshFaceMaterial,Te=ye.materials,(xe=0,be=Te.length);xe<be;xe++)ce=Te[xe],_e.materials.push(ce);else _e=ye.materials[0];return[he,_e]},ue.prototype._createAnimatedMesh=function(ge,fe){return(fe=this._getLinkTarget(ge.controller,l),null!=fe.skin)?this._createSkinMesh(ge,fe):null==fe.morph?(this._log("Controller has neither a skin nor a morph, can not create a mesh",L.messageError),null):this._createMorphMesh(ge,fe)},ue.prototype._createSkinMesh=function(ge,fe){var ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue,Ee,je,we,Oe,Ve,De,We,Pe,qe,Ge,Re,Fe,Be,ze;if(xe=fe.skin,null==xe||!(xe instanceof V))return this._log("Controller for a skinned mesh has no skin, mesh ignored",L.messageError),null;if(be=this._getLinkTarget(xe.source),null==be)return this._log("Skin for a skinned mesh has no geometry, mesh ignored",L.messageError),null;if(!this._options.useAnimations)return Pe=this._createGeometryAndMaterial(be,ge.materials),Ie=Pe[0],Le=Pe[1],new THREE.Mesh(Ie,Le);for(Se=[],qe=ge.skeletons,(Ue=0,Oe=qe.length);Ue<Oe;Ue++){if(ke=qe[Ue],Me=this._getLinkTarget(ke,F),null==Me){this._log("Controller instance for a skinned mesh uses unknown skeleton "+Me+", skeleton ignored",L.messageError);continue}Se.push(Me)}if(0===Se.length)return this._log("Controller instance for a skinned mesh has no skeleton, mesh ignored",L.messageError),null;if(null==xe.joints)return this._log("Skin has no joints, mesh ignored",L.messageError),null;if(ye=this._getLinkTarget(null==(Ge=xe.joints.joints)?void 0:Ge.source,D),null==ye||null==ye.data)return this._log("Skin has no joints source, mesh ignored",L.messageError),null;if(_e=this._getLinkTarget(null==(Re=xe.joints.invBindMatrices)?void 0:Re.source,D),null==_e||null==_e.data)return this._log("Skin has no inverse bind matrix source, mesh ignored",L.messageError),null;if(16*ye.data.length!==_e.data.length)return this._log("Skin has an inconsistent length of joint data sources, mesh ignored",L.messageError),null;for(he=[],Fe=ye.data,(Ee=0,Ve=Fe.length);Ee<Ve;Ee++){if(ve=Fe[Ee],Ce=this._findJointNode(ve,Se),null==Ce)return this._log("Joint "+ve+" not found for skin with skeletons "+Se.map(function(Xe){return Xe.id}).join(", ")+", mesh ignored",L.messageError),null;ce=this._createBone(Ce,ve,he),ee(_e.data,16*ce.index,ce.invBindMatrix)}for(this._options.verboseMessages&&this._log("Skin contains "+he.length+" bones",L.messageInfo),Te=0;Te<he.length;){for(ce=he[Te],++Te,(je=0,De=he.length);je<De;je++)if(Ne=he[je],ce.node.parent===Ne.node){ce.parent=Ne;break}null!=ce.node.parent&&ce.node.parent instanceof F&&null==ce.parent&&(ce.parent=this._createBone(ce.node.parent,"",he))}if(this._options.verboseMessages&&this._log("Skeleton contains "+he.length+" bones",L.messageInfo),null==xe.vertexWeights)return this._log("Skin has no vertex weight data, mesh ignored",L.messageError),null;if(xe.vertexWeights.joints.source.url!==xe.joints.joints.source.url)return this._log("Skin uses different data sources for joints in <joints> and <vertex_weights>, this is not supported by this loader, mesh ignored",L.messageError),null;if(Be=this._createGeometryAndMaterial(be,ge.materials),Ie=Be[0],Le=Be[1],this._options.convertSkinsToMorphs)return this._addSkinMorphTargets(Ie,xe,he,Le)?new THREE.MorphAnimMesh(Ie,Le):new THREE.Mesh(Ie,Le);if(this._addSkinBones(Ie,xe,he,Le)){for(Ae=new THREE.SkinnedMesh(Ie,Le),Ae.boneInverses=[],ze=Ie.bones,(we=0,We=ze.length);we<We;we++)ce=ze[we],Ae.boneInverses.push(ce.inverse);return Ae}return new THREE.Mesh(Ie,Le)},ue.prototype._findJointNode=function(ge,fe){var ce,he,_e,ye;for(ce=null,_e=0,ye=fe.length;_e<ye&&(he=fe[_e],ce=this._findSidTarget(he,ge),null==ce);_e++);return ce instanceof F?ce:null},ue.prototype._createBone=function(ge,fe,ce){var he,_e,ye,xe,be;for(he=new J,he.sid=fe,he.node=ge,be=ge.transformations,(ye=0,xe=be.length);ye<xe;ye++)if(_e=be[ye],0<_e.animTarget.channels.length){he.isAnimated=!0;break}return he.matrix=new THREE.Matrix4,ge.getTransformMatrix(he.matrix),he.index=ce.length,ce.push(he),he},ue.prototype._addSkinMorphTargets=function(ge,fe,ce,he){var _e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue,Ee,je,we,Oe,Ve,De,We,Pe,qe,Ge,Re,Fe,Be,ze,Xe,Je,He,Ke,Qe,Ye;if(Le=this._prepareAnimations(ce),0<!Le)return null;if(ke=ge.vertices,je=ke.length,We=fe.vertexWeights.v,Pe=fe.vertexWeights.vcount,De=this._getLinkTarget(fe.vertexWeights.joints.source),Ge=this._getLinkTarget(fe.vertexWeights.weights.source),Ve=null==De?void 0:De.data,qe=null==Ge?void 0:Ge.data,null==qe)return this._log("Skin has no weights data, no morph targets added for mesh",L.messageError),null;for(_e=new THREE.Matrix4,null!=fe.bindShapeMatrix&&(_e=ne(fe.bindShapeMatrix,0)),Ie=new THREE.Vector3,ve=!0,Ce=!0,(Ae=0,Ke=Le-1);Ae<=Ke;Ae+=1){for(this._updateSkinMatrices(ce,_e,Ae),we=[],(Be=0,Xe=ke.length);Be<Xe;Be++)Se=ke[Be],we.push(new THREE.Vector3);for(Oe=0,Ae=0,Je=we.length;Ae<Je;Ae++){for(Ee=we[Ae],Me=ke[Ae],Fe=Pe[Ae],Ue=0,(Re=0,Qe=Fe-1);Re<=Qe;Re+=1)xe=We[Oe],Te=We[Oe+1],Oe+=2,be=qe[Te],Ue+=be,0<=xe?(ye=ce[xe],Ie.copy(Me),Ie.applyMatrix4(ye.skinMatrix),Ie.multiplyScalar(be),Ee.add(Ie)):(Ie.copy(Me),Ie.applyMatrix4(_e),Ie.multiplyScalar(be),Ee.add(Ie));0===Fe?(Ee.copy(Me),ve&&(this._log("Skinned vertex not influenced by any bone, some vertices will be unskinned",L.messageWarning),ve=!1)):0.01<Ue&&1e6>Ue?Ee.multiplyScalar(1/Ue):(Ee.copy(Me),Ce&&(this._log("Zero or infinite total weight for skinned vertex, some vertices will be unskinned",L.messageWarning),Ce=!1))}Oe!==We.length&&this._log("Skinning did not consume all weights",L.messageError),ge.morphTargets.push({name:"target",vertices:we})}if(ge.computeMorphNormals(),he.morphTargets=!0,he.morphNormals=!0,null!=he.materials)for(Ye=he.materials,ze=0,He=Ye.length;ze<He;ze++)Ne=Ye[ze],Ne.morphTargets=!0,Ne.morphNormals=!0;return!0},ue.prototype._prepareAnimations=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke;for(ye=null,be=0,ve=ge.length;be<ve;be++){for(fe=ge[be],_e=!1,Me=fe.node.transformations,(Te=0,Ae=Me.length);Te<Ae;Te++)for(xe=Me[Te],xe.resetAnimation(),xe.selectAllAnimations(),ke=xe.animTarget.activeChannels,(Ce=0,Ne=ke.length);Ce<Ne;Ce++){if(ce=ke[Ce],_e=!0,he=ce.inputData.length,null!=ye&&he!==ye)return this._log("Inconsistent number of time steps, no morph targets added for mesh. Resample all animations to fix this.",L.messageError),null;ye=he}this._options.verboseMessages&&!_e&&this._log("Joint '"+fe.sid+"' has no animation channel",L.messageWarning)}return ye},ue.prototype._updateSkinMatrices=function(ge,fe,ce){var he,_e,ye,xe,be;for(_e=0,xe=ge.length;_e<xe;_e++)he=ge[_e],he.applyAnimation(ce);for(ye=0,be=ge.length;ye<be;ye++)he=ge[ye],he.updateSkinMatrix(fe);return null},ue.prototype._addSkinBones=function(ge,fe,ce,he){var _e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue,Ee,je,we,Oe,Ve,De,We,Pe,qe,Ge,Re,Fe,Be,ze,Xe,Je,He,Ke,Qe,Ye,Ze,$e,et,tt,nt,it,at,rt,ot,dt,st,pt,lt,ut;if(qe=this._prepareAnimations(ce),0<!qe)return null;if(je=ge.vertices,Fe=je.length,Je=fe.vertexWeights.v,He=fe.vertexWeights.vcount,Xe=this._getLinkTarget(fe.vertexWeights.joints.source),Qe=this._getLinkTarget(fe.vertexWeights.weights.source),ze=null==Xe?void 0:Xe.data,Ke=null==Qe?void 0:Qe.data,null==Ke)return this._log("Skin has no weights data, no skin added for mesh",L.messageError),null;for(_e=new THREE.Matrix4,null!=fe.bindShapeMatrix&&(_e=ne(fe.bindShapeMatrix,0)),Le=new THREE.Vector3,Ue=new THREE.Quaternion,Ee=new THREE.Vector3,Ae=!0,ve=!0,We=[],Pe=[],Be=0,Ce=4,Me=[0,0,0,0],$e=[0,0,0,0],(Ne=0,it=je.length);Ne<it;Ne++){for(Re=je[Ne],Ze=He[Ne],Ze>Ce&&(Ae&&(this._log("Too many bones influence a vertex, some influences will be discarded. Threejs supports only "+Ce+" bones per vertex.",L.messageWarning),Ae=!1),Ze=Ce),Ge=0,(Ye=0,dt=Ze-1);Ye<=dt;Ye+=1)xe=Je[Be],Te=Je[Be+1],Be+=2,be=Ke[Te],Ge+=be,Me[Ye]=xe,$e[Ye]=be;for(Ye=$e,st=Ce-1;Ye<=st;Ye+=1)Me[Ye]=0,$e[Ye]=0;if(!(0.01<Ge&&1e6>Ge))ve&&(this._log("Zero or infinite total weight for skinned vertex, skin will be broken",L.messageWarning),ve=!1);else for(Ye=0,pt=Ce-1;Ye<=pt;Ye+=1)$e[Ye]/=Ge;We.push(new THREE.Vector4(Me[0],Me[1],Me[2],Me[3])),Pe.push(new THREE.Vector4($e[0],$e[1],$e[2],$e[3]))}for(ge.skinIndices=We,ge.skinWeights=Pe,De=[],(et=0,at=ce.length);et<at;et++)ye=ce[et],Oe={},Oe.parent=null==ye.parent?-1:ye.parent.index,Oe.name=ye.node.name,ye.matrix.decompose(Le,Ue,Ee),Oe.pos=[Le.x,Le.y,Le.z],Oe.scl=[Ee.x,Ee.y,Ee.z],Oe.rotq=[Ue.x,Ue.y,Ue.z,Ue.w],Oe.rot=null,Oe.inverse=new THREE.Matrix4,Oe.inverse.multiplyMatrices(ye.invBindMatrix,_e),De.push(Oe);for(ge.bones=De,we={},we.name="animation",we.hierarchy=[],(tt=0,rt=ce.length);tt<rt;tt++){for(ye=ce[tt],Ve={},Ve.parent=ye.index,Ve.keys=[],(Se=0,lt=qe-1);Se<=lt;Se+=1)ye.applyAnimation(Se),ye.updateSkinMatrix(_e),ke={},ke.time=Se,ye.matrix.decompose(Le,Ue,Ee),ke.pos=[Le.x,Le.y,Le.z],ke.scl=[Ee.x,Ee.y,Ee.z],ke.rot=[Ue.x,Ue.y,Ue.z,Ue.w],Ve.keys.push(ke);we.hierarchy.push(Ve)}if(we.fps=30,we.length=qe-1,ge.animation=we,he.skinning=!0,null!=he.materials)for(ut=he.materials,nt=0,ot=ut.length;nt<ot;nt++)Ie=ut[nt],Ie.skinning=!0;return!0},ue.prototype._createMorphMesh=function(){return this._log("Morph animated meshes not supported, mesh ignored",L.messageError),null},ue.prototype._createGeometry=function(ge,fe){var ce,he,_e,ye,xe,be;for(he=new THREE.Geometry,be=ge.triangles,(ye=0,xe=be.length);ye<xe;ye++)_e=be[ye],ce=fe.indices[_e.material],null!=ce||(this._log("Material symbol "+_e.material+" has no bound material instance",L.messageError),ce=0),this._addTrianglesToGeometry(ge,_e,ce,he);return he.computeFaceNormals(),he.computeCentroids(),fe.needtangents&&he.computeTangents(),he.computeBoundingBox(),he},ue.prototype._addTrianglesToGeometry=function(ge,fe,ce,he){var _e,ye,xe,be,Te,Ce,ve,Ae,Ne,Me,ke,Se,Ie,Le,Ue,Ee,je,we,Oe,Ve,De,We,Pe,qe,Ge,Re,Fe,Be,ze,Xe,Je,He,Ke,Qe,Ye,Ze,$e,et,tt,nt,it,at,rt,ot,dt,st,pt,lt,ut,mt,gt,ft,ct,ht,_t,yt,xt,bt,Tt,Ct,vt,At,Nt,Mt,kt,St,It,Lt,Ut,Et,jt=this;for(We=null,Ve=null,Oe=null,De=[],kt=fe.inputs,(_t=0,bt=kt.length);_t<bt;_t++)switch(we=kt[_t],we.semantic){case"VERTEX":We=we;break;case"NORMAL":Ve=we;break;case"COLOR":Oe=we;break;case"TEXCOORD":De.push(we);break;default:this._log("Unknown triangles input semantic "+we.semantic+" ignored",L.messageWarning);}if(tt=this._getLinkTarget(We.source,G),null==tt)return void this._log("Geometry "+ge.id+" has no vertices",L.messageError);for($e=this._getLinkTarget(null==Ve?void 0:Ve.source,D),Ze=this._getLinkTarget(null==Oe?void 0:Oe.source,D),et=De.map(function(wt){return jt._getLinkTarget(null==wt?void 0:wt.source,D)}),Ge=null,qe=null,Pe=null,Re=[],St=tt.inputs,(yt=0,Tt=St.length);yt<Tt;yt++)switch(we=St[yt],we.semantic){case"POSITION":Ge=we;break;case"NORMAL":qe=we;break;case"COLOR":Pe=we;break;case"TEXCOORD":Re.push(we);break;default:this._log("Unknown vertices input semantic "+we.semantic+" ignored",L.messageWarning);}if(at=this._getLinkTarget(Ge.source,D),null==at)return void this._log("Geometry "+ge.id+" has no vertex positions",L.messageError);for(it=this._getLinkTarget(null==qe?void 0:qe.source,D),nt=this._getLinkTarget(null==Pe?void 0:Pe.source,D),rt=Re.map(function(wt){return jt._getLinkTarget(null==wt?void 0:wt.source,D)}),Se=this._createVector3Array(at),ke=this._createVector3Array(it),Ae=this._createVector3Array($e),Me=this._createColorArray(nt),ve=this._createColorArray(Ze),Ie=rt.map(function(wt){return jt._createUVArray(wt)}),Ne=et.map(function(wt){return jt._createUVArray(wt)}),he.vertices=Se,Ye=Ie.length+Ne.length,Ke=he.faceVertexUvs.length,Qe=fe.count,He=he.faces.count,It=he.faceVertexUvs,(Ee=0,Ct=It.length);Ee<Ct;Ee++)Ue=It[Ee],Ee<Ye?(Fe=Ue.length-he.faces.length,this._addEmptyUVs(Ue,Fe)):(Fe=Ue.length-he.faces.length+Qe,this._addEmptyUVs(Ue,Fe));for(;he.faceVertexUvs.length<Ye;)Ue=[],this._addEmptyUVs(Ue,He),he.faceVertexUvs.push(Ue);if("triangles"!==fe.type)for(ct=fe.vcount,xt=0,vt=ct.length;xt<vt;xt++)if(be=ct[xt],3!==be)return void this._log("Geometry "+ge.id+" has non-triangle polygons, geometry ignored",L.messageError);for(je=fe.indices,ut=je.length/fe.count,ht=ut/3,Lt=fe.indices,(lt=0,At=Lt.length,Ut=ut);lt<At;lt+=Ut){for(Et=Lt[lt],_e=lt+0*ht,ye=lt+1*ht,xe=lt+2*ht,mt=je[_e+We.offset],gt=je[ye+We.offset],ft=je[xe+We.offset],null==ke?null==Ae?Je=null:(Be=je[_e+Ve.offset],ze=je[ye+Ve.offset],Xe=je[xe+Ve.offset],Je=[Ae[Be],Ae[ze],Ae[Xe]]):Je=[ke[mt],ke[gt],ke[ft]],null==Me?null==ve?Te=null:(Be=je[_e+Oe.offset],ze=je[ye+Oe.offset],Xe=je[xe+Oe.offset],Te=[ve[Be],ve[ze],ve[Xe]]):Te=[Me[mt],Me[gt],Me[ft]],Le=new THREE.Face3(mt,gt,ft,Je,Te),null!=ce&&(Le.materialIndex=ce),he.faces.push(Le),(Ee=0,Nt=Ie.length);Ee<Nt;Ee++)Ce=Ie[Ee],null==Ce?geometry.faceVertexUvs[Ee].push([new THREE.Vector2(0,0),new THREE.Vector2(0,0),new THREE.Vector2(0,0)]):(pt=[Ce[mt],Ce[gt],Ce[ft]],geometry.faceVertexUvs[Ee].push(pt));for(Ee=0,Mt=Ne.length;Ee<Mt;Ee++)Ce=Ne[Ee],null==Ce?geometry.faceVertexUvs[Ee].push([new THREE.Vector2(0,0),new THREE.Vector2(0,0),new THREE.Vector2(0,0)]):(ot=je[_e+De[Ee].offset],dt=je[ye+De[Ee].offset],st=je[xe+De[Ee].offset],pt=[Ce[ot],Ce[dt],Ce[st]],he.faceVertexUvs[Ee].push(pt))}},ue.prototype._addEmptyUVs=function(ge,fe){var ce,he;for(ce=0,he=fe-1;ce<=he;ce+=1)ge.push(new THREE.Vector2(0,0))},ue.prototype._createVector3Array=function(ge){var fe,ce,he,_e;if(null==ge)return null;if(3!==ge.stride)return this._log("Vector source data does not contain 3D vectors",L.messageError),null;for(fe=[],he=ge.data,(ce=0,_e=he.length-1);ce<=_e;ce+=3)fe.push(new THREE.Vector3(he[ce],he[ce+1],he[ce+2]));return fe},ue.prototype._createColorArray=function(ge){var fe,ce,he,_e,ye;if(null==ge)return null;if(3>ge.stride)return this._log("Color source data does not contain 3+D vectors",L.messageError),null;for(fe=[],he=ge.data,(ce=0,_e=he.length-1,ye=ge.stride);0<=_e?ce<=_e:ce>=_e;ce+=ye)fe.push(new THREE.Color().setRGB(he[ce],he[ce+1],he[ce+2]));return fe},ue.prototype._createUVArray=function(ge){var fe,ce,he,_e,ye;if(null==ge)return null;if(2>ge.stride)return this._log("UV source data does not contain 2+D vectors",L.messageError),null;for(fe=[],he=ge.data,(ce=0,_e=he.length-1,ye=ge.stride);0<=_e?ce<=_e:ce>=_e;ce+=ye)fe.push(new THREE.Vector2(he[ce],1-he[ce+1]));return fe},ue.prototype._createMaterials=function(ge){var fe,ce,he,_e,ye,xe,be;for(he=new X,ce=0,(xe=0,be=ge.length);xe<be;xe++){if(fe=ge[xe],_e=fe.symbol,null==_e){this._log("Material instance has no symbol, material skipped.",L.messageError);continue}if(null!=he.indices[_e]){this._log("Geometry instance tried to map material symbol "+_e+" multiple times",L.messageError);continue}ye=this._createMaterial(fe),(null!=ye.bumpMap||null!=ye.normalMap)&&(he.needtangents=!0),this.threejs.materials.push(ye),he.materials.push(ye),he.indices[_e]=ce++}return he},ue.prototype._createMaterial=function(ge){var fe,ce;return(ce=this._getLinkTarget(ge.material,U),null==ce)?this._createDefaultMaterial:(fe=this._getLinkTarget(ce.effect,u),null==fe?this._createDefaultMaterial:this._createBuiltInMaterial(fe))},ue.prototype._createShaderMaterial=function(ge){var fe,ce,he,_e,ye,xe,be,Te,Ce,ve,Ae;return he=ge.technique,ce=THREE.ShaderUtils.lib.normal,Te=THREE.UniformsUtils.clone(ce.uniforms),xe=this._loadThreejsTexture(he.bump),null!=xe&&(Te.tNormal.texture=xe,Te.uNormalScale.value=0.85),_e=this._loadThreejsTexture(he.diffuse),null==_e?Te.enableDiffuse.value=!1:(Te.tDiffuse.texture=_e,Te.enableDiffuse.value=!0),be=this._loadThreejsTexture(he.specular),null==be?Te.enableSpecular.value=!1:(Te.tSpecular.texture=be,Te.enableSpecular.value=!0),ye=this._loadThreejsTexture(he.emission),null==ye?Te.enableAO.value=!1:(Te.tAO.texture=ye,Te.enableAO.value=!0),null!=(null==(Ce=he.diffuse)?void 0:Ce.color)&&Te.uDiffuseColor.value.setHex(Z(he.diffuse.color)),null!=(null==(ve=he.specular)?void 0:ve.color)&&Te.uSpecularColor.value.setHex(Z(he.specular.color)),null!=(null==(Ae=he.ambient)?void 0:Ae.color)&&Te.uAmbientColor.value.setHex(Z(he.ambient.color)),null!=he.shininess&&(Te.uShininess.value=he.shininess),null!=he.transparency&&(Te.uOpacity.value=this._getOpacity(ge)),fe=new THREE.ShaderMaterial({fragmentShader:ce.fragmentShader,vertexShader:ce.vertexShader,uniforms:Te,lights:!0}),fe},ue.prototype._getOpacity=function(ge){var fe,ce,he,_e,ye,xe;return ce=ge.technique,_e=ce.transparent,fe=null==_e?void 0:_e.opaque,null!=fe&&"A_ONE"!==fe&&this._log("Opacity mode "+fe+" not supported, transparency will be broken",L.messageWarning),null!=(null==_e?void 0:_e.textureSampler)&&this._log("Separate transparency texture not supported, transparency will be broken",L.messageWarning),ye=(null==_e||null==(xe=_e.color)?void 0:xe[3])||1,he=ce.transparency||1,ye*he},ue.prototype._hasTransparency=function(ge){var fe,ce,he;return fe=ge.technique,null!=(null==(ce=fe.transparent)?void 0:ce.textureSampler)||0>=(he=fe.transparency)&&1<=he},ue.prototype._createBuiltInMaterial=function(ge){var fe,ce,he,_e;switch(_e=ge.technique,he={},this._setThreejsMaterialParam(he,_e.diffuse,"diffuse","map",!1),this._setThreejsMaterialParam(he,_e.emission,"emissive",null,!1),this._setThreejsMaterialParam(he,_e.ambient,"ambient","lightMap",!1),this._setThreejsMaterialParam(he,_e.specular,"specular","specularMap",!1),this._setThreejsMaterialParam(he,_e.bump,null,"normalMap",!1),he.bumpMap&&(he.bumpScale=1),he.normalMap&&(he.normalScale=new THREE.Vector2(1,1)),null!=he.map&&(he.diffuse=16777215),null!=he.specularMap&&(he.specular=16777215),null!=he.diffuse||(he.diffuse=16777215),null!=_e.shininess&&(he.shininess=_e.shininess),null!=_e.reflectivity&&(he.reflectivity=_e.reflectivity),fe=this._hasTransparency(ge),fe&&(he.transparent=!0,ce=this._getOpacity(ge),he.opacity=ce,he.alphaTest=1e-3),_e.doubleSided&&(he.side=THREE.DoubleSide),he.shading=THREE.SmoothShading,he.perPixel=!0,_e.shading){case"blinn":case"phong":return he.color=he.diffuse,new THREE.MeshPhongMaterial(he);case"lambert":return he.color=he.diffuse,new THREE.MeshLambertMaterial(he);case"constant":return he.color=he.emission,new THREE.MeshBasicMaterial(he);default:return this._createDefaultMaterial;}},ue.prototype._createDefaultMaterial=function(){return new THREE.MeshLambertMaterial({color:14540253,shading:THREE.FlatShading})},ue.prototype._setThreejsMaterialParam=function(ge,fe,ce,he,_e){var ye;if(null!=fe)if(null!=fe.color&&null!=ce){if(!_e&&null!=ge[ce])return;ge[ce]=Z(fe.color)}else if(null!=fe.textureSampler&&null!=he){if(!_e&&null!=ge[he])return;ye=this._loadThreejsTexture(fe),null!=ye&&(ge[he]=ye)}},ue.prototype._loadThreejsTexture=function(ge){var fe,ce,he,_e,ye;return null==ge.textureSampler?null:(_e=this._getLinkTarget(ge.textureSampler,m),null==_e)?null:(he=null,null==_e.image?null!=_e.surface&&(ye=this._getLinkTarget(_e.surface,g),he=this._getLinkTarget(ye.initFrom,b)):he=this._getLinkTarget(_e.image,b),null==he)?null:(fe=this._baseUrl+he.initFrom,ce=this._loader._loadTextureFromURL(fe),ce)},ue}(),L=function(){function ue(){this.log=ue.logConsole,this._imageCache={},this.options={useAnimations:!0,convertSkinsToMorphs:!1,verboseMessages:!1,localImageMode:!1}}return ue.messageTrace=0,ue.messageInfo=1,ue.messageWarning=2,ue.messageError=3,ue.messageTypes=["TRACE","INFO","WARNING","ERROR"],ue.logConsole=function(ge,fe){console.log("ColladaLoader2 "+ue.messageTypes[fe]+": "+ge)},ue.prototype.setLog=function(ge){this.log=ge||this.logConsole},ue.prototype.addChachedTextures=function(ge){var fe,ce;for(fe in ge)ce=ge[fe],this._imageCache[fe]=ce},ue.prototype.load=function(ge,fe,ce){var he,_e,ye,xe=this;he=0,(null==(ye=document.implementation)?void 0:ye.createDocument)?(_e=new XMLHttpRequest,"function"===typeof _e.overrideMimeType&&_e.overrideMimeType("text/xml"),_e.onreadystatechange=function(){if(4===_e.readyState){if(0===_e.status||200===_e.status)return _e.responseXML?xe.parse(_e.responseXML,fe,ge):xe.log("Empty or non-existing file "+ge+".",ue.messageError);}else if(3===_e.readyState&&ce)return 0===he&&(he=_e.getResponseHeader("Content-Length")),ce({total:he,loaded:_e.responseText.length})},_e.open("GET",ge,!0),_e.send(null)):this.log("Don't know how to parse XML!",ue.messageError)},ue.prototype.parse=function(ge,fe,ce){var he;return he=new h(this),he.setUrl(ce),he._readyCallback=fe,he._parseXml(ge),he._linkAnimations(),he._createSceneGraph(),he._readyCallback&&he._readyCallback(he),he},ue.prototype._loadTextureFromURL=function(ge){var fe;return(fe=this._imageCache[ge],null!=fe)?fe:(this.options.localImageMode&&(fe=this._loadImageLocal(ge)),null!=fe||(fe=this._loadImageSimple(ge)),null==fe?this.log("Texture "+ge+" could not be loaded, texture will be ignored.",ue.messageError):this._imageCache[ge]=fe,fe)},ue.prototype._loadImageThreejs=function(ge){var fe;return fe=THREE.ImageUtils.loadTexture(ge),fe.flipY=!1,fe},ue.prototype._loadImageSimple=function(ge){var fe,ce;return fe=new Image,ce=new THREE.Texture(fe),ce.flipY=!1,ce.wrapS=THREE.RepeatWrapping,ce.wrapT=THREE.RepeatWrapping,fe.onload=function(){return ce.needsUpdate=!0},fe.crossOrigin="anonymous",fe.src=ge,ce},ue.prototype._loadImageLocal=function(ge){var fe,ce,he,_e,ye,xe,be;for(he in ce=this._removeSameDirectoryPath(ge),xe=this._imageCache,xe)if(ye=xe[he],fe=this._removeSameDirectoryPath(he),0<=ce.indexOf(fe)){_e=ye;break}if(ce=this._removeSameDirectoryPath(this._removeFileExtension(ge)),null==_e)for(he in be=this._imageCache,be)if(ye=be[he],fe=this._removeSameDirectoryPath(this._removeFileExtension(he)),0<=ce.indexOf(fe)){_e=ye;break}return _e},ue.prototype._removeFileExtension=function(ge){return ge.substr(0,ge.lastIndexOf("."))||ge},ue.prototype._removeSameDirectoryPath=function(ge){return ge.replace(/^.\//,"")},ue}(),se=function(ue){var ge;return 0<ue.length?(ge=ue.trim(),ge.split(/\s+/)):[]},oe=function(ue){var ge,fe,ce,he,_e;for(he=se(ue),ge=new Float32Array(he.length),(fe=0,_e=he.length);fe<_e;fe++)ce=he[fe],ge[fe]=parseFloat(ce);return ge},de=function(ue){var ge,fe,ce,he,_e;for(he=se(ue),ge=new Int32Array(he.length),(fe=0,_e=he.length);fe<_e;fe++)ce=he[fe],ge[fe]=parseInt(ce,10);return ge},ae=function(ue){var ge,fe,ce,he,_e,ye;for(he=se(ue),ge=new Uint8Array(he.length),(fe=0,_e=he.length);fe<_e;fe++)ce=he[fe],ge[fe]=null==(ye="true"===ce||"1"===ce)?{1:0}:ye;return ge},re=function(ue){var ge;return ge=oe(ue),4===ge.length?ge:null},Z=function(ue){return null==ue?null:Math.floor(255*ue[0])<<16^Math.floor(255*ue[1])<<8^Math.floor(255*ue[2])},te=function(ue,ge){return new THREE.Matrix4(ue[0+ge],ue[4+ge],ue[8+ge],ue[12+ge],ue[1+ge],ue[5+ge],ue[9+ge],ue[13+ge],ue[2+ge],ue[6+ge],ue[10+ge],ue[14+ge],ue[3+ge],ue[7+ge],ue[11+ge],ue[15+ge])},ne=function(ue,ge){return new THREE.Matrix4(ue[0+ge],ue[1+ge],ue[2+ge],ue[3+ge],ue[4+ge],ue[5+ge],ue[6+ge],ue[7+ge],ue[8+ge],ue[9+ge],ue[10+ge],ue[11+ge],ue[12+ge],ue[13+ge],ue[14+ge],ue[15+ge])},$=function(ue,ge,fe){return fe.set(ue[0+ge],ue[4+ge],ue[8+ge],ue[12+ge],ue[1+ge],ue[5+ge],ue[9+ge],ue[13+ge],ue[2+ge],ue[6+ge],ue[10+ge],ue[14+ge],ue[3+ge],ue[7+ge],ue[11+ge],ue[15+ge])},ee=function(ue,ge,fe){return fe.set(ue[0+ge],ue[1+ge],ue[2+ge],ue[3+ge],ue[4+ge],ue[5+ge],ue[6+ge],ue[7+ge],ue[8+ge],ue[9+ge],ue[10+ge],ue[11+ge],ue[12+ge],ue[13+ge],ue[14+ge],ue[15+ge])},Y=function(ue){var ge,fe,ce,he;if(he=ue.elements,0!==he[3]||0!==he[7]||0!==he[11]||1!==he[15])throw new Error("Last row isnt [0,0,0,1]");if(ge=Math.sqrt(he[0]*he[0]+he[1]*he[1]+he[2]*he[2]),fe=Math.sqrt(he[4]*he[4]+he[5]*he[5]+he[6]*he[6]),ce=Math.sqrt(he[8]*he[8]+he[9]*he[9]+he[10]*he[10]),0.9>ge||1.1<ge)throw new Error("First column has significant scaling");if(0.9>fe||1.1<fe)throw new Error("Second column has significant scaling");if(0.9>ce||1.1<ce)throw new Error("Third column has significant scaling")},ie=function(ue){return new THREE.Vector3(ue[0],ue[1],ue[2])},B=Math.PI/180,L.prototype.setLog=L.prototype.setLog,L.prototype.addChachedTextures=L.prototype.addChachedTextures,L.prototype.load=L.prototype.load,L.prototype.parse=L.prototype.parse,"undefined"!==typeof module&&null!==module?module.exports=L:"undefined"!==typeof window&&null!==window&&(window.ColladaLoader2=L)}).call(this);</script><script>THREE.STLLoader=function(){},THREE.STLLoader.prototype={constructor:THREE.STLLoader},THREE.STLLoader.prototype.load=function(a,c){var e=this,f=new XMLHttpRequest;f.addEventListener('load',function(g){if(200===g.target.status||0===g.target.status){var h=e.parse(g.target.response||g.target.responseText);e.dispatchEvent({type:'load',content:h}),c&&c(h)}else e.dispatchEvent({type:'error',message:'Couldn\'t load URL ['+a+']',response:g.target.responseText})},!1),f.addEventListener('progress',function(g){e.dispatchEvent({type:'progress',loaded:g.loaded,total:g.total})},!1),f.addEventListener('error',function(){e.dispatchEvent({type:'error',message:'Couldn\'t load URL ['+a+']'})},!1),f.overrideMimeType('text/plain; charset=x-user-defined'),f.open('GET',a,!0),f.responseType='arraybuffer',f.send(null)},THREE.STLLoader.prototype.parse=function(a){var d=this.ensureBinary(a);return function(){var e,f,g,h;return h=new DataView(d),f=50,g=h.getUint32(80,!0),e=84+g*f,e===h.byteLength}()?this.parseBinary(d):this.parseASCII(this.ensureString(a))},THREE.STLLoader.prototype.parseBinary=function(a){var c,d,e,f,g,h,j,k,l,m,n;for(f=new DataView(a),e=f.getUint32(80,!0),d=new THREE.Geometry,k=84,l=50,c=0;c<e;c++){for(m=k+c*l,h=new THREE.Vector3(f.getFloat32(m,!0),f.getFloat32(m+4,!0),f.getFloat32(m+8,!0)),j=1;3>=j;j++)n=m+12*j,d.vertices.push(new THREE.Vector3(f.getFloat32(n,!0),f.getFloat32(n+4,!0),f.getFloat32(n+8,!0)));g=d.vertices.length,d.faces.push(new THREE.Face3(g-3,g-2,g-1,h))}return d.computeCentroids(),d.computeBoundingSphere(),d},THREE.STLLoader.prototype.parseASCII=function(a){var c,d,e,f,g,h,j,k;for(c=new THREE.Geometry,f=/facet([\s\S]*?)endfacet/g;null!=(j=f.exec(a));){for(k=j[0],g=/normal[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!=(j=g.exec(k));)e=new THREE.Vector3(parseFloat(j[1]),parseFloat(j[3]),parseFloat(j[5]));for(h=/vertex[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!=(j=h.exec(k));)c.vertices.push(new THREE.Vector3(parseFloat(j[1]),parseFloat(j[3]),parseFloat(j[5])));d=c.vertices.length,c.faces.push(new THREE.Face3(d-3,d-2,d-1,e))}return c.computeCentroids(),c.computeBoundingBox(),c.computeBoundingSphere(),c},THREE.STLLoader.prototype.ensureString=function(a){if('string'!==typeof a){for(var c=new Uint8Array(a),d='',e=0;e<a.byteLength;e++)d+=String.fromCharCode(c[e]);return d}return a},THREE.STLLoader.prototype.ensureBinary=function(a){if('string'===typeof a){for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=255&a.charCodeAt(d);return c.buffer||c}return a},THREE.EventDispatcher.prototype.apply(THREE.STLLoader.prototype),'undefined'===typeof DataView&&(DataView=function(a,c,d){this.buffer=a,this.byteOffset=c||0,this.byteLength=d||a.byteLength||a.length,this._isString='string'===typeof a},DataView.prototype={_getCharCodes:function(a,c,d){c=c||0,d=d||a.length;for(var e=c+d,f=[],g=c;g<e;g++)f.push(255&a.charCodeAt(g));return f},_getBytes:function(a,c,d){var e;if(void 0===d&&(d=this._littleEndian),c=void 0===c?this.byteOffset:this.byteOffset+c,void 0===a&&(a=this.byteLength-c),'number'!==typeof c)throw new TypeError('DataView byteOffset is not a number');if(0>a||c+a>this.byteLength)throw new Error('DataView length or (byteOffset+length) value is out of bounds');return e=this.isString?this._getCharCodes(this.buffer,c,c+a):this.buffer.slice(c,c+a),!d&&1<a&&(!(e instanceof Array)&&(e=Array.prototype.slice.call(e)),e.reverse()),e},getFloat64:function(a,c){var d=this._getBytes(8,a,c),e=1-2*(d[7]>>7),f=((255&d[7]<<1)<<3|d[6]>>4)-1023,g=(15&d[6])*Math.pow(2,48)+d[5]*Math.pow(2,40)+d[4]*Math.pow(2,32)+d[3]*Math.pow(2,24)+d[2]*Math.pow(2,16)+d[1]*Math.pow(2,8)+d[0];return 1024===f?0===g?e*Infinity:NaN:-1023===f?e*g*Math.pow(2,-1074):e*(1+g*Math.pow(2,-52))*Math.pow(2,f)},getFloat32:function(a,c){var d=this._getBytes(4,a,c),e=1-2*(d[3]>>7),f=(255&d[3]<<1|d[2]>>7)-127,g=(127&d[2])<<16|d[1]<<8|d[0];return 128===f?0===g?e*Infinity:NaN:-127===f?e*g*Math.pow(2,-149):e*(1+g*Math.pow(2,-23))*Math.pow(2,f)},getInt32:function(a,c){var d=this._getBytes(4,a,c);return d[3]<<24|d[2]<<16|d[1]<<8|d[0]},getUint32:function(a,c){return this.getInt32(a,c)>>>0},getInt16:function(a,c){return this.getUint16(a,c)<<16>>16},getUint16:function(a,c){var d=this._getBytes(2,a,c);return d[1]<<8|d[0]},getInt8:function(a){return this.getUint8(a)<<24>>24},getUint8:function(a){return this._getBytes(1,a)[0]}});</script><script>var ROS3D=ROS3D||{REVISION:'0.17.0-SNAPSHOT'};ROS3D.MARKER_ARROW=0,ROS3D.MARKER_CUBE=1,ROS3D.MARKER_SPHERE=2,ROS3D.MARKER_CYLINDER=3,ROS3D.MARKER_LINE_STRIP=4,ROS3D.MARKER_LINE_LIST=5,ROS3D.MARKER_CUBE_LIST=6,ROS3D.MARKER_SPHERE_LIST=7,ROS3D.MARKER_POINTS=8,ROS3D.MARKER_TEXT_VIEW_FACING=9,ROS3D.MARKER_MESH_RESOURCE=10,ROS3D.MARKER_TRIANGLE_LIST=11,ROS3D.INTERACTIVE_MARKER_KEEP_ALIVE=0,ROS3D.INTERACTIVE_MARKER_POSE_UPDATE=1,ROS3D.INTERACTIVE_MARKER_MENU_SELECT=2,ROS3D.INTERACTIVE_MARKER_BUTTON_CLICK=3,ROS3D.INTERACTIVE_MARKER_MOUSE_DOWN=4,ROS3D.INTERACTIVE_MARKER_MOUSE_UP=5,ROS3D.INTERACTIVE_MARKER_NONE=0,ROS3D.INTERACTIVE_MARKER_MENU=1,ROS3D.INTERACTIVE_MARKER_BUTTON=2,ROS3D.INTERACTIVE_MARKER_MOVE_AXIS=3,ROS3D.INTERACTIVE_MARKER_MOVE_PLANE=4,ROS3D.INTERACTIVE_MARKER_ROTATE_AXIS=5,ROS3D.INTERACTIVE_MARKER_MOVE_ROTATE=6,ROS3D.INTERACTIVE_MARKER_INHERIT=0,ROS3D.INTERACTIVE_MARKER_FIXED=1,ROS3D.INTERACTIVE_MARKER_VIEW_FACING=2,ROS3D.COLLADA_LOADER=1,ROS3D.COLLADA_LOADER_2=2,ROS3D.makeColorMaterial=function(e,s,u,h){var y=new THREE.Color;return y.setRGB(e,s,u),0.99>=h?new THREE.MeshBasicMaterial({color:y.getHex(),opacity:h+0.1,transparent:!0,depthWrite:!0,blendSrc:THREE.SrcAlphaFactor,blendDst:THREE.OneMinusSrcAlphaFactor,blendEquation:THREE.ReverseSubtractEquation,blending:THREE.NormalBlending}):new THREE.MeshPhongMaterial({color:y.getHex(),opacity:h,blending:THREE.NormalBlending})},ROS3D.intersectPlane=function(e,s,u){var h=new THREE.Vector3,y=new THREE.Vector3;h.subVectors(s,e.origin);var f=e.direction.dot(u);if(!(Math.abs(f)<e.precision)){var E=u.dot(h)/f;return y.addVectors(e.origin,e.direction.clone().multiplyScalar(E)),y}},ROS3D.findClosestPoint=function(e,s){var u=new THREE.Vector3;u.subVectors(e.origin,s.origin);var h=s.direction.clone(),y=e.direction.clone(),f=u.dot(h),E=h.dot(y),_=u.dot(y),M=h.dot(h),T=y.dot(y),C=T*M-E*E;if(!(1e-4>=Math.abs(C))){return(f*E-_*M)/C}},ROS3D.closestAxisPoint=function(e,s,u){var h=new THREE.Projector,y=e.origin.clone();h.projectVector(y,s);var f=e.direction.clone().add(e.origin);h.projectVector(f,s);var E=f.clone().sub(y),_=new THREE.Vector2,M=_.subVectors(u,y).dot(E)/E.dot(E),T=new THREE.Vector2;T.addVectors(y,E.clone().multiplyScalar(M));var C=new THREE.Vector3(T.x,T.y,0.5);h.unprojectVector(C,s);var R=new THREE.Ray(s.position,C.sub(s.position).normalize());return ROS3D.findClosestPoint(e,R)},ROS3D.DepthCloud=function(e){e=e||{},THREE.Object3D.call(this),this.url=e.url,this.streamType=e.streamType||'vp8',this.f=e.f||526,this.pointSize=e.pointSize||3,this.width=e.width||1024,this.height=e.height||1024,this.whiteness=e.whiteness||0,this.varianceThreshold=e.varianceThreshold||1.6667e-5;this.isMjpeg='mjpeg'===this.streamType.toLowerCase(),this.video=document.createElement(this.isMjpeg?'img':'video'),this.video.addEventListener(this.isMjpeg?'load':'loadedmetadata',this.metaLoaded.bind(this),!1),this.isMjpeg||(this.video.loop=!0),this.video.src=this.url,this.video.crossOrigin='Anonymous',this.video.setAttribute('crossorigin','Anonymous'),this.vertex_shader=['uniform sampler2D map;','','uniform float width;','uniform float height;','uniform float nearClipping, farClipping;','','uniform float pointSize;','uniform float zOffset;','','uniform float focallength;','','varying vec2 vUvP;','varying vec2 colorP;','','varying float depthVariance;','varying float maskVal;','','float sampleDepth(vec2 pos)','  {','    float depth;','    ','    vec2 vUv = vec2( pos.x / (width*2.0), pos.y / (height*2.0)+0.5 );','    vec2 vUv2 = vec2( pos.x / (width*2.0)+0.5, pos.y / (height*2.0)+0.5 );','    ','    vec4 depthColor = texture2D( map, vUv );','    ','    depth = ( depthColor.r + depthColor.g + depthColor.b ) / 3.0 ;','    ','    if (depth>0.99)','    {','      vec4 depthColor2 = texture2D( map, vUv2 );','      float depth2 = ( depthColor2.r + depthColor2.g + depthColor2.b ) / 3.0 ;','      depth = 0.99+depth2;','    }','    ','    return depth;','  }','','float median(float a, float b, float c)','  {','    float r=a;','    ','    if ( (a<b) && (b<c) )','    {','      r = b;','    }','    if ( (a<c) && (c<b) )','    {','      r = c;','    }','    return r;','  }','','float variance(float d1, float d2, float d3, float d4, float d5, float d6, float d7, float d8, float d9)','  {','    float mean = (d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9) / 9.0;','    float t1 = (d1-mean);','    float t2 = (d2-mean);','    float t3 = (d3-mean);','    float t4 = (d4-mean);','    float t5 = (d5-mean);','    float t6 = (d6-mean);','    float t7 = (d7-mean);','    float t8 = (d8-mean);','    float t9 = (d9-mean);','    float v = (t1*t1+t2*t2+t3*t3+t4*t4+t5*t5+t6*t6+t7*t7+t8*t8+t9*t9)/9.0;','    return v;','  }','','vec2 decodeDepth(vec2 pos)','  {','    vec2 ret;','    ','    ','    float depth1 = sampleDepth(vec2(position.x-1.0, position.y-1.0));','    float depth2 = sampleDepth(vec2(position.x, position.y-1.0));','    float depth3 = sampleDepth(vec2(position.x+1.0, position.y-1.0));','    float depth4 = sampleDepth(vec2(position.x-1.0, position.y));','    float depth5 = sampleDepth(vec2(position.x, position.y));','    float depth6 = sampleDepth(vec2(position.x+1.0, position.y));','    float depth7 = sampleDepth(vec2(position.x-1.0, position.y+1.0));','    float depth8 = sampleDepth(vec2(position.x, position.y+1.0));','    float depth9 = sampleDepth(vec2(position.x+1.0, position.y+1.0));','    ','    float median1 = median(depth1, depth2, depth3);','    float median2 = median(depth4, depth5, depth6);','    float median3 = median(depth7, depth8, depth9);','    ','    ret.x = median(median1, median2, median3);','    ret.y = variance(depth1, depth2, depth3, depth4, depth5, depth6, depth7, depth8, depth9);','    ','    return ret;','    ','  }','','','void main() {','  ','  vUvP = vec2( position.x / (width*2.0), position.y / (height*2.0)+0.5 );','  colorP = vec2( position.x / (width*2.0)+0.5 , position.y / (height*2.0)  );','  ','  vec4 pos = vec4(0.0,0.0,0.0,0.0);','  depthVariance = 0.0;','  ','  if ( (vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>0.0))','  {','    vec2 smp = decodeDepth(vec2(position.x, position.y));','    float depth = smp.x;','    depthVariance = smp.y;','    ','    float z = -depth;','    ','    pos = vec4(','      ( position.x / width - 0.5 ) * z * (1000.0/focallength) * -1.0,','      ( position.y / height - 0.5 ) * z * (1000.0/focallength),','      (- z + zOffset / 1000.0) * 2.0,','      1.0);','    ','    vec2 maskP = vec2( position.x / (width*2.0), position.y / (height*2.0)  );','    vec4 maskColor = texture2D( map, maskP );','    maskVal = ( maskColor.r + maskColor.g + maskColor.b ) / 3.0 ;','  }','  ','  gl_PointSize = pointSize;','  gl_Position = projectionMatrix * modelViewMatrix * pos;','  ','}'].join('\n'),this.fragment_shader=['uniform sampler2D map;','uniform float varianceThreshold;','uniform float whiteness;','','varying vec2 vUvP;','varying vec2 colorP;','','varying float depthVariance;','varying float maskVal;','','','void main() {','  ','  vec4 color;','  ','  if ( (depthVariance>varianceThreshold) || (maskVal>0.5) ||(vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>1.0))','  {  ','    discard;','  }','  else ','  {','    color = texture2D( map, colorP );','    ','    float fader = whiteness /100.0;','    ','    color.r = color.r * (1.0-fader)+ fader;','    ','    color.g = color.g * (1.0-fader)+ fader;','    ','    color.b = color.b * (1.0-fader)+ fader;','    ','    color.a = 1.0;//smoothstep( 20000.0, -20000.0, gl_FragCoord.z / gl_FragCoord.w );','  }','  ','  gl_FragColor = vec4( color.r, color.g, color.b, color.a );','  ','}'].join('\n')},ROS3D.DepthCloud.prototype.__proto__=THREE.Object3D.prototype,ROS3D.DepthCloud.prototype.metaLoaded=function(){this.metaLoaded=!0,this.initStreamer()},ROS3D.DepthCloud.prototype.initStreamer=function(){if(this.metaLoaded){this.texture=new THREE.Texture(this.video),this.geometry=new THREE.Geometry;for(var u,e=0,s=this.width*this.height;e<s;e++)u=new THREE.Vector3,u.x=e%this.width,u.y=Math.floor(e/this.width),this.geometry.vertices.push(u);this.material=new THREE.ShaderMaterial({uniforms:{map:{type:'t',value:this.texture},width:{type:'f',value:this.width},height:{type:'f',value:this.height},focallength:{type:'f',value:this.f},pointSize:{type:'f',value:this.pointSize},zOffset:{type:'f',value:0},whiteness:{type:'f',value:this.whiteness},varianceThreshold:{type:'f',value:this.varianceThreshold}},vertexShader:this.vertex_shader,fragmentShader:this.fragment_shader}),this.mesh=new THREE.ParticleSystem(this.geometry,this.material),this.mesh.position.x=0,this.mesh.position.y=0,this.add(this.mesh);var h=this;setInterval(function(){(h.isMjpeg||h.video.readyState===h.video.HAVE_ENOUGH_DATA)&&(h.texture.needsUpdate=!0)},1e3/30)}},ROS3D.DepthCloud.prototype.startStream=function(){this.isMjpeg||this.video.play()},ROS3D.DepthCloud.prototype.stopStream=function(){this.isMjpeg||this.video.pause()},ROS3D.InteractiveMarker=function(e){THREE.Object3D.call(this),THREE.EventDispatcher.call(this);var s=this;e=e||{};var u=e.handle;this.name=u.name;var h=e.camera,y=e.path||'/',f=e.loader||ROS3D.COLLADA_LOADER_2;this.dragging=!1,this.onServerSetPose({pose:u.pose}),this.dragStart={position:new THREE.Vector3,orientation:new THREE.Quaternion,positionWorld:new THREE.Vector3,orientationWorld:new THREE.Quaternion,event3d:{}},u.controls.forEach(function(E){s.add(new ROS3D.InteractiveMarkerControl({parent:s,handle:u,message:E,camera:h,path:y,loader:f}))}),0<u.menuEntries.length&&(this.menu=new ROS3D.InteractiveMarkerMenu({menuEntries:u.menuEntries,menuFontSize:u.menuFontSize}),this.menu.addEventListener('menu-select',function(E){s.dispatchEvent(E)}))},ROS3D.InteractiveMarker.prototype.__proto__=THREE.Object3D.prototype,ROS3D.InteractiveMarker.prototype.showMenu=function(e,s){this.menu&&this.menu.show(e,s)},ROS3D.InteractiveMarker.prototype.moveAxis=function(e,s,u){if(this.dragging){var h=e.currentControlOri,y=s.clone().applyQuaternion(h),f=this.dragStart.event3d.intersection.point,E=y.clone().applyQuaternion(this.dragStart.orientationWorld.clone()),_=new THREE.Ray(f,E),M=ROS3D.closestAxisPoint(_,u.camera,u.mousePos),T=new THREE.Vector3;T.addVectors(this.dragStart.position,y.clone().applyQuaternion(this.dragStart.orientation).multiplyScalar(M)),this.setPosition(e,T),u.stopPropagation()}},ROS3D.InteractiveMarker.prototype.movePlane=function(e,s,u){if(this.dragging){var h=e.currentControlOri,y=s.clone().applyQuaternion(h),f=this.dragStart.event3d.intersection.point,E=y.clone().applyQuaternion(this.dragStart.orientationWorld),_=ROS3D.intersectPlane(u.mouseRay,f,E),M=new THREE.Vector3;M.subVectors(_,f),M.add(this.dragStart.positionWorld),this.setPosition(e,M),u.stopPropagation()}},ROS3D.InteractiveMarker.prototype.rotateAxis=function(e,s,u){if(this.dragging){e.updateMatrixWorld();var h=e.currentControlOri,y=h.clone().multiply(s.clone()),f=new THREE.Vector3(1,0,0).applyQuaternion(y),E=this.dragStart.event3d.intersection.point,_=f.applyQuaternion(this.dragStart.orientationWorld),M=ROS3D.intersectPlane(u.mouseRay,E,_),T=new THREE.Ray(this.dragStart.positionWorld,_),C=ROS3D.intersectPlane(T,E,_),R=this.dragStart.orientationWorld.clone().multiply(y),O=R.clone().inverse();M.sub(C),M.applyQuaternion(O);var A=this.dragStart.event3d.intersection.point.clone();A.sub(C),A.applyQuaternion(O);var I=Math.atan2(M.y,M.z),S=Math.atan2(A.y,A.z),P=new THREE.Quaternion;P.setFromAxisAngle(f,S-I),this.setOrientation(e,P.multiply(this.dragStart.orientationWorld)),u.stopPropagation()}},ROS3D.InteractiveMarker.prototype.feedbackEvent=function(e,s){this.dispatchEvent({type:e,position:this.position.clone(),orientation:this.quaternion.clone(),controlName:s.name})},ROS3D.InteractiveMarker.prototype.startDrag=function(e,s){if(0===s.domEvent.button){s.stopPropagation(),this.dragging=!0,this.updateMatrixWorld(!0);var u=new THREE.Vector3;this.matrixWorld.decompose(this.dragStart.positionWorld,this.dragStart.orientationWorld,u),this.dragStart.position=this.position.clone(),this.dragStart.orientation=this.quaternion.clone(),this.dragStart.event3d=s,this.feedbackEvent('user-mousedown',e)}},ROS3D.InteractiveMarker.prototype.stopDrag=function(e,s){0===s.domEvent.button&&(s.stopPropagation(),this.dragging=!1,this.dragStart.event3d={},this.onServerSetPose(this.bufferedPoseEvent),this.bufferedPoseEvent=void 0,this.feedbackEvent('user-mouseup',e))},ROS3D.InteractiveMarker.prototype.buttonClick=function(e,s){s.stopPropagation(),this.feedbackEvent('user-button-click',e)},ROS3D.InteractiveMarker.prototype.setPosition=function(e,s){this.position=s,this.feedbackEvent('user-pose-change',e)},ROS3D.InteractiveMarker.prototype.setOrientation=function(e,s){s.normalize(),this.quaternion=s,this.feedbackEvent('user-pose-change',e)},ROS3D.InteractiveMarker.prototype.onServerSetPose=function(e){if(e!==void 0)if(this.dragging)this.bufferedPoseEvent=e;else{var s=e.pose;this.position.x=s.position.x,this.position.y=s.position.y,this.position.z=s.position.z,this.quaternion=new THREE.Quaternion(s.orientation.x,s.orientation.y,s.orientation.z,s.orientation.w),this.updateMatrixWorld(!0)}},ROS3D.InteractiveMarker.prototype.dispose=function(){var e=this;this.children.forEach(function(s){s.children.forEach(function(u){u.dispose(),s.remove(u)}),e.remove(s)})},THREE.EventDispatcher.prototype.apply(ROS3D.InteractiveMarker.prototype),ROS3D.InteractiveMarkerClient=function(e){this;e=e||{},this.ros=e.ros,this.tfClient=e.tfClient,this.topicName=e.topic,this.path=e.path||'/',this.camera=e.camera,this.rootObject=e.rootObject||new THREE.Object3D,this.loader=e.loader||ROS3D.COLLADA_LOADER_2,this.menuFontSize=e.menuFontSize||'0.8em',this.interactiveMarkers={},this.updateTopic=null,this.feedbackTopic=null,this.topicName&&this.subscribe(this.topicName)},ROS3D.InteractiveMarkerClient.prototype.subscribe=function(e){this.unsubscribe(),this.updateTopic=new ROSLIB.Topic({ros:this.ros,name:e+'/tunneled/update',messageType:'visualization_msgs/InteractiveMarkerUpdate',compression:'png'}),this.updateTopic.subscribe(this.processUpdate.bind(this)),this.feedbackTopic=new ROSLIB.Topic({ros:this.ros,name:e+'/feedback',messageType:'visualization_msgs/InteractiveMarkerFeedback',compression:'png'}),this.feedbackTopic.advertise(),this.initService=new ROSLIB.Service({ros:this.ros,name:e+'/tunneled/get_init',serviceType:'demo_interactive_markers/GetInit'});var s=new ROSLIB.ServiceRequest({});this.initService.callService(s,this.processInit.bind(this))},ROS3D.InteractiveMarkerClient.prototype.unsubscribe=function(){for(var e in this.updateTopic&&this.updateTopic.unsubscribe(),this.feedbackTopic&&this.feedbackTopic.unadvertise(),this.interactiveMarkers)this.eraseIntMarker(e);this.interactiveMarkers={}},ROS3D.InteractiveMarkerClient.prototype.processInit=function(e){var s=e.msg;for(var u in s.erases=[],this.interactiveMarkers)s.erases.push(u);s.poses=[],this.processUpdate(s)},ROS3D.InteractiveMarkerClient.prototype.processUpdate=function(e){var s=this;e.erases.forEach(function(u){s.eraseIntMarker(u)}),e.poses.forEach(function(u){var h=s.interactiveMarkers[u.name];h&&h.setPoseFromServer(u.pose)}),e.markers.forEach(function(u){var h=s.interactiveMarkers[u.name];h&&s.eraseIntMarker(h.name);var y=new ROS3D.InteractiveMarkerHandle({message:u,feedbackTopic:s.feedbackTopic,tfClient:s.tfClient,menuFontSize:s.menuFontSize});s.interactiveMarkers[u.name]=y;var f=new ROS3D.InteractiveMarker({handle:y,camera:s.camera,path:s.path,loader:s.loader});f.name=u.name,s.rootObject.add(f),y.on('pose',function(E){f.onServerSetPose({pose:E})}),f.addEventListener('user-pose-change',y.setPoseFromClientBound),f.addEventListener('user-mousedown',y.onMouseDownBound),f.addEventListener('user-mouseup',y.onMouseUpBound),f.addEventListener('user-button-click',y.onButtonClickBound),f.addEventListener('menu-select',y.onMenuSelectBound),y.subscribeTf()})},ROS3D.InteractiveMarkerClient.prototype.eraseIntMarker=function(e){if(this.interactiveMarkers[e]){var s=this.rootObject.getObjectByName(e);this.rootObject.remove(s);var u=this.interactiveMarkers[e];u.unsubscribeTf(),s.removeEventListener('user-pose-change',u.setPoseFromClientBound),s.removeEventListener('user-mousedown',u.onMouseDownBound),s.removeEventListener('user-mouseup',u.onMouseUpBound),s.removeEventListener('user-button-click',u.onButtonClickBound),s.removeEventListener('menu-select',u.onMenuSelectBound),delete this.interactiveMarkers[e],s.dispose()}},ROS3D.InteractiveMarkerControl=function(e){function s(R){R.stopPropagation()}var u=this;THREE.Object3D.call(this),e=e||{},this.parent=e.parent;var h=e.handle,y=e.message;this.name=y.name,this.camera=e.camera,this.path=e.path||'/',this.loader=e.loader||ROS3D.COLLADA_LOADER_2,this.dragging=!1,this.startMousePos=new THREE.Vector2;var f=new THREE.Quaternion(y.orientation.x,y.orientation.y,y.orientation.z,y.orientation.w);f.normalize();var E=new THREE.Vector3(1,0,0);switch(E.applyQuaternion(f),this.currentControlOri=new THREE.Quaternion,y.interaction_mode){case ROS3D.INTERACTIVE_MARKER_MOVE_AXIS:this.addEventListener('mousemove',this.parent.moveAxis.bind(this.parent,this,E)),this.addEventListener('touchmove',this.parent.moveAxis.bind(this.parent,this,E));break;case ROS3D.INTERACTIVE_MARKER_ROTATE_AXIS:this.addEventListener('mousemove',this.parent.rotateAxis.bind(this.parent,this,f));break;case ROS3D.INTERACTIVE_MARKER_MOVE_PLANE:this.addEventListener('mousemove',this.parent.movePlane.bind(this.parent,this,E));break;case ROS3D.INTERACTIVE_MARKER_BUTTON:this.addEventListener('click',this.parent.buttonClick.bind(this.parent,this));break;default:}y.interaction_mode!==ROS3D.INTERACTIVE_MARKER_NONE&&(this.addEventListener('mousedown',this.parent.startDrag.bind(this.parent,this)),this.addEventListener('mouseup',this.parent.stopDrag.bind(this.parent,this)),this.addEventListener('contextmenu',this.parent.showMenu.bind(this.parent,this)),this.addEventListener('mouseup',function(R){0===u.startMousePos.distanceToSquared(R.mousePos)&&(R.type='contextmenu',u.dispatchEvent(R))}),this.addEventListener('mouseover',s),this.addEventListener('mouseout',s),this.addEventListener('click',s),this.addEventListener('mousedown',function(R){u.startMousePos=R.mousePos}),this.addEventListener('touchstart',function(R){1===R.domEvent.touches.length&&(R.type='mousedown',R.domEvent.button=0,u.dispatchEvent(R))}),this.addEventListener('touchmove',function(R){1===R.domEvent.touches.length&&(R.type='mousemove',R.domEvent.button=0,u.dispatchEvent(R))}),this.addEventListener('touchend',function(R){0===R.domEvent.touches.length&&(R.domEvent.button=0,R.type='mouseup',u.dispatchEvent(R),R.type='click',u.dispatchEvent(R))}));var _=new THREE.Quaternion,M=this.parent.position.clone().multiplyScalar(-1);switch(y.orientation_mode){case ROS3D.INTERACTIVE_MARKER_INHERIT:_=this.parent.quaternion.clone().inverse(),this.updateMatrixWorld=function(R){ROS3D.InteractiveMarkerControl.prototype.updateMatrixWorld.call(u,R),u.currentControlOri.copy(u.quaternion),u.currentControlOri.normalize()};break;case ROS3D.INTERACTIVE_MARKER_FIXED:this.updateMatrixWorld=function(R){u.quaternion=u.parent.quaternion.clone().inverse(),u.updateMatrix(),u.matrixWorldNeedsUpdate=!0,ROS3D.InteractiveMarkerControl.prototype.updateMatrixWorld.call(u,R),u.currentControlOri.copy(u.quaternion)};break;case ROS3D.INTERACTIVE_MARKER_VIEW_FACING:var T=y.independent_marker_orientation;this.updateMatrixWorld=function(R){u.camera.updateMatrixWorld();var O=new THREE.Matrix4().extractRotation(u.camera.matrixWorld),A=new THREE.Matrix4,I=0.5*Math.PI,S=new THREE.Euler(-I,0,I);A.makeRotationFromEuler(S);var D=new THREE.Matrix4;D.getInverse(u.parent.matrixWorld),O.multiplyMatrices(O,A),O.multiplyMatrices(D,O),u.currentControlOri.setFromRotationMatrix(O),T||(u.quaternion.copy(u.currentControlOri),u.updateMatrix(),u.matrixWorldNeedsUpdate=!0),ROS3D.InteractiveMarkerControl.prototype.updateMatrixWorld.call(u,R)};break;default:console.error('Unkown orientation mode: '+y.orientation_mode);}var C=new ROSLIB.TFClient({ros:h.tfClient.ros,fixedFrame:h.message.header.frame_id,serverName:h.tfClient.serverName});y.markers.forEach(function(R){var O=function(A){var I=new ROS3D.Marker({message:R,path:u.path,loader:u.loader});if(null!==A){var S=new ROSLIB.Pose({position:I.position,orientation:I.quaternion});S.applyTransform(new ROSLIB.Transform(A));var D=new ROS3D.Marker({message:R,path:u.path,loader:u.loader});D.position.add(M),D.position.applyQuaternion(_),D.quaternion.multiplyQuaternions(_,D.quaternion);var P=new THREE.Vector3(D.position.x,D.position.y,D.position.z),L=new ROSLIB.Transform({translation:P,orientation:D.quaternion});S.applyTransform(L),I.setPose(S),I.updateMatrixWorld(),C.unsubscribe(R.header.frame_id)}u.add(I)};''===R.header.frame_id?O(null):C.subscribe(R.header.frame_id,O)})},ROS3D.InteractiveMarkerControl.prototype.__proto__=THREE.Object3D.prototype,ROS3D.InteractiveMarkerHandle=function(e){e=e||{},this.message=e.message,this.feedbackTopic=e.feedbackTopic,this.tfClient=e.tfClient,this.menuFontSize=e.menuFontSize||'0.8em',this.name=this.message.name,this.header=this.message.header,this.controls=this.message.controls,this.menuEntries=this.message.menu_entries,this.dragging=!1,this.timeoutHandle=null,this.tfTransform=new ROSLIB.Transform,this.pose=new ROSLIB.Pose,this.setPoseFromClientBound=this.setPoseFromClient.bind(this),this.onMouseDownBound=this.onMouseDown.bind(this),this.onMouseUpBound=this.onMouseUp.bind(this),this.onButtonClickBound=this.onButtonClick.bind(this),this.onMenuSelectBound=this.onMenuSelect.bind(this),this.setPoseFromServer(this.message.pose),this.tfUpdateBound=this.tfUpdate.bind(this)},ROS3D.InteractiveMarkerHandle.prototype.__proto__=EventEmitter2.prototype,ROS3D.InteractiveMarkerHandle.prototype.subscribeTf=function(){0===this.message.header.stamp.secs&&0===this.message.header.stamp.nsecs&&this.tfClient.subscribe(this.message.header.frame_id,this.tfUpdateBound)},ROS3D.InteractiveMarkerHandle.prototype.unsubscribeTf=function(){this.tfClient.unsubscribe(this.message.header.frame_id,this.tfUpdateBound)},ROS3D.InteractiveMarkerHandle.prototype.emitServerPoseUpdate=function(){var e=new ROSLIB.Pose(this.pose);e.applyTransform(this.tfTransform),this.emit('pose',e)},ROS3D.InteractiveMarkerHandle.prototype.setPoseFromServer=function(e){this.pose=new ROSLIB.Pose(e),this.emitServerPoseUpdate()},ROS3D.InteractiveMarkerHandle.prototype.tfUpdate=function(e){this.tfTransform=new ROSLIB.Transform(e),this.emitServerPoseUpdate()},ROS3D.InteractiveMarkerHandle.prototype.setPoseFromClient=function(e){this.pose=new ROSLIB.Pose(e);var s=this.tfTransform.clone();s.rotation.invert(),s.translation.multiplyQuaternion(s.rotation),s.translation.x*=-1,s.translation.y*=-1,s.translation.z*=-1,this.pose.applyTransform(s),this.sendFeedback(ROS3D.INTERACTIVE_MARKER_POSE_UPDATE,void 0,0,e.controlName),this.dragging&&(this.timeoutHandle&&clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout(this.setPoseFromClient.bind(this,e),250))},ROS3D.InteractiveMarkerHandle.prototype.onButtonClick=function(e){this.sendFeedback(ROS3D.INTERACTIVE_MARKER_BUTTON_CLICK,e.clickPosition,0,e.controlName)},ROS3D.InteractiveMarkerHandle.prototype.onMouseDown=function(e){this.sendFeedback(ROS3D.INTERACTIVE_MARKER_MOUSE_DOWN,e.clickPosition,0,e.controlName),this.dragging=!0},ROS3D.InteractiveMarkerHandle.prototype.onMouseUp=function(e){this.sendFeedback(ROS3D.INTERACTIVE_MARKER_MOUSE_UP,e.clickPosition,0,e.controlName),this.dragging=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)},ROS3D.InteractiveMarkerHandle.prototype.onMenuSelect=function(e){this.sendFeedback(ROS3D.INTERACTIVE_MARKER_MENU_SELECT,void 0,e.id,e.controlName)},ROS3D.InteractiveMarkerHandle.prototype.sendFeedback=function(e,s,u,h){var y=s!==void 0;s=s||{x:0,y:0,z:0};var f={header:this.header,client_id:this.clientID,marker_name:this.name,control_name:h,event_type:e,pose:this.pose,mouse_point:s,mouse_point_valid:y,menu_entry_id:u};this.feedbackTopic.publish(f)},ROS3D.InteractiveMarkerMenu=function(e){function s(D,P){this.dispatchEvent({type:'menu-select',domEvent:P,id:D.id,controlName:this.controlName}),this.hide(P)}function u(D,P){var L=document.createElement('ul');D.appendChild(L);for(var V=P.children,N=0;N<V.length;N++){var w=document.createElement('li'),U=document.createElement('div');U.appendChild(document.createTextNode(V[N].title)),L.appendChild(w),w.appendChild(U),0<V[N].children.length?(u(w,V[N]),U.addEventListener('click',h.hide.bind(h)),U.addEventListener('touchstart',h.hide.bind(h))):(U.addEventListener('click',s.bind(h,V[N])),U.addEventListener('touchstart',s.bind(h,V[N])),U.className='default-interactive-marker-menu-entry')}}var h=this;e=e||{};var y=e.menuEntries,f=e.className||'default-interactive-marker-menu',E=e.entryClassName||'default-interactive-marker-menu-entry',_=e.overlayClassName||'default-interactive-marker-overlay',M=e.menuFontSize||'0.8em',T=[];if(T[0]={children:[]},THREE.EventDispatcher.call(this),null===document.getElementById('default-interactive-marker-menu-css')){var C=document.createElement('style');C.id='default-interactive-marker-menu-css',C.type='text/css',C.innerHTML='.default-interactive-marker-menu {background-color: #444444;border: 1px solid #888888;border: 1px solid #888888;padding: 0px 0px 0px 0px;color: #FFFFFF;font-family: sans-serif;font-size: '+M+';z-index: 1002;}.default-interactive-marker-menu ul {padding: 0px 0px 5px 0px;margin: 0px;list-style-type: none;}.default-interactive-marker-menu ul li div {-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;cursor: default;padding: 3px 10px 3px 10px;}.default-interactive-marker-menu-entry:hover {  background-color: #666666;  cursor: pointer;}.default-interactive-marker-menu ul ul {  font-style: italic;  padding-left: 10px;}.default-interactive-marker-overlay {  position: absolute;  top: 0%;  left: 0%;  width: 100%;  height: 100%;  background-color: black;  z-index: 1001;  -moz-opacity: 0.0;  opacity: .0;  filter: alpha(opacity = 0);}',document.getElementsByTagName('head')[0].appendChild(C)}this.menuDomElem=document.createElement('div'),this.menuDomElem.style.position='absolute',this.menuDomElem.className=f,this.menuDomElem.addEventListener('contextmenu',function(D){D.preventDefault()}),this.overlayDomElem=document.createElement('div'),this.overlayDomElem.className=_,this.hideListener=this.hide.bind(this),this.overlayDomElem.addEventListener('contextmenu',this.hideListener),this.overlayDomElem.addEventListener('click',this.hideListener),this.overlayDomElem.addEventListener('touchstart',this.hideListener);var R,O,A;for(R=0;R<y.length;R++)O=y[R],A=O.id,T[A]={title:O.title,id:A,children:[]};for(R=0;R<y.length;R++){O=y[R],A=O.id;var I=T[A],S=T[O.parent_id];S.children.push(I)}u(this.menuDomElem,T[0])},ROS3D.InteractiveMarkerMenu.prototype.show=function(e,s){s&&s.preventDefault&&s.preventDefault(),this.controlName=e.name,s.domEvent.changedTouches===void 0?(this.menuDomElem.style.left=s.domEvent.clientX+'px',this.menuDomElem.style.top=s.domEvent.clientY+'px'):(this.menuDomElem.style.left=s.domEvent.changedTouches[0].pageX+'px',this.menuDomElem.style.top=s.domEvent.changedTouches[0].pageY+'px'),document.body.appendChild(this.overlayDomElem),document.body.appendChild(this.menuDomElem)},ROS3D.InteractiveMarkerMenu.prototype.hide=function(e){e&&e.preventDefault&&e.preventDefault(),document.body.removeChild(this.overlayDomElem),document.body.removeChild(this.menuDomElem)},THREE.EventDispatcher.prototype.apply(ROS3D.InteractiveMarkerMenu.prototype),ROS3D.Marker=function(e){e=e||{};var s=e.path||'/',u=e.message,h=e.loader||ROS3D.COLLADA_LOADER_2;'/'!==s.substr(s.length-1)&&(s+='/'),THREE.Object3D.call(this),this.msgScale=u.scale?[u.scale.x,u.scale.y,u.scale.z]:[1,1,1],this.msgColor=u.color,this.msgMesh=void 0,this.setPose(u.pose);var y=ROS3D.makeColorMaterial(this.msgColor.r,this.msgColor.g,this.msgColor.b,this.msgColor.a);switch(u.type){case ROS3D.MARKER_ARROW:var f=u.scale.x,E=0.23*f,_=u.scale.y,M=0.5*_,T,C=null;if(2===u.points.length){C=new THREE.Vector3(u.points[0].x,u.points[0].y,u.points[0].z);var R=new THREE.Vector3(u.points[1].x,u.points[1].y,u.points[1].z);T=C.clone().negate().add(R),f=T.length(),_=u.scale.y,M=u.scale.x,0!==u.scale.z&&(E=u.scale.z)}this.add(new ROS3D.Arrow({direction:T,origin:C,length:f,headLength:E,shaftDiameter:M,headDiameter:_,material:y}));break;case ROS3D.MARKER_CUBE:var O=new THREE.CubeGeometry(u.scale.x,u.scale.y,u.scale.z);this.add(new THREE.Mesh(O,y));break;case ROS3D.MARKER_SPHERE:var A=new THREE.SphereGeometry(0.5),I=new THREE.Mesh(A,y);I.scale.x=u.scale.x,I.scale.y=u.scale.y,I.scale.z=u.scale.z,this.add(I);break;case ROS3D.MARKER_CYLINDER:var S=new THREE.CylinderGeometry(0.5,0.5,1,16,1,!1),D=new THREE.Mesh(S,y);D.quaternion.setFromAxisAngle(new THREE.Vector3(1,0,0),0.5*Math.PI),D.scale=new THREE.Vector3(u.scale.x,u.scale.z,u.scale.y),this.add(D);break;case ROS3D.MARKER_LINE_STRIP:var P=new THREE.Geometry,L=new THREE.LineBasicMaterial({size:u.scale.x}),V;for(V=0;V<u.points.length;V++){var N=new THREE.Vector3;N.x=u.points[V].x,N.y=u.points[V].y,N.z=u.points[V].z,P.vertices.push(N)}if(u.colors.length===u.points.length)for(L.vertexColors=!0,V=0;V<u.points.length;V++){var w=new THREE.Color;w.setRGB(u.colors[V].r,u.colors[V].g,u.colors[V].b),P.colors.push(w)}else L.color.setRGB(u.color.r,u.color.g,u.color.b);this.add(new THREE.Line(P,L));break;case ROS3D.MARKER_LINE_LIST:var U=new THREE.Geometry,K=new THREE.LineBasicMaterial({size:u.scale.x}),B;for(B=0;B<u.points.length;B++){var G=new THREE.Vector3;G.x=u.points[B].x,G.y=u.points[B].y,G.z=u.points[B].z,U.vertices.push(G)}if(u.colors.length===u.points.length)for(K.vertexColors=!0,B=0;B<u.points.length;B++){var F=new THREE.Color;F.setRGB(u.colors[B].r,u.colors[B].g,u.colors[B].b),U.colors.push(F)}else K.color.setRGB(u.color.r,u.color.g,u.color.b);this.add(new THREE.Line(U,K,THREE.LinePieces));break;case ROS3D.MARKER_CUBE_LIST:var H=new THREE.Object3D,W=u.points.length,Q=W===u.colors.length,X=Math.ceil(W/1250),Y,Z,J,$;for(Y=0;Y<W;Y+=X)Z=new THREE.CubeGeometry(u.scale.x,u.scale.y,u.scale.z),J=Q?ROS3D.makeColorMaterial(u.colors[Y].r,u.colors[Y].g,u.colors[Y].b,u.colors[Y].a):y,$=new THREE.Mesh(Z,J),$.position.x=u.points[Y].x,$.position.y=u.points[Y].y,$.position.z=u.points[Y].z,H.add($);this.add(H);break;case ROS3D.MARKER_SPHERE_LIST:var ee=new THREE.Object3D,te=u.points.length,oe=te===u.colors.length,re=Math.ceil(te/1250),ae,ie,se,ne;for(ae=0;ae<te;ae+=re)ie=new THREE.SphereGeometry(0.5,8,8),se=oe?ROS3D.makeColorMaterial(u.colors[ae].r,u.colors[ae].g,u.colors[ae].b,u.colors[ae].a):y,ne=new THREE.Mesh(ie,se),ne.scale.x=u.scale.x,ne.scale.y=u.scale.y,ne.scale.z=u.scale.z,ne.position.x=u.points[ae].x,ne.position.y=u.points[ae].y,ne.position.z=u.points[ae].z,ee.add(ne);this.add(ee);break;case ROS3D.MARKER_POINTS:var ce=new THREE.Geometry,pe=new THREE.ParticleBasicMaterial({size:u.scale.x}),le;for(le=0;le<u.points.length;le++){var de=new THREE.Vector3;de.x=u.points[le].x,de.y=u.points[le].y,de.z=u.points[le].z,ce.vertices.push(de)}if(u.colors.length===u.points.length)for(pe.vertexColors=!0,le=0;le<u.points.length;le++){var ue=new THREE.Color;ue.setRGB(u.colors[le].r,u.colors[le].g,u.colors[le].b),ce.colors.push(ue)}else pe.color.setRGB(u.color.r,u.color.g,u.color.b);this.add(new THREE.ParticleSystem(ce,pe));break;case ROS3D.MARKER_TEXT_VIEW_FACING:if(0<u.text.length){var me=this.msgColor,he=document.createElement('canvas'),ge=he.getContext('2d'),be=100,ye='normal '+be+'px sans-serif';ge.font=ye;var fe=ge.measureText(u.text),ve=fe.width;he.width=ve,he.height=1.5*be,ge.font=ye,ge.fillStyle='rgba('+me.r+', '+me.g+', '+me.b+', '+me.a+')',ge.textAlign='left',ge.textBaseline='middle',ge.fillText(u.text,0,he.height/2);var Ee=new THREE.Texture(he);Ee.needsUpdate=!0;var _e=new THREE.SpriteMaterial({map:Ee,useScreenCoordinates:!1}),Me=new THREE.Sprite(_e),Te=u.scale.x;Me.scale.set(ve/he.height*Te,Te,1),this.add(Me)}break;case ROS3D.MARKER_MESH_RESOURCE:var Ce=null;(0!==u.color.r||0!==u.color.g||0!==u.color.b||0!==u.color.a)&&(Ce=y),this.msgMesh=u.mesh_resource.substr(10);var Re=new ROS3D.MeshResource({path:s,resource:this.msgMesh,material:Ce,loader:h});this.add(Re);break;case ROS3D.MARKER_TRIANGLE_LIST:var xe=new ROS3D.TriangleList({material:y,vertices:u.points,colors:u.colors});xe.scale=new THREE.Vector3(u.scale.x,u.scale.y,u.scale.z),this.add(xe);break;default:console.error('Currently unsupported marker type: '+u.type);}},ROS3D.Marker.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Marker.prototype.setPose=function(e){this.position.x=e.position.x,this.position.y=e.position.y,this.position.z=e.position.z,this.quaternion=new THREE.Quaternion(e.orientation.x,e.orientation.y,e.orientation.z,e.orientation.w),this.quaternion.normalize(),this.updateMatrixWorld()},ROS3D.Marker.prototype.update=function(e){if(this.setPose(e.pose),e.color.r!==this.msgColor.r||e.color.g!==this.msgColor.g||e.color.b!==this.msgColor.b||e.color.a!==this.msgColor.a){var s=ROS3D.makeColorMaterial(e.color.r,e.color.g,e.color.b,e.color.a);switch(e.type){case ROS3D.MARKER_LINE_STRIP:case ROS3D.MARKER_LINE_LIST:case ROS3D.MARKER_POINTS:break;case ROS3D.MARKER_ARROW:case ROS3D.MARKER_CUBE:case ROS3D.MARKER_SPHERE:case ROS3D.MARKER_CYLINDER:case ROS3D.MARKER_TRIANGLE_LIST:case ROS3D.MARKER_TEXT_VIEW_FACING:this.traverse(function(f){f instanceof THREE.Mesh&&(f.material=s)});break;case ROS3D.MARKER_MESH_RESOURCE:var u=null;(0!==e.color.r||0!==e.color.g||0!==e.color.b||0!==e.color.a)&&(u=this.colorMaterial),this.traverse(function(f){f instanceof THREE.Mesh&&(f.material=u)});break;case ROS3D.MARKER_CUBE_LIST:case ROS3D.MARKER_SPHERE_LIST:return!1;default:return!1;}this.msgColor=e.color}var h=1e-6<Math.abs(this.msgScale[0]-e.scale.x)||1e-6<Math.abs(this.msgScale[1]-e.scale.y)||1e-6<Math.abs(this.msgScale[2]-e.scale.z);switch(this.msgScale=[e.scale.x,e.scale.y,e.scale.z],e.type){case ROS3D.MARKER_CUBE:case ROS3D.MARKER_SPHERE:case ROS3D.MARKER_CYLINDER:if(h)return!1;break;case ROS3D.MARKER_TEXT_VIEW_FACING:if(h||this.text!==e.text)return!1;break;case ROS3D.MARKER_MESH_RESOURCE:var y=e.mesh_resource.substr(10);if(y!==this.msgMesh)return!1;if(h)return!1;break;case ROS3D.MARKER_ARROW:case ROS3D.MARKER_LINE_STRIP:case ROS3D.MARKER_LINE_LIST:case ROS3D.MARKER_CUBE_LIST:case ROS3D.MARKER_SPHERE_LIST:case ROS3D.MARKER_POINTS:case ROS3D.MARKER_TRIANGLE_LIST:return!1;default:}return!0},ROS3D.Marker.prototype.dispose=function(){this.children.forEach(function(e){e instanceof ROS3D.MeshResource?e.children.forEach(function(s){s.material!==void 0&&s.material.dispose(),s.children.forEach(function(u){u.geometry!==void 0&&u.geometry.dispose(),u.material!==void 0&&u.material.dispose(),s.remove(u)}),e.remove(s)}):(e.geometry!==void 0&&e.geometry.dispose(),e.material!==void 0&&e.material.dispose()),e.parent.remove(e)})},ROS3D.MarkerArrayClient=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic,this.tfClient=e.tfClient,this.rootObject=e.rootObject||new THREE.Object3D,this.path=e.path||'/',this.loader=e.loader||ROS3D.COLLADA_LOADER_2,this.markers={},this.rosTopic=void 0,this.subscribe()},ROS3D.MarkerArrayClient.prototype.__proto__=EventEmitter2.prototype,ROS3D.MarkerArrayClient.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'visualization_msgs/MarkerArray',compression:'png'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.MarkerArrayClient.prototype.processMessage=function(e){e.markers.forEach(function(s){if(0===s.action){var u=!1;if(s.ns+s.id in this.markers&&(u=this.markers[s.ns+s.id].children[0].update(s),!u&&(this.markers[s.ns+s.id].unsubscribeTf(),this.rootObject.remove(this.markers[s.ns+s.id]))),!u){var h=new ROS3D.Marker({message:s,path:this.path,loader:this.loader});this.markers[s.ns+s.id]=new ROS3D.SceneNode({frameID:s.header.frame_id,tfClient:this.tfClient,object:h}),this.rootObject.add(this.markers[s.ns+s.id])}}else if(1===s.action)console.warn('Received marker message with deprecated action identifier "1"');else if(2===s.action)this.markers[s.ns+s.id].unsubscribeTf(),this.rootObject.remove(this.markers[s.ns+s.id]),delete this.markers[s.ns+s.id];else if(3===s.action){for(var y in this.markers)this.markers[y].unsubscribeTf(),this.rootObject.remove(this.markers[y]);this.markers={}}else console.warn('Received marker message with unknown action identifier "'+s.action+'"')}.bind(this)),this.emit('change')},ROS3D.MarkerArrayClient.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.MarkerClient=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic,this.tfClient=e.tfClient,this.rootObject=e.rootObject||new THREE.Object3D,this.path=e.path||'/',this.loader=e.loader||ROS3D.COLLADA_LOADER_2,this.markers={},this.rosTopic=void 0,this.subscribe()},ROS3D.MarkerClient.prototype.__proto__=EventEmitter2.prototype,ROS3D.MarkerClient.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.MarkerClient.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'visualization_msgs/Marker',compression:'png'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.MarkerClient.prototype.processMessage=function(e){var s=new ROS3D.Marker({message:e,path:this.path,loader:this.loader}),u=this.markers[e.ns+e.id];u&&(u.unsubscribeTf(),this.rootObject.remove(u)),this.markers[e.ns+e.id]=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:s}),this.rootObject.add(this.markers[e.ns+e.id]),this.emit('change')},ROS3D.Arrow=function(e){e=e||{};var s=e.origin||new THREE.Vector3(0,0,0),u=e.direction||new THREE.Vector3(1,0,0),h=e.length||1,y=e.headLength||0.2,f=e.shaftDiameter||0.05,E=e.headDiameter||0.1,_=e.material||new THREE.MeshBasicMaterial,M=h-y,T=new THREE.CylinderGeometry(0.5*f,0.5*f,M,12,1),C=new THREE.Matrix4;C.setPosition(new THREE.Vector3(0,0.5*M,0)),T.applyMatrix(C);var R=new THREE.CylinderGeometry(0,0.5*E,y,12,1);C.setPosition(new THREE.Vector3(0,M+0.5*y,0)),R.applyMatrix(C),THREE.GeometryUtils.merge(T,R),THREE.Mesh.call(this,T,_),this.position=s,this.setDirection(u)},ROS3D.Arrow.prototype.__proto__=THREE.Mesh.prototype,ROS3D.Arrow.prototype.setDirection=function(e){var s=new THREE.Vector3(0,1,0).cross(e),u=Math.acos(new THREE.Vector3(0,1,0).dot(e.clone().normalize()));this.matrix=new THREE.Matrix4().makeRotationAxis(s.normalize(),u),this.rotation.setFromRotationMatrix(this.matrix,this.rotation.order)},ROS3D.Arrow.prototype.setLength=function(e){this.scale.set(e,e,e)},ROS3D.Arrow.prototype.setColor=function(e){this.material.color.setHex(e)},ROS3D.Axes=function(e){function s(E){var _=new THREE.Color;_.setRGB(E.x,E.y,E.z);var M=new THREE.MeshBasicMaterial({color:_.getHex()}),T=new THREE.Vector3;T.crossVectors(E,new THREE.Vector3(0,-1,0));var C=new THREE.Quaternion;C.setFromAxisAngle(T,0.5*Math.PI);var R=new THREE.Mesh(u.headGeom,M);R.position=E.clone(),R.position.multiplyScalar(0.95),R.quaternion=C,R.updateMatrix(),u.add(R);var O=new THREE.Mesh(u.lineGeom,M);O.position=E.clone(),O.position.multiplyScalar(0.45),O.quaternion=C,O.updateMatrix(),u.add(O)}var u=this;e=e||{};var h=e.shaftRadius||8e-3,y=e.headRadius||0.023,f=e.headLength||0.1;THREE.Object3D.call(this),this.lineGeom=new THREE.CylinderGeometry(h,h,1-f),this.headGeom=new THREE.CylinderGeometry(0,y,f),s(new THREE.Vector3(1,0,0)),s(new THREE.Vector3(0,1,0)),s(new THREE.Vector3(0,0,1))},ROS3D.Axes.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Grid=function(e){e=e||{};var s=e.num_cells||10,u=e.color||'#cccccc',h=e.lineWidth||1,y=e.cellSize||1;THREE.Object3D.call(this);for(var f=new THREE.LineBasicMaterial({color:u,linewidth:h}),E=0;E<=s;++E){var _=y*s/2,M=_-E*y,T=new THREE.Geometry;T.vertices.push(new THREE.Vector3(-_,M,0),new THREE.Vector3(_,M,0));var C=new THREE.Geometry;C.vertices.push(new THREE.Vector3(M,-_,0),new THREE.Vector3(M,_,0)),this.add(new THREE.Line(T,f)),this.add(new THREE.Line(C,f))}},ROS3D.Grid.prototype.__proto__=THREE.Object3D.prototype,ROS3D.MeshResource=function(e){var s=this;e=e||{};var u=e.path||'/',h=e.resource,y=e.material||null;this.warnings=e.warnings;var f=e.loader||ROS3D.COLLADA_LOADER_2;THREE.Object3D.call(this),'/'!==u.substr(u.length-1)&&(this.path+='/');var E=u+h,_=E.substr(-4).toLowerCase(),M;'.dae'===_?(M=f===ROS3D.COLLADA_LOADER?new THREE.ColladaLoader:new ColladaLoader2,M.log=function(T){s.warnings&&console.warn(T)},M.load(E,function(C){if(f===ROS3D.COLLADA_LOADER_2&&C.dae.asset.unit){var R=C.dae.asset.unit;C.scene.scale=new THREE.Vector3(R,R,R)}if(null!==y){var O=function(A,I){if(A.material=I,A.children)for(var S=0;S<A.children.length;S++)O(A.children[S],I)};O(C.scene,y)}s.add(C.scene)})):'.stl'===_&&(M=new THREE.STLLoader,M.load(E,function(T){T.computeFaceNormals();var C;C=null===y?new THREE.Mesh(T,new THREE.MeshBasicMaterial({color:10066329})):new THREE.Mesh(T,y),s.add(C)}))},ROS3D.MeshResource.prototype.__proto__=THREE.Object3D.prototype,ROS3D.TriangleList=function(e){e=e||{};var s=e.material||new THREE.MeshBasicMaterial,u=e.vertices,h=e.colors;THREE.Object3D.call(this),s.side=THREE.DoubleSide;var y=new THREE.Geometry;for(f=0;f<u.length;f++)y.vertices.push(new THREE.Vector3(u[f].x,u[f].y,u[f].z));var f,E;if(h.length===u.length){for(f=0;f<u.length;f+=3){var _=new THREE.Face3(f,f+1,f+2);for(E=3*f;E<3*f+3;f++){var M=new THREE.Color;M.setRGB(h[f].r,h[f].g,h[f].b),_.vertexColors.push(M)}y.faces.push(_)}s.vertexColors=THREE.VertexColors}else if(h.length===u.length/3){for(f=0;f<u.length;f+=3){var T=new THREE.Face3(f,f+1,f+2);T.color.setRGB(h[f/3].r,h[f/3].g,h[f/3].b),y.faces.push(T)}s.vertexColors=THREE.FaceColors}else for(f=0;f<u.length;f+=3){var C=new THREE.Face3(f,f+1,f+2);y.faces.push(C)}y.computeBoundingBox(),y.computeBoundingSphere(),y.computeCentroids(),y.computeFaceNormals(),this.add(new THREE.Mesh(y,s))},ROS3D.TriangleList.prototype.__proto__=THREE.Object3D.prototype,ROS3D.TriangleList.prototype.setColor=function(e){this.mesh.material.color.setHex(e)},ROS3D.OccupancyGrid=function(e){e=e||{};var s=e.message,u=e.color||{r:255,g:255,b:255},h=e.opacity||1,y=s.info.width,f=s.info.height,E=new THREE.PlaneGeometry(y,f),_=document.createElement('canvas');_.width=y,_.height=f;for(var M=_.getContext('2d'),T=M.createImageData(y,f),C=0;C<f;C++)for(var R=0;R<y;R++){var O=R+(f-C-1)*y,A=s.data[O],I;I=100===A?0:0===A?255:127;var S=4*(R+C*y);T.data[S]=I*u.r/255,T.data[++S]=I*u.g/255,T.data[++S]=I*u.b/255,T.data[++S]=255}M.putImageData(T,0,0);var D=new THREE.Texture(_);D.needsUpdate=!0;var P=new THREE.MeshBasicMaterial({map:D,transparent:1>h,opacity:h});P.side=THREE.DoubleSide,THREE.Mesh.call(this,E,P),this.quaternion=new THREE.Quaternion(s.info.origin.orientation.x,s.info.origin.orientation.y,s.info.origin.orientation.z,s.info.origin.orientation.w),this.position.x=y*s.info.resolution/2+s.info.origin.position.x,this.position.y=f*s.info.resolution/2+s.info.origin.position.y,this.position.z=s.info.origin.position.z,this.scale.x=s.info.resolution,this.scale.y=s.info.resolution},ROS3D.OccupancyGrid.prototype.__proto__=THREE.Mesh.prototype,ROS3D.OccupancyGridClient=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic||'/map',this.continuous=e.continuous,this.tfClient=e.tfClient,this.rootObject=e.rootObject||new THREE.Object3D,this.offsetPose=e.offsetPose||new ROSLIB.Pose,this.color=e.color||{r:255,g:255,b:255},this.opacity=e.opacity||1,this.currentGrid=null,this.rosTopic=void 0,this.subscribe()},ROS3D.OccupancyGridClient.prototype.__proto__=EventEmitter2.prototype,ROS3D.OccupancyGridClient.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.OccupancyGridClient.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'nav_msgs/OccupancyGrid',compression:'png'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.OccupancyGridClient.prototype.processMessage=function(e){this.currentGrid&&(this.currentGrid.tfClient&&this.currentGrid.unsubscribeTf(),this.rootObject.remove(this.currentGrid));var s=new ROS3D.OccupancyGrid({message:e,color:this.color,opacity:this.opacity});this.currentGrid=this.tfClient?new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:s,pose:this.offsetPose}):s,this.rootObject.add(this.currentGrid),this.emit('change'),this.continuous||this.rosTopic.unsubscribe()},ROS3D.Odometry=function(e){this.options=e||{},this.ros=e.ros,this.topicName=e.topic||'/particlecloud',this.tfClient=e.tfClient,this.color=e.color||13369599,this.length=e.length||1,this.rootObject=e.rootObject||new THREE.Object3D,this.keep=e.keep||1,THREE.Object3D.call(this),this.sns=[],this.rosTopic=void 0,this.subscribe()},ROS3D.Odometry.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Odometry.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.Odometry.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'nav_msgs/Odometry'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.Odometry.prototype.processMessage=function(e){this.sns.length>=this.keep&&(this.sns[0].unsubscribeTf(),this.rootObject.remove(this.sns[0]),this.sns.shift()),this.options.origin=new THREE.Vector3(e.pose.pose.position.x,e.pose.pose.position.y,e.pose.pose.position.z);var s=new THREE.Quaternion(e.pose.pose.orientation.x,e.pose.pose.orientation.y,e.pose.pose.orientation.z,e.pose.pose.orientation.w);this.options.direction=new THREE.Vector3(1,0,0),this.options.direction.applyQuaternion(s),this.options.material=new THREE.MeshBasicMaterial({color:this.color});var u=new ROS3D.Arrow(this.options);this.sns.push(new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:u})),this.rootObject.add(this.sns[this.sns.length-1])},ROS3D.Path=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic||'/path',this.tfClient=e.tfClient,this.color=e.color||13369599,this.rootObject=e.rootObject||new THREE.Object3D,THREE.Object3D.call(this),this.sn=null,this.line=null,this.rosTopic=void 0,this.subscribe()},ROS3D.Path.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Path.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.Path.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'nav_msgs/Path'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.Path.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn));for(var h,s=new THREE.Geometry,u=0;u<e.poses.length;u++)h=new THREE.Vector3(e.poses[u].pose.position.x,e.poses[u].pose.position.y,e.poses[u].pose.position.z),s.vertices.push(h);s.computeLineDistances();var y=new THREE.LineBasicMaterial({color:this.color}),f=new THREE.Line(s,y);this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:f}),this.rootObject.add(this.sn)},ROS3D.Point=function(e){this.options=e||{},this.ros=e.ros,this.topicName=e.topic||'/point',this.tfClient=e.tfClient,this.color=e.color||13369599,this.rootObject=e.rootObject||new THREE.Object3D,this.radius=e.radius||0.2,THREE.Object3D.call(this),this.sn=null,this.rosTopic=void 0,this.subscribe()},ROS3D.Point.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Point.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.Point.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'geometry_msgs/PointStamped'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.Point.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn));var s=new THREE.SphereGeometry(this.radius),u=new THREE.MeshBasicMaterial({color:this.color}),h=new THREE.Mesh(s,u);h.position.set(e.point.x,e.point.y,e.point.z),this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:h}),this.rootObject.add(this.sn)},ROS3D.Polygon=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic||'/path',this.tfClient=e.tfClient,this.color=e.color||13369599,this.rootObject=e.rootObject||new THREE.Object3D,THREE.Object3D.call(this),this.sn=null,this.line=null,this.rosTopic=void 0,this.subscribe()},ROS3D.Polygon.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Polygon.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.Polygon.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'geometry_msgs/PolygonStamped'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.Polygon.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn));for(var u,s=new THREE.Geometry,h=0;h<e.polygon.points.length;h++)u=new THREE.Vector3(e.polygon.points[h].x,e.polygon.points[h].y,e.polygon.points[h].z),s.vertices.push(u);u=new THREE.Vector3(e.polygon.points[0].x,e.polygon.points[0].y,e.polygon.points[0].z),s.vertices.push(u),s.computeLineDistances();var y=new THREE.LineBasicMaterial({color:this.color}),f=new THREE.Line(s,y);this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:f}),this.rootObject.add(this.sn)},ROS3D.Pose=function(e){this.options=e||{},this.ros=e.ros,this.topicName=e.topic||'/pose',this.tfClient=e.tfClient,this.color=e.color||13369599,this.rootObject=e.rootObject||new THREE.Object3D,THREE.Object3D.call(this),this.sn=null,this.rosTopic=void 0,this.subscribe()},ROS3D.Pose.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Pose.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.Pose.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'geometry_msgs/PoseStamped'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.Pose.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn)),this.options.origin=new THREE.Vector3(e.pose.position.x,e.pose.position.y,e.pose.position.z);var s=new THREE.Quaternion(e.pose.orientation.x,e.pose.orientation.y,e.pose.orientation.z,e.pose.orientation.w);this.options.direction=new THREE.Vector3(1,0,0),this.options.direction.applyQuaternion(s),this.options.material=new THREE.MeshBasicMaterial({color:this.color});var u=new ROS3D.Arrow(this.options);this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:u}),this.rootObject.add(this.sn)},ROS3D.PoseArray=function(e){this.options=e||{},this.ros=e.ros,this.topicName=e.topic||'/particlecloud',this.tfClient=e.tfClient,this.color=e.color||13369599,this.length=e.length||1,this.rootObject=e.rootObject||new THREE.Object3D,THREE.Object3D.call(this),this.sn=null,this.rosTopic=void 0,this.subscribe()},ROS3D.PoseArray.prototype.__proto__=THREE.Object3D.prototype,ROS3D.PoseArray.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.PoseArray.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'geometry_msgs/PoseArray'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.PoseArray.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn));for(var u,s=new THREE.Object3D,h=0;h<e.poses.length;h++){var y=new THREE.Geometry,f=new THREE.Vector3(e.poses[h].position.x,e.poses[h].position.y,e.poses[h].position.z);y.vertices.push(f);var E=new THREE.Quaternion(e.poses[h].orientation.x,e.poses[h].orientation.y,e.poses[h].orientation.z,e.poses[h].orientation.w),_=new THREE.Vector3(this.length,0,0),M=new THREE.Vector3(0.8*this.length,0.2*this.length,0),T=new THREE.Vector3(0.8*this.length,0.2*-this.length,0);_.applyQuaternion(E),M.applyQuaternion(E),T.applyQuaternion(E),y.vertices.push(_.add(f)),y.vertices.push(M.add(f)),y.vertices.push(T.add(f)),y.vertices.push(_),y.computeLineDistances();var C=new THREE.LineBasicMaterial({color:this.color});u=new THREE.Line(y,C),s.add(u)}this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:s}),this.rootObject.add(this.sn)},ROS3D.PoseWithCovariance=function(e){this.options=e||{},this.ros=e.ros,this.topicName=e.topic||'/PoseWithCovariance',this.tfClient=e.tfClient,this.color=e.color||13369599,this.rootObject=e.rootObject||new THREE.Object3D,THREE.Object3D.call(this),this.sn=null,this.rosTopic=void 0,this.subscribe()},ROS3D.PoseWithCovariance.prototype.__proto__=THREE.Object3D.prototype,ROS3D.PoseWithCovariance.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.PoseWithCovariance.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'geometry_msgs/PoseWithCovarianceStamped'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.PoseWithCovariance.prototype.processMessage=function(e){null!==this.sn&&(this.sn.unsubscribeTf(),this.rootObject.remove(this.sn)),this.options.origin=new THREE.Vector3(e.pose.pose.position.x,e.pose.pose.position.y,e.pose.pose.position.z);var s=new THREE.Quaternion(e.pose.pose.orientation.x,e.pose.pose.orientation.y,e.pose.pose.orientation.z,e.pose.pose.orientation.w);this.options.direction=new THREE.Vector3(1,0,0),this.options.direction.applyQuaternion(s),this.options.material=new THREE.MeshBasicMaterial({color:this.color});var u=new ROS3D.Arrow(this.options);this.sn=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:this.tfClient,object:u}),this.rootObject.add(this.sn)},ROS3D.LaserScan=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic||'/scan',this.color=e.color||16753920,this.particles=new ROS3D.Particles(e),this.rosTopic=void 0,this.subscribe()},ROS3D.LaserScan.prototype.__proto__=THREE.Object3D.prototype,ROS3D.LaserScan.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.LaserScan.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'sensor_msgs/LaserScan'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.LaserScan.prototype.processMessage=function(e){setFrame(this.particles,e.header.frame_id);for(var h,s=e.ranges.length,u=0;u<s;u++){if(h=e.ranges[u],h<e.range_min||h>e.range_max)this.particles.alpha[u]=0;else{var y=e.angle_min+u*e.angle_increment;this.particles.points[u]=new THREE.Vector3(h*Math.cos(y),h*Math.sin(y),0),this.particles.alpha[u]=1}this.particles.colors[u]=new THREE.Color(this.color)}finishedUpdate(this.particles,s)},ROS3D.Particles=function(e){e=e||{},this.tfClient=e.tfClient;var s=e.texture||'https://upload.wikimedia.org/wikipedia/commons/a/a2/Pixel-white.png',u=e.size||0.05;this.max_pts=e.max_pts||1e4,this.first_size=null,this.prev_pts=0,this.rootObject=e.rootObject||new THREE.Object3D;this;THREE.Object3D.call(this),this.vertex_shader=['attribute vec3 customColor;','attribute float alpha;','varying vec3 vColor;','varying float falpha;','void main() ','{','    vColor = customColor; // set color associated to vertex; use later in fragment shader','    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );','    falpha = alpha; ','','    // option (1): draw particles at constant size on screen','    // gl_PointSize = size;','    // option (2): scale particles as objects in 3D space','    gl_PointSize = ',u,'* ( 300.0 / length( mvPosition.xyz ) );','    gl_Position = projectionMatrix * mvPosition;','}'].join('\n'),this.fragment_shader=['uniform sampler2D texture;','varying vec3 vColor; // colors associated to vertices; assigned by vertex shader','varying float falpha;','void main() ','{','    // THREE.Material.alphaTest is not evaluated for ShaderMaterial, so we','    // have to take care of this ourselves.','    if (falpha < 0.5) discard;','    // calculates a color for the particle','    gl_FragColor = vec4( vColor, falpha );','    // sets particle texture to desired color','    gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );','}'].join('\n'),this.geom=new THREE.Geometry;for(var y=0;y<this.max_pts;y++)this.geom.vertices.push(new THREE.Vector3);var f={texture:{type:'t',value:THREE.ImageUtils.loadTexture(s)}};this.attribs={customColor:{type:'c',value:[]},alpha:{type:'f',value:[]}},this.shaderMaterial=new THREE.ShaderMaterial({uniforms:f,attributes:this.attribs,vertexShader:this.vertex_shader,fragmentShader:this.fragment_shader,transparent:!0}),this.ps=new THREE.ParticleSystem(this.geom,this.shaderMaterial),this.sn=null,this.points=this.geom.vertices,this.colors=this.attribs.customColor.value,this.alpha=this.attribs.alpha.value};function setFrame(e,s){null===e.sn&&(e.sn=new ROS3D.SceneNode({frameID:s,tfClient:e.tfClient,object:e.ps}),e.rootObject.add(e.sn))}function finishedUpdate(e,s){null===e.first_size&&(e.first_size=s,e.max_pts=Math.max(e.max_pts,s));for(var u=s;u<e.prev_pts;u++)e.alpha[u]=0;e.prev_pts=s,e.geom.verticesNeedUpdate=!0,e.attribs.customColor.needsUpdate=!0,e.attribs.alpha.needsUpdate=!0,s>e.max_pts&&console.error('Attempted to draw more points than max_pts allows')}function read_point(e,s,u){for(var _,h=[],y=e.point_step*s,E=0;E<e.fields.length;E++)_=y+e.fields[E].offset,'rgb'===e.fields[E].name?h.rgb=u.getInt32(_,1):h[e.fields[E].name]=u.getFloat32(_,1);return h}var BASE64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function decode64(e){for(var s=[],u=0,h=0,y=0,f=e.length;y<f;y++)u+=BASE64.indexOf(e[y]),h+=6,8<=h&&(h-=8,s.push(u>>h),u&=Math.pow(2,h)-1),u<<=6;return s}ROS3D.PointCloud2=function(e){e=e||{},this.ros=e.ros,this.topicName=e.topic||'/points',this.particles=new ROS3D.Particles(e),this.rosTopic=void 0,this.subscribe()},ROS3D.PointCloud2.prototype.__proto__=THREE.Object3D.prototype,ROS3D.PointCloud2.prototype.unsubscribe=function(){this.rosTopic&&this.rosTopic.unsubscribe()},ROS3D.PointCloud2.prototype.subscribe=function(){this.unsubscribe(),this.rosTopic=new ROSLIB.Topic({ros:this.ros,name:this.topicName,messageType:'sensor_msgs/PointCloud2'}),this.rosTopic.subscribe(this.processMessage.bind(this))},ROS3D.PointCloud2.prototype.processMessage=function(e){setFrame(this.particles,e.header.frame_id);var s=e.height*e.width,u;u=e.data.buffer?e.data.buffer.buffer:Uint8Array.from(decode64(e.data)).buffer;for(var f,h=new DataView(u),y=0;y<s;y++)f=read_point(e,y,h),this.particles.points[y]=new THREE.Vector3(f.x,f.y,f.z),this.particles.colors[y]=new THREE.Color(f.rgb),this.particles.alpha[y]=1;finishedUpdate(this.particles,s)},ROS3D.Urdf=function(e){e=e||{};var s=e.urdfModel,u=e.path||'/',h=e.tfClient,y=e.tfPrefix||'',f=e.loader||ROS3D.COLLADA_LOADER_2;THREE.Object3D.call(this);var E=s.links;for(var _ in E)for(var C,M=E[_],T=0;T<M.visuals.length;T++)if(C=M.visuals[T],C&&C.geometry){var R=y+'/'+M.name,O=null;if(C.material&&C.material.color){var A=C.material&&C.material.color;O=ROS3D.makeColorMaterial(A.r,A.g,A.b,A.a)}if(C.geometry.type===ROSLIB.URDF_MESH){var I=C.geometry.filename,S=I.indexOf('package://');-1!==S&&(I=I.substr(S+'package://'.length));var D=I.substr(-4).toLowerCase();if('.dae'===D||'.stl'===D){var P=new ROS3D.MeshResource({path:u,resource:I,loader:f,material:O});M.visuals[T].geometry.scale&&(P.scale=new THREE.Vector3(C.geometry.scale.x,C.geometry.scale.y,C.geometry.scale.z));var L=new ROS3D.SceneNode({frameID:R,pose:C.origin,tfClient:h,object:P});this.add(L)}else console.warn('Could not load geometry mesh: '+I)}else{O||(O=ROS3D.makeColorMaterial(0,0,0,1));var V;switch(C.geometry.type){case ROSLIB.URDF_BOX:var N=C.geometry.dimension,w=new THREE.CubeGeometry(N.x,N.y,N.z);V=new THREE.Mesh(w,O);break;case ROSLIB.URDF_CYLINDER:var U=C.geometry.radius,K=C.geometry.length,B=new THREE.CylinderGeometry(U,U,K,16,1,!1);V=new THREE.Mesh(B,O),V.quaternion.setFromAxisAngle(new THREE.Vector3(1,0,0),0.5*Math.PI);break;case ROSLIB.URDF_SPHERE:var G=new THREE.SphereGeometry(C.geometry.radius,16);V=new THREE.Mesh(G,O);}var F=new ROS3D.SceneNode({frameID:R,pose:C.origin,tfClient:h,object:V});this.add(F)}}},ROS3D.Urdf.prototype.__proto__=THREE.Object3D.prototype,ROS3D.Urdf.prototype.unsubscribeTf=function(){this.children.forEach(function(e){'function'===typeof e.unsubscribeTf&&e.unsubscribeTf()})},ROS3D.UrdfClient=function(e){var s=this;e=e||{};var u=e.ros;this.param=e.param||'robot_description',this.path=e.path||'/',this.tfClient=e.tfClient,this.rootObject=e.rootObject||new THREE.Object3D,this.tfPrefix=e.tfPrefix||'',this.loader=e.loader||ROS3D.COLLADA_LOADER_2;var h=new ROSLIB.Param({ros:u,name:this.param});h.get(function(y){var f=new ROSLIB.UrdfModel({string:y});s.urdf=new ROS3D.Urdf({urdfModel:f,path:s.path,tfClient:s.tfClient,tfPrefix:s.tfPrefix,loader:s.loader}),s.rootObject.add(s.urdf)})},ROS3D.Highlighter=function(e){e=e||{},this.mouseHandler=e.mouseHandler,this.hoverObjs=[],this.mouseHandler.addEventListener('mouseover',this.onMouseOver.bind(this)),this.mouseHandler.addEventListener('mouseout',this.onMouseOut.bind(this))},ROS3D.Highlighter.prototype.onMouseOver=function(e){this.hoverObjs.push(e.currentTarget)},ROS3D.Highlighter.prototype.onMouseOut=function(e){this.hoverObjs.splice(this.hoverObjs.indexOf(e.currentTarget),1)},ROS3D.Highlighter.prototype.getWebglObjects=function(e,s,u){for(var h=e.__webglObjects,y=0;y<s.length;y++)if(s[y]){for(var f=h.length-1;0<=f;f--)if(h[f].object===s[y]){u.push(h[f]);break}this.getWebglObjects(e,s[y].children,u)}},ROS3D.Highlighter.prototype.renderHighlight=function(e,s,u){var h=[];this.getWebglObjects(s,this.hoverObjs,h),s.overrideMaterial=new THREE.MeshBasicMaterial({fog:!1,opacity:0.5,depthTest:!0,depthWrite:!1,polygonOffset:!0,polygonOffsetUnits:-1,side:THREE.DoubleSide});var y=s.__webglObjects;s.__webglObjects=h,e.render(s,u),s.__webglObjects=y,s.overrideMaterial=null},ROS3D.MouseHandler=function(e){THREE.EventDispatcher.call(this),this.renderer=e.renderer,this.camera=e.camera,this.rootObject=e.rootObject,this.fallbackTarget=e.fallbackTarget,this.lastTarget=this.fallbackTarget,this.dragging=!1,this.projector=new THREE.Projector;this.listeners={},['contextmenu','click','dblclick','mouseout','mousedown','mouseup','mousemove','mousewheel','DOMMouseScroll','touchstart','touchend','touchcancel','touchleave','touchmove'].forEach(function(u){this.listeners[u]=this.processDomEvent.bind(this),this.renderer.domElement.addEventListener(u,this.listeners[u],!1)},this)},ROS3D.MouseHandler.prototype.processDomEvent=function(e){e.preventDefault();var h,y,s=e.target,u=s.getBoundingClientRect();if(-1!==e.type.indexOf('touch')){h=0,y=0;for(var f=0;f<e.touches.length;++f)h+=e.touches[f].clientX,y+=e.touches[f].clientY;h/=e.touches.length,y/=e.touches.length}else h=e.clientX,y=e.clientY;var E=h-u.left-s.clientLeft+s.scrollLeft,_=y-u.top-s.clientTop+s.scrollTop,M=2*(E/s.clientWidth)-1,T=2*(-_/s.clientHeight)+1,C=new THREE.Vector3(M,T,0.5);this.projector.unprojectVector(C,this.camera);var R=new THREE.Raycaster(this.camera.position.clone(),C.sub(this.camera.position).normalize());R.linePrecision=1e-3;var O=R.ray,A={mousePos:new THREE.Vector2(M,T),mouseRay:O,domEvent:e,camera:this.camera,intersection:this.lastIntersection};if('mouseout'===e.type)return this.dragging&&(this.notify(this.lastTarget,'mouseup',A),this.dragging=!1),this.notify(this.lastTarget,'mouseout',A),void(this.lastTarget=null);if('touchleave'===e.type||'touchend'===e.type)return this.dragging&&(this.notify(this.lastTarget,'mouseup',A),this.dragging=!1),this.notify(this.lastTarget,'touchend',A),void(this.lastTarget=null);if(this.dragging)return this.notify(this.lastTarget,e.type,A),void(('mouseup'===e.type&&2===e.button||'click'===e.type||'touchend'===e.type)&&(this.dragging=!1));s=this.lastTarget;var I=[];if(I=R.intersectObject(this.rootObject,!0),0<I.length?(s=I[0].object,A.intersection=this.lastIntersection=I[0]):s=this.fallbackTarget,s!==this.lastTarget&&e.type.match(/mouse/)){var S=this.notify(s,'mouseover',A);S?this.notify(this.lastTarget,'mouseout',A):(s=this.fallbackTarget,s!==this.lastTarget&&(this.notify(s,'mouseover',A),this.notify(this.lastTarget,'mouseout',A)))}if(s!==this.lastTarget&&e.type.match(/touch/)){var D=this.notify(s,e.type,A);D?(this.notify(this.lastTarget,'touchleave',A),this.notify(this.lastTarget,'touchend',A)):(s=this.fallbackTarget,s!==this.lastTarget&&(this.notify(this.lastTarget,'touchmove',A),this.notify(this.lastTarget,'touchend',A)))}this.notify(s,e.type,A),('mousedown'===e.type||'touchstart'===e.type||'touchmove'===e.type)&&(this.dragging=!0),this.lastTarget=s},ROS3D.MouseHandler.prototype.notify=function(e,s,u){for(u.type=s,u.cancelBubble=!1,u.stopPropagation=function(){u.cancelBubble=!0},u.currentTarget=e;u.currentTarget;){if(u.currentTarget.dispatchEvent&&u.currentTarget.dispatchEvent instanceof Function&&(u.currentTarget.dispatchEvent(u),u.cancelBubble))return this.dispatchEvent(u),!0;u.currentTarget=u.currentTarget.parent}return!1},THREE.EventDispatcher.prototype.apply(ROS3D.MouseHandler.prototype),ROS3D.OrbitControls=function(e){function h(H,W,Q){var X=new THREE.Vector3,Y=new THREE.Vector3;X.subVectors(W,H.origin);var Z=H.direction.dot(Q);if(Math.abs(Z)<H.precision)return null;var J=Q.dot(X)/Z;return Y=H.direction.clone().multiplyScalar(J),Y}function f(H){if(T.userZoom){var Q,W=H.domEvent;Q='undefined'===typeof W.wheelDelta?-W.detail:W.wheelDelta,0<Q?T.zoomIn():T.zoomOut(),this.showAxes()}}THREE.EventDispatcher.call(this);var T=this;e=e||{};var C=e.scene;this.camera=e.camera,this.center=new THREE.Vector3,this.userZoom=!0,this.userZoomSpeed=e.userZoomSpeed||1,this.userRotate=!0,this.userRotateSpeed=e.userRotateSpeed||1,this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed||2,this.camera.up=new THREE.Vector3(0,0,1);var R=1800,O=10,A=new THREE.Vector2,I=new THREE.Vector2,S=new THREE.Vector2,D=new THREE.Vector2,P=new THREE.Vector2,L=new THREE.Vector2,V=new THREE.Vector3,N=new THREE.Vector3,w=new THREE.Vector3,U=new THREE.Vector3,K=[,,],B=[,,];this.phiDelta=0,this.thetaDelta=0,this.scale=1,this.lastPosition=new THREE.Vector3;var G={NONE:-1,ROTATE:0,ZOOM:1,MOVE:2},F=G.NONE;this.axes=new ROS3D.Axes({shaftRadius:0.025,headRadius:0.07,headLength:0.2}),C.add(this.axes),this.axes.traverse(function(H){H.visible=!1}),this.addEventListener('mousedown',function(H){var W=H.domEvent;switch(W.preventDefault(),W.button){case 0:F=G.ROTATE,A.set(W.clientX,W.clientY);break;case 1:F=G.MOVE,N=new THREE.Vector3(0,0,1);var Q=new THREE.Matrix4().extractRotation(this.camera.matrix);N.applyMatrix4(Q),V=T.center.clone(),w=T.camera.position.clone(),U=h(H.mouseRay,V,N);break;case 2:F=G.ZOOM,D.set(W.clientX,W.clientY);}this.showAxes()}),this.addEventListener('mouseup',function(){T.userRotate&&(F=G.NONE)}),this.addEventListener('mousemove',function(H){var W=H.domEvent;if(F===G.ROTATE)I.set(W.clientX,W.clientY),S.subVectors(I,A),T.rotateLeft(2*Math.PI*S.x/R*T.userRotateSpeed),T.rotateUp(2*Math.PI*S.y/R*T.userRotateSpeed),A.copy(I),this.showAxes();else if(F===G.ZOOM)P.set(W.clientX,W.clientY),L.subVectors(P,D),0<L.y?T.zoomIn():T.zoomOut(),D.copy(P),this.showAxes();else if(F===G.MOVE){var Q=h(H.mouseRay,T.center,N);if(!Q)return;var X=new THREE.Vector3().subVectors(U.clone(),Q.clone());T.center.addVectors(V.clone(),X.clone()),T.camera.position.addVectors(w.clone(),X.clone()),T.update(),T.camera.updateMatrixWorld(),this.showAxes()}}),this.addEventListener('touchstart',function(H){var W=H.domEvent;switch(W.touches.length){case 1:F=G.ROTATE,A.set(W.touches[0].pageX-window.scrollX,W.touches[0].pageY-window.scrollY);break;case 2:F=G.NONE,N=new THREE.Vector3(0,0,1);var Q=new THREE.Matrix4().extractRotation(this.camera.matrix);N.applyMatrix4(Q),V=T.center.clone(),w=T.camera.position.clone(),U=h(H.mouseRay,V,N),K[0]=new THREE.Vector2(W.touches[0].pageX,W.touches[0].pageY),K[1]=new THREE.Vector2(W.touches[1].pageX,W.touches[1].pageY),B[0]=new THREE.Vector2(0,0),B[1]=new THREE.Vector2(0,0);}this.showAxes(),W.preventDefault()}),this.addEventListener('touchmove',function(H){var W=H.domEvent;if(F===G.ROTATE)I.set(W.touches[0].pageX-window.scrollX,W.touches[0].pageY-window.scrollY),S.subVectors(I,A),T.rotateLeft(2*Math.PI*S.x/R*T.userRotateSpeed),T.rotateUp(2*Math.PI*S.y/R*T.userRotateSpeed),A.copy(I),this.showAxes();else{if(B[0].set(K[0].x-W.touches[0].pageX,K[0].y-W.touches[0].pageY),B[1].set(K[1].x-W.touches[1].pageX,K[1].y-W.touches[1].pageY),B[0].lengthSq()>O&&B[1].lengthSq()>O&&(K[0].set(W.touches[0].pageX,W.touches[0].pageY),K[1].set(W.touches[1].pageX,W.touches[1].pageY),0<B[0].dot(B[1])&&F!==G.ZOOM?F=G.MOVE:0>B[0].dot(B[1])&&F!==G.MOVE&&(F=G.ZOOM),F===G.ZOOM)){var Q=new THREE.Vector2;Q.subVectors(K[0],K[1]),0>B[0].dot(Q)&&0<B[1].dot(Q)?T.zoomOut():0<B[0].dot(Q)&&0>B[1].dot(Q)&&T.zoomIn()}if(F===G.MOVE){var X=h(H.mouseRay,T.center,N);if(!X)return;var Y=new THREE.Vector3().subVectors(U.clone(),X.clone());T.center.addVectors(V.clone(),Y.clone()),T.camera.position.addVectors(w.clone(),Y.clone()),T.update(),T.camera.updateMatrixWorld()}this.showAxes(),W.preventDefault()}}),this.addEventListener('touchend',function(H){var W=H.domEvent;1===W.touches.length&&F!==G.ROTATE?(F=G.ROTATE,A.set(W.touches[0].pageX-window.scrollX,W.touches[0].pageY-window.scrollY)):F=G.NONE}),this.addEventListener('mousewheel',f),this.addEventListener('DOMMouseScroll',f)},ROS3D.OrbitControls.prototype.showAxes=function(){var e=this;this.axes.traverse(function(s){s.visible=!0}),this.hideTimeout&&clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){e.axes.traverse(function(s){s.visible=!1}),e.hideTimeout=!1},1e3)},ROS3D.OrbitControls.prototype.rotateLeft=function(e){e===void 0&&(e=2*Math.PI/60/60*this.autoRotateSpeed),this.thetaDelta-=e},ROS3D.OrbitControls.prototype.rotateRight=function(e){e===void 0&&(e=2*Math.PI/60/60*this.autoRotateSpeed),this.thetaDelta+=e},ROS3D.OrbitControls.prototype.rotateUp=function(e){e===void 0&&(e=2*Math.PI/60/60*this.autoRotateSpeed),this.phiDelta-=e},ROS3D.OrbitControls.prototype.rotateDown=function(e){e===void 0&&(e=2*Math.PI/60/60*this.autoRotateSpeed),this.phiDelta+=e},ROS3D.OrbitControls.prototype.zoomIn=function(e){e===void 0&&(e=Math.pow(0.95,this.userZoomSpeed)),this.scale/=e},ROS3D.OrbitControls.prototype.zoomOut=function(e){e===void 0&&(e=Math.pow(0.95,this.userZoomSpeed)),this.scale*=e},ROS3D.OrbitControls.prototype.update=function(){var e=this.camera.position,s=e.clone().sub(this.center),u=Math.atan2(s.y,s.x),h=Math.atan2(Math.sqrt(s.y*s.y+s.x*s.x),s.z);this.autoRotate&&this.rotateLeft(2*Math.PI/60/60*this.autoRotateSpeed),u+=this.thetaDelta,h+=this.phiDelta;var y=1e-6;h=Math.max(y,Math.min(Math.PI-y,h));var f=s.length();s.y=f*Math.sin(h)*Math.sin(u),s.z=f*Math.cos(h),s.x=f*Math.sin(h)*Math.cos(u),s.multiplyScalar(this.scale),e.copy(this.center).add(s),this.camera.lookAt(this.center),f=s.length(),this.axes.position=this.center.clone(),this.axes.scale.x=this.axes.scale.y=this.axes.scale.z=0.05*f,this.axes.updateMatrixWorld(!0),this.thetaDelta=0,this.phiDelta=0,this.scale=1,0<this.lastPosition.distanceTo(this.camera.position)&&(this.dispatchEvent({type:'change'}),this.lastPosition.copy(this.camera.position))},THREE.EventDispatcher.prototype.apply(ROS3D.OrbitControls.prototype),ROS3D.SceneNode=function(e){e=e||{};var s=this;this.tfClient=e.tfClient,this.frameID=e.frameID;var u=e.object;this.pose=e.pose||new ROSLIB.Pose,THREE.Object3D.call(this),this.visible=!1,this.add(u),this.updatePose(this.pose),this.tfUpdate=function(h){var y=new ROSLIB.Transform(h),f=new ROSLIB.Pose(s.pose);f.applyTransform(y),s.updatePose(f),s.visible=!0},this.tfClient.subscribe(this.frameID,this.tfUpdate)},ROS3D.SceneNode.prototype.__proto__=THREE.Object3D.prototype,ROS3D.SceneNode.prototype.updatePose=function(e){this.position.set(e.position.x,e.position.y,e.position.z),this.quaternion.set(e.orientation.x,e.orientation.y,e.orientation.z,e.orientation.w),this.updateMatrixWorld(!0)},ROS3D.SceneNode.prototype.unsubscribeTf=function(){this.tfClient.unsubscribe(this.frameID,this.tfUpdate)},ROS3D.Viewer=function(e){e=e||{};var s=e.divID,u=e.width,h=e.height,y=e.background||'#111111',f=e.antialias,E=e.intensity||0.66,_=e.near||0.01,M=e.far||1e3,T=e.alpha||1,C=e.cameraPose||{x:3,y:3,z:3},R=e.cameraZoomSpeed||0.5;this.renderer=new THREE.WebGLRenderer({antialias:f,alpha:!0}),this.renderer.setClearColor(parseInt(y.replace('#','0x'),16),T),this.renderer.sortObjects=!1,this.renderer.setSize(u,h),this.renderer.shadowMapEnabled=!1,this.renderer.autoClear=!1,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(40,u/h,_,M),this.camera.position.x=C.x,this.camera.position.y=C.y,this.camera.position.z=C.z,this.cameraControls=new ROS3D.OrbitControls({scene:this.scene,camera:this.camera}),this.cameraControls.userZoomSpeed=R,this.scene.add(new THREE.AmbientLight(5592405)),this.directionalLight=new THREE.DirectionalLight(16777215,E),this.scene.add(this.directionalLight),this.selectableObjects=new THREE.Object3D,this.scene.add(this.selectableObjects);var O=new ROS3D.MouseHandler({renderer:this.renderer,camera:this.camera,rootObject:this.selectableObjects,fallbackTarget:this.cameraControls});this.highlighter=new ROS3D.Highlighter({mouseHandler:O}),this.stopped=!0,this.animationRequestId=void 0,document.getElementById(s).appendChild(this.renderer.domElement),this.start()},ROS3D.Viewer.prototype.start=function(){this.stopped=!1,this.draw()},ROS3D.Viewer.prototype.draw=function(){this.stopped||(this.cameraControls.update(),this.directionalLight.position=this.camera.localToWorld(new THREE.Vector3(-1,1,0)),this.directionalLight.position.normalize(),this.renderer.clear(!0,!0,!0),this.renderer.render(this.scene,this.camera),this.highlighter.renderHighlight(this.renderer,this.scene,this.camera),this.animationRequestId=requestAnimationFrame(this.draw.bind(this)))},ROS3D.Viewer.prototype.stop=function(){this.stopped||cancelAnimationFrame(this.animationRequestId),this.stopped=!0},ROS3D.Viewer.prototype.addObject=function(e,s){s?this.selectableObjects.add(e):this.scene.add(e)},ROS3D.Viewer.prototype.resize=function(e,s){this.camera.aspect=e/s,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,s)};</script><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:'_checkedChanged'},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:'on',observer:'_valueChanged'}},observers:['_requiredChanged(required)'],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute('aria-required','true'):this.removeAttribute('aria-required')},_checkedChanged:function(){this.active=this.checked,this.fire('iron-change')},_valueChanged:function(){(this.value===void 0||null===this.value)&&(this.value='on')}},Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperInkyFocusBehaviorImpl={observers:['_focusedChanged(receivedFocusFromKeyboard)'],_focusedChanged:function(a){a&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();return a.id='ink',a.setAttribute('center',''),a.classList.add('circle'),a}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute('checked',''):this._ripple.removeAttribute('checked'))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);this.disabled||this.isAttached&&(this.checked=this.active)}},Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}:host-context([dir="rtl"]) #ink{right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}:host-context([dir="rtl"]) #checkmark{-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}:host-context([dir="rtl"]) #checkboxLabel{padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:'paper-checkbox',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'checkbox',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-checkbox-ink-size').trim();if('-1px'===a){var b=this.getComputedStyleValue('--calculated-paper-checkbox-size').trim(),c=b.match(/[A-Za-z]+$/)[0]||'px',d=parseFloat(b,10),e=8/3*d;'px'===c&&(e=Math.floor(e),e%2!==d%2&&e++),this.updateStyles({"--paper-checkbox-ink-size":e+c})}})},_computeCheckboxClass:function(a,b){var c='';return a&&(c+='checked '),b&&(c+='invalid'),c},_computeCheckmarkClass:function(a){return a?'':'hidden'},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><dom-module id="paper-icon-button" assetpath="bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;box-sizing:border-box !important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color, var(--primary-text-color));opacity:0.6;}:host([disabled]){color:var(--paper-icon-button-disabled-text, var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%;}</style><iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon></template><script>Polymer({is:'paper-icon-button',hostAttributes:{role:'button',tabindex:'0'},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:'_altChanged'}},_altChanged:function(a,b){var c=this.getAttribute('aria-label');c&&b!=c||this.setAttribute('aria-label',a)}});</script></dom-module><dom-module id="ros-service" assetpath="bower_components/ros-service/"><template></template><script>Polymer({is:'ros-service',properties:{auto:{type:Boolean,default:!1},name:{type:String,observer:'_initService'},request:{type:Object,default:null,observer:'_requestChanged'},lastResponse:{type:Object,default:null,notify:!0,readOnly:!0},lastError:{type:String,default:null,notify:!0,readOnly:!0},ros:{type:Object,default:null,observer:'_initService'},serviceType:{type:String,observer:'_initService'},_service:{type:Object,default:null}},_requestChanged:function(){this._setLastResponse(null),this._setLastError(null),this._service&&this.request&&this.auto&&this.call(this.request)},_initService:function(){if(this.ros&&this.name&&this.serviceType){var a=this;this._service=new ROSLIB.Service({ros:a.ros,name:a.name,serviceType:a.serviceType})}},call:function(a){if(this._service&&a){var b=this,c=this.lastResponse,d=new ROSLIB.ServiceRequest(a);this._service.callService(d,function(f){b._setLastResponse(f),b.fire('response',f)},function(f){b.lastError=f,b.fire('fail',f)})}else{var e='ros-service was not initialized before calling.';console.error(e),this.fire('fail',e)}}});</script></dom-module><dom-module id="ros-rviz-depth-cloud" assetpath="bower_components/ros-rviz/"><template><ros-service id="startDepthService" on-response="_onDepthStart" name="/start_depth_cloud" ros="{{ros}}" service-type="rws_rviz/StartDepthCloud"></ros-service><ros-service id="stopDepthService" name="/stop_depth_cloud" ros="{{ros}}" service-type="rws_rviz/StopDepthCloud"></ros-service><paper-input label="Color image topic" value="{{colorTopic}}" on-blur="_onOptionsChanged"></paper-input><paper-input label="Depth image topic" value="{{depthTopic}}" on-blur="_onOptionsChanged"></paper-input><paper-input label="Camera frame ID" value="{{frameId}}" on-blur="_onOptionsChanged"></paper-input></template><script>Polymer({is:'ros-rviz-depth-cloud',properties:{colorTopic:{type:String,value:'/head_mount_kinect/rgb/image_rect_color'},depthTopic:{type:String,value:'/head_mount_kinect/depth_registered/image_raw'},frameId:{type:String,value:'/head_mount_kinect_rgb_optical_frame'},globalOptions:Object,name:{type:String,value:'Depth cloud'},tfClient:Object,viewer:Object,ros:Object,_cloud:{type:Object,value:null},_oldColorTopic:String,_oldDepthTopic:String,_sceneNode:Object,_depthUrl:String,_depthUrlTopic:String},ready:function(){this._updateStream();var a=this;window.addEventListener('beforeunload',function(){a._endStream()}),this.show()},destroy:function(){this._cloud&&this._cloud.stopStream(),this._endStream(),this._sceneNode&&(this.viewer.scene.remove(this._sceneNode),delete this._sceneNode)},hide:function(){this._cloud&&this._cloud.stopStream(),this._sceneNode&&this.viewer.scene.remove(this._sceneNode)},show:function(){this._cloud&&this._cloud.startStream(),this._sceneNode&&this.viewer.scene.add(this._sceneNode)},_updateDisplay:function(){this;this._cloud&&this._cloud.stopStream();this._depthUrl&&(this._cloud=new ROS3D.DepthCloud({url:this._depthUrl,f:525}),this._cloud.startStream(),this._sceneNode=new ROS3D.SceneNode({frameID:this.frameId,tfClient:this.tfClient,object:this._cloud}),this._sceneNode.scale.x=0.5,this._sceneNode.scale.y=0.5,this._sceneNode.scale.z=0.5,this.viewer.scene.add(this._sceneNode))},_computeDepthUrl:function(a){var b=this.globalOptions.videoServer+'/streams'+a+'.webm?enc=webm&bitrate=250000&framerate=15';return b},_onDepthStart:function(a){this._depthUrlTopic=a.detail.topic,this._depthUrl=this._computeDepthUrl(this._depthUrlTopic),this._updateDisplay()},_onOptionsChanged:function(){this._updateStream()},_updateStream:function(){this._endStream();this.colorTopic&&this.depthTopic&&(this._oldColorTopic=this.colorTopic,this._oldDepthTopic=this.depthTopic,this.$.startDepthService.call({depth_topic:this.depthTopic,rgb_topic:this.colorTopic,client_id:this.globalOptions.clientId}))},_endStream:function(){this._oldColorTopic&&this._oldDepthTopic&&this.$.stopDepthService.call({depth_topic:this._oldDepthTopic,rgb_topic:this._oldColorTopic,client_id:this.globalOptions.clientId})}});</script></dom-module><dom-module id="ros-rviz-grid" assetpath="bower_components/ros-rviz/"><template><paper-input label="Cell size (m)" value="{{cellSize}}"></paper-input><paper-input label="Color" value="{{color}}"></paper-input><paper-input label="# cells per side" value="{{numCells}}"></paper-input></template><script>Polymer({is:'ros-rviz-grid',properties:{cellSize:{notify:!0,type:Number,value:1},color:{type:String,value:'#cccccc',notify:!0},name:{type:String,value:'Grid'},numCells:{notify:!0,type:Number,value:10},viewer:{type:Object},_grid:Object},observers:['_optionsChanged(viewer, cellSize, color, numCells)'],ready:function(){this._updateGrid(),this.show()},destroy:function(){},hide:function(){this.viewer&&this.viewer.scene.remove(this._grid)},show:function(){this.viewer&&(this.viewer.scene.remove(this._grid),this.viewer.addObject(this._grid))},_optionsChanged:function(){this.hide(),this._updateGrid(),this.show()},_updateGrid:function(){this.viewer&&this.viewer.scene.remove(this._grid),this._grid=new ROS3D.Grid({cellSize:this.cellSize,color:this.color,lineWidth:this.lineWidth,num_cells:this.numCells})}});</script></dom-module><dom-module id="ros-rviz-interactive-markers" assetpath="bower_components/ros-rviz/"><template><paper-input label="Interactive marker topic" on-blur="_updateDisplay" value="{{topic}}"></paper-input></template><script>Polymer({is:'ros-rviz-interactive-markers',properties:{globalOptions:Object,name:{type:String,value:'Interactive Markers'},ros:Object,tfClient:Object,topic:{type:String,value:'/basic_controls'},viewer:Object,_client:{type:Object,value:null}},observers:['_optionsChanged(viewer, topic)'],ready:function(){this._updateDisplay(),this.show()},destroy:function(){},hide:function(){this._client&&this._client.unsubscribe()},show:function(){this._client&&this._client.subscribe(this.topic)},_optionsChanged:function(){this.hide(),this._updateDisplay(),this.show()},_updateDisplay:function(){if(this.viewer&&this.topic){var a=this;this._client&&this._client.unsubscribe();var b=ROS3D.COLLADA_LOADER_2;'collada'===a.globalOptions.colladaLoader?b=ROS3D.COLLADA_LOADER:'collada2'===a.globalOptions.colladaLoader?b=ROS3D.COLLADA_LOADER_2:(console.warn('Unknown Collada loader',a.globalOptions.colladaLoader),b=ROS3D.COLLADA_LOADER_2),this._client=new ROS3D.InteractiveMarkerClient({loader:b,path:this.globalOptions.colladaServer,ros:this.ros,tfClient:this.tfClient,topic:this.topic,camera:this.viewer.camera,rootObject:this.viewer.selectableObjects})}}});</script></dom-module><dom-module id="ros-rviz-marker-array" assetpath="bower_components/ros-rviz/"><template><paper-input label="Marker array topic" on-blur="_topicChanged" value="{{topic}}"></paper-input></template><script>Polymer({is:'ros-rviz-marker-array',properties:{globalOptions:Object,isShown:Boolean,name:{type:String,value:'Marker array'},ros:Object,tfClient:Object,topic:{type:String,value:'/visualization_marker_array'},viewer:Object,_markers:{type:Object,value:function(){return{}}},_topic:Object,_lastRenderedTopic:{type:String,value:''}},ready:function(){this.show()},destroy:function(){for(var a in this._markers)this._markers[a].unsubscribeTf();this._markers={},this._topic.unsubscribe()},hide:function(){if(this.viewer)for(var a in this._markers)this.viewer.scene.remove(this._markers[a])},show:function(){if(this._updateDisplay(),this.viewer)for(var a in this._markers)this.isShown&&this.viewer.addObject(this._markers[a])},_topicChanged:function(){if(this.topic!==this._lastRenderedTopic){for(var a in this.hide(),this._markers)this._markers[a].unsubscribeTf();this._markers={},this._updateDisplay()}},_updateDisplay:function(){var a=this;this._topic&&this._topic.unsubscribe(),this._topic=new ROSLIB.Topic({ros:this.ros,name:this.topic,messageType:'visualization_msgs/MarkerArray',compression:'png'}),this._topic.subscribe(function(b){a._msgCallback(a,b)}),this._lastRenderedTopic=this.topic},_msgCallback:function(a,b){var c=ROS3D.COLLADA_LOADER_2;'collada'===a.globalOptions.colladaLoader?c=ROS3D.COLLADA_LOADER:'collada2'===a.globalOptions.colladaLoader?c=ROS3D.COLLADA_LOADER_2:(console.warn('Unknown Collada loader',a.globalOptions.colladaLoader),c=ROS3D.COLLADA_LOADER_2);var d=a.globalOptions.colladaServer;b.markers.forEach(function(e){if(0===e.action){var f=!1;if(e.ns+'_'+e.id in a._markers&&(f=a._markers[e.ns+'_'+e.id].children[0].update(e),!f&&(a._markers[e.ns+'_'+e.id].unsubscribeTf(),a.viewer.scene.remove(a._markers[e.ns+'_'+e.id]))),!f){var g=new ROS3D.Marker({message:e,path:d,loader:c});a._markers[e.ns+'_'+e.id]=new ROS3D.SceneNode({frameID:e.header.frame_id,tfClient:a.tfClient,object:g}),a.isShown&&a.viewer.scene.add(a._markers[e.ns+'_'+e.id])}}else if(1===e.action)console.warn('Received marker message with deprecated action identifier "1"');else if(2===e.action)a._markers[e.ns+'_'+e.id].unsubscribeTf(),a.viewer.scene.remove(a._markers[e.ns+'_'+e.id]),delete a._markers[e.ns+'_'+e.id];else if(3===e.action){for(var h in a._markers)a._markers[h].unsubscribeTf(),a.viewer.scene.remove(a._markers[h]);a._markers={}}else console.warn('Received marker message with unknown action identifier "'+e.action+'"')})}});</script></dom-module><dom-module id="ros-rviz-markers" assetpath="bower_components/ros-rviz/"><template><paper-input label="Marker topic" on-blur="_updateDisplay" value="{{topic}}"></paper-input></template><script>Polymer({is:'ros-rviz-markers',properties:{globalOptions:Object,isShown:Boolean,name:{type:String,value:'Markers'},ros:Object,tfClient:Object,topic:{type:String,value:'/visualization_marker'},viewer:Object,_markers:{type:Object,value:function(){return{}}},_topic:Object},ready:function(){this._updateDisplay(),this.show()},destroy:function(){this._topic.unsubscribe()},hide:function(){if(this.viewer)for(var a in this._markers)this._markers[a].unsubscribeTf(),this.viewer.scene.remove(this._markers[a])},show:function(){if(this.viewer)for(var a in this._markers)this.viewer.addObject(this._markers[a])},_updateDisplay:function(){var a=this;this._topic&&this._topic.unsubscribe(),this._topic=new ROSLIB.Topic({ros:this.ros,name:this.topic,messageType:'visualization_msgs/Marker',compression:'png'}),this._topic.subscribe(function(b){a._msgCallback(a,b)})},_msgCallback:function(a,b){var c=ROS3D.COLLADA_LOADER_2;'collada'===a.globalOptions.colladaLoader?c=ROS3D.COLLADA_LOADER:'collada2'===a.globalOptions.colladaLoader?c=ROS3D.COLLADA_LOADER_2:(console.warn('Unknown Collada loader',a.globalOptions.colladaLoader),c=ROS3D.COLLADA_LOADER_2);var d=new ROS3D.Marker({message:b,path:a.globalOptions.colladaServer,loader:c}),e=a._markers[b.ns+b.id];e&&(e.unsubscribeTf(),a.viewer.scene.remove(e)),a._markers[b.ns+b.id]=new ROS3D.SceneNode({frameID:b.header.frame_id,tfClient:a.tfClient,object:d}),a.isShown&&a.viewer.addObject(a._markers[b.ns+b.id])}});</script></dom-module><dom-module id="ros-rviz-occupancy-grid" assetpath="bower_components/ros-rviz/"><template><paper-input label="Map topic" value="{{topic}}"></paper-input><paper-checkbox checked="{{continuous}}">Continuously update</paper-checkbox><paper-input label="Opacity" value="{{opacity}}"></paper-input></template><script>Polymer({is:'ros-rviz-occupancy-grid',properties:{name:{type:String,value:'Map'},topic:{type:String,value:'/map'},continuous:{type:Boolean,value:!0},opacity:{type:Number,value:1},globalOptions:Object,isShown:Boolean,ros:Object,tfClient:Object,viewer:Object},observers:['_optionsChanged(viewer, topic, continuous, opacity)'],destroy:function(){},hide:function(){this.viewer&&this._gridClient&&this.viewer.scene.remove(this._gridClient.currentGrid),this._gridClient&&(this._gridClient.unsubscribe(),this._gridClient=null)},show:function(){this.viewer&&this.isShown&&!this._gridClient&&this._updateDisplay()},_optionsChanged:function(){this.hide(),this._updateDisplay(),this.show()},_updateDisplay:function(){this.ros&&this.viewer&&this.topic&&(this.continuous||!1===this.continuous)&&(this.opacity||0===this.opacity)&&(this._gridClient&&this._gridClient.unsubscribe(),this._gridClient=new ROS3D.OccupancyGridClient({ros:this.ros,topic:this.topic,continuous:this.continuous,rootObject:this.viewer.scene,offsetPose:null,color:{r:255,g:255,b:255},opacity:this.opacity}))}});</script></dom-module><dom-module id="paper-radio-button" assetpath="bower_components/paper-radio-button/"><template strip-whitespace=""><style>:host{display:inline-block;line-height:0;white-space:nowrap;cursor:pointer;@apply --paper-font-common-base;--calculated-paper-radio-button-size:var(--paper-radio-button-size, 16px);--calculated-paper-radio-button-ink-size:var(--paper-radio-button-ink-size, -1px);}:host(:focus){outline:none;}#radioContainer{@apply --layout-inline;@apply --layout-center-center;position:relative;width:var(--calculated-paper-radio-button-size);height:var(--calculated-paper-radio-button-size);vertical-align:middle;@apply --paper-radio-button-radio-container;}#ink{position:absolute;top:50%;left:50%;right:auto;width:var(--calculated-paper-radio-button-ink-size);height:var(--calculated-paper-radio-button-ink-size);color:var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}#ink[checked]{color:var(--paper-radio-button-checked-ink-color, var(--primary-color));}#offRadio, #onRadio{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-radius:50%;}#offRadio{border:2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));background-color:var(--paper-radio-button-unchecked-background-color, transparent);transition:border-color 0.28s;}#onRadio{background-color:var(--paper-radio-button-checked-color, var(--primary-color));-webkit-transform:scale(0);transform:scale(0);transition:-webkit-transform ease 0.28s;transition:transform ease 0.28s;will-change:transform;}:host([checked]) #offRadio{border-color:var(--paper-radio-button-checked-color, var(--primary-color));}:host([checked]) #onRadio{-webkit-transform:scale(0.5);transform:scale(0.5);}#radioLabel{line-height:normal;position:relative;display:inline-block;vertical-align:middle;margin-left:var(--paper-radio-button-label-spacing, 10px);white-space:normal;color:var(--paper-radio-button-label-color, var(--primary-text-color));@apply --paper-radio-button-label;}:host([checked]) #radioLabel{@apply --paper-radio-button-label-checked;}:host-context([dir="rtl"]) #radioLabel{margin-left:0;margin-right:var(--paper-radio-button-label-spacing, 10px);}#radioLabel[hidden]{display:none;}:host([disabled]) #offRadio{border-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled][checked]) #onRadio{background-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #radioLabel{opacity:0.65;}</style><div id="radioContainer"><div id="offRadio"></div><div id="onRadio"></div></div><div id="radioLabel"><slot></slot></div></template><script>Polymer({is:'paper-radio-button',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'radio',"aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-radio-button-ink-size').trim();if('-1px'===a){var b=parseFloat(this.getComputedStyleValue('--calculated-paper-radio-button-size').trim()),c=Math.floor(3*b);c%2!==b%2&&c++,this.updateStyles({"--paper-radio-button-ink-size":c+'px'})}})}});</script></dom-module><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:'menubar'},keyBindings:{left:'_onLeftKey',right:'_onRightKey'},_onUpKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},get _isRTL(){return'rtl'===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?this._focusPrevious():this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down left right esc')||this._focusWithKeyboardEvent(a)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><dom-module id="paper-radio-group" assetpath="bower_components/paper-radio-group/"><template><style>:host{display:inline-block;}:host ::slotted(*){padding:var(--paper-radio-group-item-padding, 12px);}</style><slot></slot></template></dom-module><script>Polymer({is:'paper-radio-group',behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:'radiogroup',tabindex:0},properties:{attrForSelected:{type:String,value:'name'},selectedAttribute:{type:String,value:'checked'},selectable:{type:String,value:'paper-radio-button'},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!(b&&b.hasAttribute('disabled'))){if(this.selected){var c=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a='';else return void(c&&(c.checked=!0));c&&(c.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]),this.fire('paper-radio-group-changed')}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(a){this._focusPrevious(),a.preventDefault(),this._activateFocusedItem()},_onDownKey:function(a){this._focusNext(),a.preventDefault(),this._activateFocusedItem()},_onLeftKey:function(){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments),this._activateFocusedItem()},_onRightKey:function(){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments),this._activateFocusedItem()}});</script><dom-module id="ros-rviz-options" assetpath="bower_components/ros-rviz/"><template><style include="iron-flex iron-flex-alignment"></style><style>label{@apply (--paper-font-common-base);}</style><paper-input label="Fixed frame" value="{{fixedFrame}}" on-blur="_updateGlobalOptions"></paper-input><paper-input label="Background color" value="{{background}}" on-blur="_updateGlobalOptions"></paper-input><paper-input label="Websocket URL" value="{{url}}" on-blur="_updateGlobalOptions"></paper-input><paper-input label="Web video server URL" value="{{videoServer}}" on-blur="_updateGlobalOptions"></paper-input><paper-input label="Collada file server URL" value="{{colladaServer}}" on-blur="_updateGlobalOptions"></paper-input><label id="colladaLabel">Collada loader:</label><paper-radio-group selected="{{colladaLoader}}" aria-labelledby="colladaLabel"><paper-radio-button name="collada">Loader 1</paper-radio-button><paper-radio-button name="collada2">Loader 2</paper-radio-button></paper-radio-group></template><script>Polymer({is:'ros-rviz-options',properties:{background:{type:String,value:'#111111'},clientId:{type:String,value:function(){return''+Math.random()}},colladaLoader:{observer:'_updateGlobalOptions',type:String,value:'collada2'},colladaServer:{type:String,value:function(){var a=window.location.hostname;return'http://'+a+':8001/'}},fixedFrame:{type:String,value:'/base_link'},globalOptions:{type:Object,notify:!0},name:{type:String,value:'Options'},url:{type:String,value:function(){var a=window.location.hostname,b='ws:';return'https:'===window.location.protocol&&(b='wss:'),b+'//'+a+':9090'}},videoServer:{type:String,value:function(){var a=window.location.hostname;return'http://'+a+':9999'}}},ready:function(){this._updateGlobalOptions()},destroy:function(){},hide:function(){},loadConfig:function(a){a.background&&(this.background=a.background),('collada'===a.colladaLoader||'collada2'===a.colladaLoader)&&(this.colladaLoader=a.colladaLoader),a.colladaServer&&(this.colladaServer=a.colladaServer),a.fixedFrame&&(this.fixedFrame=a.fixedFrame),a.url&&(this.url=a.url),a.videoServer&&this.videoServer==a.videoServer,this._updateGlobalOptions()},show:function(){},_updateGlobalOptions:function(){var a=this;a.set('globalOptions.background',a.background),a.set('globalOptions.clientId',a.clientId),a.set('globalOptions.colladaLoader',a.colladaLoader),a.set('globalOptions.colladaServer',a.colladaServer),a.set('globalOptions.fixedFrame',a.fixedFrame),a.set('globalOptions.url',a.url),a.set('globalOptions.videoServer',a.videoServer)}});</script></dom-module><dom-module id="ros-rviz-point-cloud-2" assetpath="bower_components/ros-rviz/"><template><paper-input label="Topic" value="{{topic}}"></paper-input><paper-input label="Size" value="{{size}}"></paper-input></template><script>Polymer({is:'ros-rviz-point-cloud-2',properties:{name:{type:String,value:'Point cloud 2'},topic:{type:String,value:'',notify:!0},size:{type:Number,value:0.01,notify:!0},globalOptions:Object,ros:Object,tfClient:Object,viewer:Object,_pc2:Object},observers:['_optionsChanged(topic, size, viewer)'],destroy:function(){this._pc2&&(this._pc2.unsubscribe(),this.viewer.scene.remove(this._pc2.particles.sn),delete this._pc2)},hide:function(){this._pc2&&(this._pc2.unsubscribe(),this.viewer.scene.remove(this._pc2.particles.sn),delete this._pc2)},show:function(){this._updateDisplay()},_optionsChanged:function(){var d=this;this.debounce('updateForOptions',function(){d.hide(),d.show()},200)},_updateDisplay:function(a){if(this.ros&&this.tfClient&&this.topic){this.destroy();this;this._pc2=new ROS3D.PointCloud2({ros:this.ros,topic:this.topic,size:this.size,max_pts:307200,tfClient:this.tfClient,rootObject:this.viewer.scene}),a&&a()}}});</script></dom-module><dom-module id="ros-rviz-point-cloud" assetpath="bower_components/ros-rviz/"><template><ros-service id="startPcService" on-response="_onPcStart" on-fail="_onPcStartFail" name="/start_point_cloud" ros="{{ros}}" service-type="rws_rviz/StartPointCloud"></ros-service><ros-service id="stopPcService" name="/stop_point_cloud" on-fail="_onPcStopFail" ros="{{ros}}" service-type="rws_rviz/StopPointCloud"></ros-service><paper-input label="Topic" value="{{topic}}" on-blur="_onOptionsChanged"></paper-input><paper-input label="Camera frame ID" value="{{frameId}}" on-blur="_onOptionsChanged"></paper-input></template><script>Polymer({is:'ros-rviz-point-cloud',properties:{topic:{type:String,value:'/head_mount_kinect/depth_registered/points'},frameId:{type:String,value:'/head_mount_kinect_rgb_optical_frame'},globalOptions:Object,name:{type:String,value:'Point cloud'},tfClient:Object,viewer:Object,ros:Object,_cloud:{type:Object,value:null},_oldTopic:String,_sceneNode:Object,_url:String,_urlTopic:String},ready:function(){this._updateStream();var a=this;window.addEventListener('beforeunload',function(){a._endStream()}),this.show()},destroy:function(){this._cloud&&this._cloud.stopStream(),this._endStream(),this._sceneNode&&(this.viewer.scene.remove(this._sceneNode),delete this._sceneNode)},hide:function(){this._cloud&&this._cloud.stopStream(),this._sceneNode&&this.viewer.scene.remove(this._sceneNode)},show:function(){this._cloud&&this._cloud.startStream(),this._sceneNode&&this.viewer.scene.add(this._sceneNode)},_updateDisplay:function(){this;this._cloud&&this._cloud.stopStream();this._url&&(this._cloud=new ROS3D.DepthCloud({url:this._url,f:525}),this._cloud.startStream(),this._sceneNode=new ROS3D.SceneNode({frameID:this.frameId,tfClient:this.tfClient,object:this._cloud}),this._sceneNode.scale.x=0.5,this._sceneNode.scale.y=0.5,this._sceneNode.scale.z=0.5,this.viewer.scene.add(this._sceneNode))},_computeUrl:function(a){var b=this.globalOptions.videoServer+'/streams'+a+'.webm?enc=webm&bitrate=250000&framerate=15';return b},_onPcStart:function(a){this._urlTopic=a.detail.topic,this._url=this._computeUrl(this._urlTopic),this._updateDisplay()},_onOptionsChanged:function(){this._updateStream()},_updateStream:function(){this._endStream();this.topic&&(this._oldTopic=this.topic,this.$.startPcService.call({topic:this.topic,camera_frame_id:this.frameId,client_id:this.globalOptions.clientId}))},_endStream:function(){this._oldTopic&&this.$.stopPcService.call({topic:this._oldTopic,client_id:this.globalOptions.clientId})},_onPcStartFail:function(a){console.error('Error starting point cloud stream',a.detail)},_onPcStopFail:function(a){console.error('Error stopping point cloud stream',a.detail)}});</script></dom-module><dom-module id="ros-rviz-urdf" assetpath="bower_components/ros-rviz/"><template><paper-input label="Robot description topic" value="{{param}}"></paper-input><paper-input label="TF prefix" value="{{tfPrefix}}"></paper-input></template><script>Polymer({is:'ros-rviz-urdf',properties:{name:{type:String,value:'Robot model'},param:{type:String,value:'robot_description'},globalOptions:Object,isShown:Boolean,ros:Object,tfClient:Object,tfPrefix:{type:String,value:''},viewer:Object,_urdf:Object},observers:['_optionsChanged(param)','_tfPrefixChanged(tfPrefix)'],ready:function(){var a=this;this._updateDisplay(function(){a.show()})},destroy:function(){},hide:function(){this.viewer&&this.viewer.scene.remove(this._urdf)},show:function(){this.viewer&&this.isShown&&this.viewer.addObject(this._urdf)},_optionsChanged:function(){var b=this;this.debounce('updateForOptions',function(){b.hide(),b._updateDisplay(function(){b.show()})},1e3)},_tfPrefixChanged:function(a){this._urdf&&this._urdf.updateTfPrefix(a)},_updateDisplay:function(a){if(this.ros&&this.tfClient&&this.param&&this.globalOptions.colladaLoader&&this.globalOptions.colladaServer){var b=new ROSLIB.Param({ros:this.ros,name:this.param}),c=this;b.get(function(d){var e=new ROSLIB.UrdfModel({string:d}),f=ROS3D.COLLADA_LOADER_2;'collada'===c.globalOptions.colladaLoader?f=ROS3D.COLLADA_LOADER:'collada2'===c.globalOptions.colladaLoader?f=ROS3D.COLLADA_LOADER_2:(console.warn('Unknown Collada loader',c.globalOptions.colladaLoader),f=ROS3D.COLLADA_LOADER_2),c.hide(),c._urdf=new ROS3D.Urdf({urdfModel:e,path:c.globalOptions.colladaServer,tfClient:c.tfClient,tfPrefix:c.tfPrefix,loader:f}),a&&a()})}}});</script></dom-module><dom-module id="ros-rviz-display" assetpath="bower_components/ros-rviz/"><template><style include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}h1{@apply (--paper-font-subhead);}paper-checkbox{display:inline;}#collapse{padding:0px 10px;}#header{cursor:pointer;padding:0px 10px;}#header:hover{background-color:var(--paper-grey-200);}#deleteButton{color:var(--paper-grey-500);}#deleteButton:hover{color:var(--paper-red-500);}[hidden]{display:none;}</style><div class="layout horizontal" id="header" on-tap="_toggleCollapse"><paper-checkbox checked="{{isShown}}" hidden$="[[permanent]]" on-tap="_handleCheckbox"><h1>{{name}}</h1></paper-checkbox><h1 hidden$="[[!permanent]]">{{name}}</h1><div class="flex"></div><paper-icon-button id="deleteButton" icon="cancel" on-tap="destroy" hidden$="[[permanent]]"></paper-icon-button></div><iron-collapse id="collapse"><template is="dom-if" if="{{_typeIs('globalOptions', type)}}"><ros-rviz-options id="display" global-options="{{globalOptions}}"></ros-rviz-options></template><template is="dom-if" if="{{_typeIs('grid', type)}}"><ros-rviz-grid id="display" cell-size="{{options.cellSize}}" color="{{options.color}}" global-options="{{globalOptions}}" is-shown="{{isShown}}" num-cells="{{options.numCells}}" viewer="{{viewer}}"></ros-rviz-grid></template><template is="dom-if" if="{{_typeIs('depthCloud', type)}}"><ros-rviz-depth-cloud id="display" color-topic="{{options.colorTopic}}" depth-topic="{{options.depthTopic}}" frame-id="{{options.frameId}}" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" tf-client="{{tfClient}}" viewer="{{viewer}}"></ros-rviz-depth-cloud></template><template is="dom-if" if="{{_typeIs('interactiveMarkers', type)}}"><ros-rviz-interactive-markers id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" tf-client="{{tfClient}}" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-interactive-markers></template><template is="dom-if" if="{{_typeIs('markers', type)}}"><ros-rviz-markers id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" tf-client="{{tfClient}}" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-markers></template><template is="dom-if" if="{{_typeIs('markerArray', type)}}"><ros-rviz-marker-array id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" tf-client="{{tfClient}}" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-marker-array></template><template is="dom-if" if="{{_typeIs('occupancyGrid', type)}}"><ros-rviz-occupancy-grid id="display" continuous="{{options.continuous}}" global-options="[[globalOptions]]" is-shown="[[isShown]]" opacity="{{options.opacity}}" ros="[[ros]]" tf-client="[[tfClient]]" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-occupancy-grid></template><template is="dom-if" if="{{_typeIs('pointCloud', type)}}"><ros-rviz-point-cloud id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" tf-client="{{tfClient}}" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-point-cloud></template><template is="dom-if" if="{{_typeIs('pointCloud2', type)}}"><ros-rviz-point-cloud-2 id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" ros="{{ros}}" size="{{options.size}}" tf-client="{{tfClient}}" topic="{{options.topic}}" viewer="{{viewer}}"></ros-rviz-point-cloud-2></template><template is="dom-if" if="{{_typeIs('urdf', type)}}"><ros-rviz-urdf id="display" global-options="{{globalOptions}}" is-shown="{{isShown}}" param="{{options.param}}" ros="{{ros}}" tf-client="{{tfClient}}" tf-prefix="{{options.tfPrefix}}" viewer="{{viewer}}"></ros-rviz-urdf></template></iron-collapse></template><script>Polymer({is:'ros-rviz-display',properties:{display:Object,name:String,index:Number,isShown:{type:Boolean,observer:'_onIsShownChanged'},globalOptions:Object,options:{type:Object,value:function(){return{}}},permanent:{type:Boolean,value:!1},ros:Object,tfClient:Object,type:{type:String},viewer:Object},show:function(){this.isShown=!0},destroy:function(){if(!this.permanent){var a=this.$$('#display');a.hide(),a.destroy(),this.fire('delete-display',{index:this.index})}},hide:function(){this.permanent||(this.isShown=!1)},loadConfig:function(a){Polymer.RenderStatus.afterNextRender(this,function(){var b=this.$$('#display');b&&b.loadConfig&&b.loadConfig(a)})},_handleCheckbox:function(a){a.stopPropagation()},_onIsShownChanged:function(a){var b=this.$$('#display');a&&b?b.show():!a&&b&&b.hide()},_toggleCollapse:function(){this.$.collapse.toggle()},_typeIs:function(a,b){return a===b}});</script></dom-module><dom-module id="ros-rviz" assetpath="bower_components/ros-rviz/"><template><style include="iron-flex iron-flex-alignment"><style>
      :host{display:block;height:100%;@apply (--paper-font-common-base);}#displays{background-color:var(--paper-grey-50);color:rgba(0, 0, 0, 0.87);}#displayHeader{background-color:var(--paper-grey-300);color:rgba(0, 0, 0, 0.87);}#addButton{color:rgba(0, 0, 0, 0.87);background-color:#ffc107;position:relative;top:28px;z-index:2;}#container{height:100%;}#sidebar{height:100%;}#displays{width:300px;height:100%;}#viewer{overflow:hidden;width:100%;height:100%;}#openDisplays{position:absolute;margin:10px;color:rgba(255, 255, 255, 0.87);background-color:rgba(255, 255, 255, 0.2);}#openDisplays:hover{background-color:rgba(255, 255, 255, 0.3);}paper-item{--paper-item:{cursor:pointer;};}[hidden]{display:none;}</style><div id="container" class="layout horizontal"><iron-collapse id="sidebar" opened="{{sidebarOpened}}" horizontal=""><paper-header-panel mode="seamed" id="displays"><paper-toolbar slot="header" id="displayHeader"><paper-icon-button id="closeDisplays" icon="arrow-back" on-tap="_toggleDisplayList" slot="top"></paper-icon-button><paper-tooltip position="right" animation-delay="0" for="closeDisplays" slot="top">Hide displays panel</paper-tooltip><span class="title" slot="top">Displays</span><paper-tooltip position="bottom" animation-delay="0" for="addButton" slot="top">Add a display</paper-tooltip><paper-menu-button id="displayMenu" slot="top"><paper-fab icon="add" id="addButton" slot="dropdown-trigger"></paper-fab><paper-listbox id="displayPaperMenu" slot="dropdown-content" on-tap="_onDisplaySelected"><paper-item on-tap="addDepthCloud">Depth cloud</paper-item><paper-item on-tap="addGrid">Grid</paper-item><paper-item on-tap="addInteractiveMarkers">Interactive markers</paper-item><paper-item on-tap="addMarkers">Markers</paper-item><paper-item on-tap="addMarkerArray">Marker array</paper-item><paper-item on-tap="addOccupancyGrid">Occupancy grid</paper-item><paper-item on-tap="addPointCloud">Point cloud</paper-item><paper-item on-tap="addPointCloud2">Point cloud 2</paper-item><paper-item on-tap="addUrdf">Robot model</paper-item></paper-listbox></paper-menu-button></paper-toolbar><div id="displayList"><ros-rviz-display id="options" global-options="{{globalOptions}}" name="Global options" permanent="" type="globalOptions"></ros-rviz-display><template is="dom-repeat" items="{{displays}}" as="display"><ros-rviz-display global-options="{{globalOptions}}" index="{{index}}" is-shown="{{display.isShown}}" on-delete-display="_deleteDisplay" viewer="{{_viewer}}" ros="{{ros}}" tf-client="{{tfClient}}" name="{{display.name}}" options="{{display.options}}" type="{{display.type}}"></ros-rviz-display></template></div></paper-header-panel></iron-collapse><paper-fab icon="menu" id="openDisplays" hidden$="{{sidebarOpened}}" on-tap="_toggleDisplayList"></paper-fab><paper-tooltip position="right" animation-delay="0" for="openDisplays">Open displays</paper-tooltip><div id="viewer" class="flex"></div></div></template><script>Polymer({is:'ros-rviz',properties:{globalOptions:{type:Object,value:function(){return{}},notify:!0},config:{computed:'_computeConfig(globalOptions, displays, sidebarOpened)',notify:!0,type:Object},displays:{type:Array,value:function(){return[]}},ros:{type:Object,observer:'_rosChanged'},sidebarOpened:{type:Boolean,value:!0},tfClient:Object,websocketUrl:{type:String,notify:!0,computed:'_computeWebsocketUrl(globalOptions.url)'},_viewer:Object},behaviors:[Polymer.IronResizableBehavior],observers:['_fixedFrameChanged(globalOptions.fixedFrame)','_backgroundChanged(globalOptions.background)'],_backgroundChanged:function(a){a&&this._viewer&&this._viewer.renderer.setClearColor(parseInt(a.replace('#','0x'),16),1)},_fixedFrameChanged:function(a){this.tfClient&&(this.tfClient.fixedFrame=a,this.tfClient.updateGoal())},attached:function(){Polymer.RenderStatus.beforeNextRender(this,function(){if(!this._attached){var a=this.$.viewer.offsetWidth,b=this.$.viewer.offsetHeight,c=this.globalOptions.background,e=document.getElementById,f=this;document.getElementById=function(g){return f.shadowRoot.getElementById(g)},this._viewer=new ROS3D.Viewer({background:c,divID:'viewer',width:a,height:b,antialias:!0}),document.getElementById=e,this._attached=!0}}),Polymer.RenderStatus.afterNextRender(this,function(){var a=this;window.setTimeout(function(){a.resize()},100),this.addEventListener('iron-resize',function(){a.resize()})})},addGrid:function(){this.push('displays',{isShown:!0,name:'Grid',options:{cellSize:1,color:'#cccccc',numCells:10},type:'grid'})},addInteractiveMarkers:function(){this.push('displays',{isShown:!0,name:'Interactive Markers',options:{topic:'/basic_controls'},type:'interactiveMarkers'})},addMarkers:function(){this.push('displays',{isShown:!0,name:'Markers',options:{topic:'/visualization_marker'},type:'markers'})},addMarkerArray:function(){this.push('displays',{isShown:!0,name:'Marker array',options:{topic:'/visualization_marker_array'},type:'markerArray'})},addOccupancyGrid:function(){this.push('displays',{isShown:!0,name:'Map',options:{color:{r:255,g:255,b:255},continuous:!0,opacity:1,topic:'/map'},type:'occupancyGrid'})},addDepthCloud:function(){this.push('displays',{isShown:!0,name:'Depth cloud',options:{colorTopic:'/head_mount_kinect/rgb/image_rect_color',depthTopic:'/head_mount_kinect/depth_registered/image_raw',frameId:'/head_mount_kinect_rgb_optical_frame'},type:'depthCloud'})},addPointCloud:function(){this.push('displays',{isShown:!0,name:'Point cloud',options:{topic:''},type:'pointCloud'})},addPointCloud2:function(){this.push('displays',{isShown:!0,name:'Point cloud 2',options:{topic:'',size:0.01},type:'pointCloud2'})},addUrdf:function(){this.push('displays',{isShown:!0,name:'Robot model',options:{param:'robot_description',tfPrefix:''},type:'urdf'})},loadConfig:function(a){a.globalOptions&&this.$.options.loadConfig(a.globalOptions);for(var e,b=this.$.displayList.querySelectorAll('ros-rviz-display'),c=0;c<b.length;++c)e=b[c],e.hide(),e.destroy();if(this.splice('displays',0,this.displays.length),a.displays)for(var g,f=0;f<a.displays.length;++f)g=a.displays[f],this.push('displays',g);'boolean'===typeof a.sidebarOpened&&(this.sidebarOpened=a.sidebarOpened)},resize:function(){if(this._viewer){var a=this.$.viewer.offsetWidth,b=this.$.viewer.offsetHeight;this._viewer.resize(a,b)}},_computeConfig:function(a,b,c){return{globalOptions:a,displays:b,sidebarOpened:c}},_computeWebsocketUrl:function(a){return a},_deleteDisplay:function(a){var b=a.detail.index;this.splice('displays',b,1)},_onDisplaySelected:function(){this.$.displayPaperMenu.selected=void 0},_rosChanged:function(){this.tfClient=new ROSLIB.TFClient({ros:this.ros,angularThres:0.01,fixedFrame:this.globalOptions.fixedFrame,transThres:0.01,rate:10})},_toggleDisplayList:function(){this.$.sidebar.toggle()}});</script></dom-module><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[selectedItemLabel]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){'use strict';Polymer({is:'paper-dropdown-menu',behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:'_openedChanged'},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:'right'},verticalAlign:{type:String,value:'top'},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:'_onTap'},keyBindings:{"up down":'open',esc:'close'},hostAttributes:{role:'combobox',"aria-autocomplete":'none',"aria-haspopup":'true'},observers:['_selectedItemChanged(selectedItem)'],attached:function(){var a=this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){for(var a=Polymer.dom(this.$.content).getDistributedNodes(),b=0,c=a.length;b<c;b++)if(a[b].nodeType===Node.ELEMENT_NODE)return a[b]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){var b='';b=a?a.label||a.getAttribute('label')||a.textContent.trim():'',this._setValue(b),this._setSelectedItemLabel(b)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?'true':'false',b=this.contentElement;b&&b.setAttribute('aria-expanded',a)}})})();</script></dom-module><dom-module id="shared-styles" assetpath="src/shared-styles/"><template><style include="paper-material-styles"></style><style>paper-button{@apply (--paper-font-button);margin-left:0;}paper-button.normal{background-color:var(--paper-grey-300);}paper-button.normal:hover{background-color:var(--paper-grey-500);}paper-button.clear{color:#000;background-color:transparent;}paper-button.clear:hover{background-color:var(--paper-grey-300);}paper-button.important{color:#000;background-color:var(--paper-amber-500);}paper-button.important:hover{background-color:var(--paper-amber-300);}paper-button.delete{background-color:transparent;color:var(--paper-red-500);}paper-button.delete:hover{background-color:var(--paper-red-100);}.paper-material{@apply --paper-material-elevation-1;}[hidden]{display:none;}</style></template></dom-module><dom-module id="pbd-arm-cart-action" assetpath="src/pbd-arm-cart-action/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}paper-dropdown-menu{max-width:150px;}.read{margin-left:10px;}paper-input{max-width:250px;}</style><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><div class="layout horizontal center"><paper-dropdown-menu label="Arm to move" hidden$="[[!params.hasTwoArms]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-actuator-group" selected="{{action.actuator_group}}"><paper-item data-actuator-group="left arm" on-tap="_updateActuatorGroup">Left arm</paper-item><paper-item data-actuator-group="right arm" on-tap="_updateActuatorGroup">Right arm</paper-item></paper-listbox></paper-dropdown-menu><paper-button class="read normal" on-tap="_updatePose">Read position</paper-button></div><div><paper-dropdown-menu label="Relative to"><paper-listbox slot="dropdown-content" selected="[[_landmarkName(action.landmark)]]" attr-for-selected="name"><template is="dom-repeat" items="[[landmarks]]"><paper-item name="[[_landmarkName(item)]]" on-tap="_updateLandmark">[[_landmarkName(item)]]</paper-item></template></paper-listbox></paper-dropdown-menu></div><div><paper-input label="x" value="[[action.pose.position.x]]" on-change="_xChanged"></paper-input><paper-input label="y" value="[[action.pose.position.y]]" on-change="_yChanged"></paper-input><paper-input label="z" value="[[action.pose.position.z]]" on-change="_zChanged"></paper-input></div></template><script>Polymer({is:'pbd-arm-cart-action',properties:{action:{notify:!0,type:Object},index:Number,stepIndex:Number,params:Object,programId:String,landmarks:Array,ros:Object},observers:['_actionChanged(action)'],_actionChanged:function(a){if('move to cartesian goal'===a.type&&('arm'===a.actuator_group||'left arm'===a.actuator_group||'right arm'===a.actuator_group)){if(!a.control_strategy){this.set('action.control_strategy',{type:'default position',max_speed:0.2})}if(a.control_strategy.max_speed&&0!==a.control_strategy.max_speed||this.set('action.control_strategy.max_speed',0.2),0===this.action.pose.orientation.w&&0===this.action.pose.orientation.x&&0===this.action.pose.orientation.y&&0===this.action.pose.orientation.z){var c=this;this.debounce('get_ee_pose',function(){c._updatePose()},100)}}},_updateActuatorGroup:function(a){var b=a.target.dataset.actuatorGroup;b&&(this.set('action.actuator_group',b),this._updatePose())},_updateLandmark:function(a){this.set('action.landmark',a.model.item),this._updatePose()},_landmarkName:function(a){if(!a||!a.type)return'Unknown landmark';return'tf frame'===a.type?'base_link'===a.name||'base_footprint'===a.name?'Robot base':'torso_lift_link'===a.name?'Robot torso':a.name:'surface box'===a.type?a.name:'Unknown landmark'},_updatePose:function(){var a={type:'get pose',program_info:{db_id:this.programId},step_num:this.stepIndex,action_num:this.index,action:this.action};this.$.eventPub.publish(a)},_maxSpeedChanged:function(a){this._parseString(a.target.value,'action.control_strategy.max_speed')},_xChanged:function(a){this._parseString(a.target.value,'action.pose.position.x')},_yChanged:function(a){this._parseString(a.target.value,'action.pose.position.y')},_zChanged:function(a){this._parseString(a.target.value,'action.pose.position.z')},_parseString:function(a,b){if('string'===typeof a){var c=parseFloat(a);isNaN(c)||'0.'===a||this.set(b,c)}else this.set(b,a)}});</script></dom-module><dom-module id="pbd-detect-surface-objects-action" assetpath="src/pbd-detect-surface-objects-action/"><template><style include="shared-styles"></style><style>:host{display:block;}paper-button{margin-left:10px;}</style><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><p>Detected objects can be used as landmarks starting on the next step.</p><paper-button class="normal" on-tap="_detect">Detect now</paper-button></template><script>Polymer({is:'pbd-detect-surface-objects-action',properties:{action:{notify:!0,type:Object},programId:String,stepNum:Number,ros:Object},_detect:function(){if(!this.ros||!this.programId||!this.stepNum&&0!==this.stepNum)return void console.error('Unable to call detection right now.');var a={type:'detect surface objects',program_info:{db_id:this.programId},step_num:this.stepNum};this.$.eventPub.publish(a)}});</script></dom-module><dom-module id="pbd-gripper-action" assetpath="src/pbd-gripper-action/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}paper-button{margin-left:10px;}</style><ros-action-client id="armAction" server="/gripper_controller/gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><ros-action-client id="leftAction" server="/rapid_pbd/l_gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><ros-action-client id="rightAction" server="/rapid_pbd/r_gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><div class="layout horizontal center"><paper-dropdown-menu label="Gripper" hidden$="[[!params.hasTwoArms]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-actuator-group" selected="{{action.actuator_group}}"><paper-item data-actuator-group="left gripper">Left gripper</paper-item><paper-item data-actuator-group="right gripper">Right gripper</paper-item></paper-listbox></paper-dropdown-menu><paper-input hidden$="[[_isOpen]]" label="Closing force (35-100 N)" value="[[action.gripper_command.max_effort]]" on-change="_maxEffortChanged"></paper-input><paper-button class="normal" hidden$="[[!_isOpen]]" on-tap="_openGripper">Open now</paper-button><paper-button class="normal" hidden$="[[_isOpen]]" on-tap="_closeGripper">Close now</paper-button></div></template><script>Polymer({is:'pbd-gripper-action',properties:{action:{notify:!0,type:Object},params:Object,ros:Object,_isOpen:{type:Boolean,computed:'_computeIsOpen(action.gripper_command)'}},observers:['_actionChanged(action)'],_actionChanged:function(a){var b=a.type,c=a.actuator_group;'actuate gripper'===b&&('gripper'===c||'left gripper'===c||'right gripper'===c)&&(a.gripper_command||this.set('action.gripper_command',{}))},_computeIsOpen:function(a){return!!a&&0<a.position},_openGripper:function(){var a={command:this.action.gripper_command};'gripper'===this.action.actuator_group?this.$.armAction.send(a):'left gripper'===this.action.actuator_group?this.$.leftAction.send(a):'right gripper'===this.action.actuator_group&&this.$.rightAction.send(a)},_closeGripper:function(){var a={command:this.action.gripper_command};'gripper'===this.action.actuator_group?this.$.armAction.send(a):'left gripper'===this.action.actuator_group?this.$.leftAction.send(a):'right gripper'===this.action.actuator_group&&this.$.rightAction.send(a)},_maxEffortChanged:function(a){var b=a.target.value;if('string'===typeof b){var c=parseFloat(b);isNaN(c)||'0.'===b||this.set('action.gripper_command.max_effort',c)}}});</script></dom-module><script>(function(){function c(X){function Y(Z,$,aa,ba,ca,da){for(;0<=ca&&ca<da;ca+=X){var ea=ba?ba[ca]:ca;aa=$(aa,Z[ea],ea,Z)}return aa}return function(Z,$,aa,ba){$=A($,ba,4);var ca=!H(Z)&&z.keys(Z),da=(ca||Z).length,ea=0<X?0:da-1;return 3>arguments.length&&(aa=Z[ca?ca[ea]:ea],ea+=X),Y(Z,$,aa,ca,ea,da)}}function d(X){return function(Y,Z,$){Z=B(Z,$);for(var aa=G(Y),ba=0<X?0:aa-1;0<=ba&&ba<aa;ba+=X)if(Z(Y[ba],ba,Y))return ba;return-1}}function f(X,Y,Z){return function($,aa,ba){var ca=0,da=G($);if('number'==typeof ba)0<X?ca=0<=ba?ba:Math.max(ba+da,ca):da=0<=ba?Math.min(ba+1,da):ba+da+1;else if(Z&&ba&&da)return ba=Z($,aa),$[ba]===aa?ba:-1;if(aa!==aa)return ba=Y(r.call($,ca,da),z.isNaN),0<=ba?ba+ca:-1;for(ba=0<X?ca:da-1;0<=ba&&ba<da;ba+=X)if($[ba]===aa)return ba;return-1}}function g(X,Y){var Z=M.length,$=X.constructor,aa=z.isFunction($)&&$.prototype||o,ba='constructor';for(z.has(X,ba)&&!z.contains(Y,ba)&&Y.push(ba);Z--;)ba=M[Z],ba in X&&X[ba]!==aa[ba]&&!z.contains(Y,ba)&&Y.push(ba)}var h=this,k=h._,m=Array.prototype,o=Object.prototype,p=Function.prototype,q=m.push,r=m.slice,s=o.toString,t=o.hasOwnProperty,u=Array.isArray,v=Object.keys,w=p.bind,x=Object.create,y=function(){},z=function(X){return X instanceof z?X:this instanceof z?void(this._wrapped=X):new z(X)};'undefined'===typeof exports?h._=z:('undefined'!==typeof module&&module.exports&&(exports=module.exports=z),exports._=z),z.VERSION='1.8.3';var A=function(X,Y,Z){if(void 0===Y)return X;switch(null==Z?3:Z){case 1:return function($){return X.call(Y,$)};case 2:return function($,aa){return X.call(Y,$,aa)};case 3:return function($,aa,ba){return X.call(Y,$,aa,ba)};case 4:return function($,aa,ba,ca){return X.call(Y,$,aa,ba,ca)};}return function(){return X.apply(Y,arguments)}},B=function(X,Y,Z){return null==X?z.identity:z.isFunction(X)?A(X,Y,Z):z.isObject(X)?z.matcher(X):z.property(X)};z.iteratee=function(X,Y){return B(X,Y,Infinity)};var C=function(X,Y){return function(Z){var $=arguments.length;if(2>$||null==Z)return Z;for(var aa=1;aa<$;aa++)for(var fa,ba=arguments[aa],ca=X(ba),da=ca.length,ea=0;ea<da;ea++)fa=ca[ea],Y&&void 0!==Z[fa]||(Z[fa]=ba[fa]);return Z}},D=function(X){if(!z.isObject(X))return{};if(x)return x(X);y.prototype=X;var Y=new y;return y.prototype=null,Y},E=function(X){return function(Y){return null==Y?void 0:Y[X]}},F=Math.pow(2,53)-1,G=E('length'),H=function(X){var Y=G(X);return'number'==typeof Y&&0<=Y&&Y<=F};z.each=z.forEach=function(X,Y,Z){Y=A(Y,Z);var $,aa;if(H(X))for($=0,aa=X.length;$<aa;$++)Y(X[$],$,X);else{var ba=z.keys(X);for($=0,aa=ba.length;$<aa;$++)Y(X[ba[$]],ba[$],X)}return X},z.map=z.collect=function(X,Y,Z){Y=B(Y,Z);for(var da,$=!H(X)&&z.keys(X),aa=($||X).length,ba=Array(aa),ca=0;ca<aa;ca++)da=$?$[ca]:ca,ba[ca]=Y(X[da],da,X);return ba},z.reduce=z.foldl=z.inject=c(1),z.reduceRight=z.foldr=c(-1),z.find=z.detect=function(X,Y,Z){var $;if($=H(X)?z.findIndex(X,Y,Z):z.findKey(X,Y,Z),void 0!==$&&-1!==$)return X[$]},z.filter=z.select=function(X,Y,Z){var $=[];return Y=B(Y,Z),z.each(X,function(aa,ba,ca){Y(aa,ba,ca)&&$.push(aa)}),$},z.reject=function(X,Y,Z){return z.filter(X,z.negate(B(Y)),Z)},z.every=z.all=function(X,Y,Z){Y=B(Y,Z);for(var ca,$=!H(X)&&z.keys(X),aa=($||X).length,ba=0;ba<aa;ba++)if(ca=$?$[ba]:ba,!Y(X[ca],ca,X))return!1;return!0},z.some=z.any=function(X,Y,Z){Y=B(Y,Z);for(var ca,$=!H(X)&&z.keys(X),aa=($||X).length,ba=0;ba<aa;ba++)if(ca=$?$[ba]:ba,Y(X[ca],ca,X))return!0;return!1},z.contains=z.includes=z.include=function(X,Y,Z,$){return H(X)||(X=z.values(X)),('number'!=typeof Z||$)&&(Z=0),0<=z.indexOf(X,Y,Z)},z.invoke=function(X,Y){var Z=r.call(arguments,2),$=z.isFunction(Y);return z.map(X,function(aa){var ba=$?Y:aa[Y];return null==ba?ba:ba.apply(aa,Z)})},z.pluck=function(X,Y){return z.map(X,z.property(Y))},z.where=function(X,Y){return z.filter(X,z.matcher(Y))},z.findWhere=function(X,Y){return z.find(X,z.matcher(Y))},z.max=function(X,Y,Z){var ba,ca,$=-Infinity,aa=-Infinity;if(null==Y&&null!=X){X=H(X)?X:z.values(X);for(var da=0,ea=X.length;da<ea;da++)ba=X[da],ba>$&&($=ba)}else Y=B(Y,Z),z.each(X,function(fa,ga,ha){ca=Y(fa,ga,ha),(ca>aa||ca===-Infinity&&$===-Infinity)&&($=fa,aa=ca)});return $},z.min=function(X,Y,Z){var ba,ca,$=Infinity,aa=Infinity;if(null==Y&&null!=X){X=H(X)?X:z.values(X);for(var da=0,ea=X.length;da<ea;da++)ba=X[da],ba<$&&($=ba)}else Y=B(Y,Z),z.each(X,function(fa,ga,ha){ca=Y(fa,ga,ha),(ca<aa||ca===Infinity&&$===Infinity)&&($=fa,aa=ca)});return $},z.shuffle=function(X){for(var ba,Y=H(X)?X:z.values(X),Z=Y.length,$=Array(Z),aa=0;aa<Z;aa++)ba=z.random(0,aa),ba!==aa&&($[aa]=$[ba]),$[ba]=Y[aa];return $},z.sample=function(X,Y,Z){return null==Y||Z?(H(X)||(X=z.values(X)),X[z.random(X.length-1)]):z.shuffle(X).slice(0,Math.max(0,Y))},z.sortBy=function(X,Y,Z){return Y=B(Y,Z),z.pluck(z.map(X,function($,aa,ba){return{value:$,index:aa,criteria:Y($,aa,ba)}}).sort(function($,aa){var ba=$.criteria,ca=aa.criteria;if(ba!==ca){if(ba>ca||void 0===ba)return 1;if(ba<ca||void 0===ca)return-1}return $.index-aa.index}),'value')};var I=function(X){return function(Y,Z,$){var aa={};return Z=B(Z,$),z.each(Y,function(ba,ca){var da=Z(ba,ca,Y);X(aa,ba,da)}),aa}};z.groupBy=I(function(X,Y,Z){z.has(X,Z)?X[Z].push(Y):X[Z]=[Y]}),z.indexBy=I(function(X,Y,Z){X[Z]=Y}),z.countBy=I(function(X,Y,Z){z.has(X,Z)?X[Z]++:X[Z]=1}),z.toArray=function(X){return X?z.isArray(X)?r.call(X):H(X)?z.map(X,z.identity):z.values(X):[]},z.size=function(X){return null==X?0:H(X)?X.length:z.keys(X).length},z.partition=function(X,Y,Z){Y=B(Y,Z);var $=[],aa=[];return z.each(X,function(ba,ca,da){(Y(ba,ca,da)?$:aa).push(ba)}),[$,aa]},z.first=z.head=z.take=function(X,Y,Z){return null==X?void 0:null==Y||Z?X[0]:z.initial(X,X.length-Y)},z.initial=function(X,Y,Z){return r.call(X,0,Math.max(0,X.length-(null==Y||Z?1:Y)))},z.last=function(X,Y,Z){return null==X?void 0:null==Y||Z?X[X.length-1]:z.rest(X,Math.max(0,X.length-Y))},z.rest=z.tail=z.drop=function(X,Y,Z){return r.call(X,null==Y||Z?1:Y)},z.compact=function(X){return z.filter(X,z.identity)};var J=function(X,Y,Z,$){for(var ea,aa=[],ba=0,ca=$||0,da=G(X);ca<da;ca++)if(ea=X[ca],H(ea)&&(z.isArray(ea)||z.isArguments(ea))){Y||(ea=J(ea,Y,Z));var fa=0,ga=ea.length;for(aa.length+=ga;fa<ga;)aa[ba++]=ea[fa++]}else Z||(aa[ba++]=ea);return aa};z.flatten=function(X,Y){return J(X,Y,!1)},z.without=function(X){return z.difference(X,r.call(arguments,1))},z.uniq=z.unique=function(X,Y,Z,$){z.isBoolean(Y)||($=Z,Z=Y,Y=!1),null!=Z&&(Z=B(Z,$));for(var aa=[],ba=[],ca=0,da=G(X);ca<da;ca++){var ea=X[ca],fa=Z?Z(ea,ca,X):ea;Y?((!ca||ba!==fa)&&aa.push(ea),ba=fa):Z?!z.contains(ba,fa)&&(ba.push(fa),aa.push(ea)):!z.contains(aa,ea)&&aa.push(ea)}return aa},z.union=function(){return z.uniq(J(arguments,!0,!0))},z.intersection=function(X){for(var ba,Y=[],Z=arguments.length,$=0,aa=G(X);$<aa;$++)if(ba=X[$],!z.contains(Y,ba)){for(var ca=1;ca<Z&&!!z.contains(arguments[ca],ba);ca++);ca===Z&&Y.push(ba)}return Y},z.difference=function(X){var Y=J(arguments,!0,!0,1);return z.filter(X,function(Z){return!z.contains(Y,Z)})},z.zip=function(){return z.unzip(arguments)},z.unzip=function(X){for(var Y=X&&z.max(X,G).length||0,Z=Array(Y),$=0;$<Y;$++)Z[$]=z.pluck(X,$);return Z},z.object=function(X,Y){for(var Z={},$=0,aa=G(X);$<aa;$++)Y?Z[X[$]]=Y[$]:Z[X[$][0]]=X[$][1];return Z},z.findIndex=d(1),z.findLastIndex=d(-1),z.sortedIndex=function(X,Y,Z,$){Z=B(Z,$,1);for(var da,aa=Z(Y),ba=0,ca=G(X);ba<ca;)da=Math.floor((ba+ca)/2),Z(X[da])<aa?ba=da+1:ca=da;return ba},z.indexOf=f(1,z.findIndex,z.sortedIndex),z.lastIndexOf=f(-1,z.findLastIndex),z.range=function(X,Y,Z){null==Y&&(Y=X||0,X=0),Z=Z||1;for(var $=Math.max(Math.ceil((Y-X)/Z),0),aa=Array($),ba=0;ba<$;ba++,X+=Z)aa[ba]=X;return aa};var K=function(X,Y,Z,$,aa){if(!($ instanceof Y))return X.apply(Z,aa);var ba=D(X.prototype),ca=X.apply(ba,aa);return z.isObject(ca)?ca:ba};z.bind=function(X,Y){if(w&&X.bind===w)return w.apply(X,r.call(arguments,1));if(!z.isFunction(X))throw new TypeError('Bind must be called on a function');var Z=r.call(arguments,2),$=function(){return K(X,$,Y,this,Z.concat(r.call(arguments)))};return $},z.partial=function(X){var Y=r.call(arguments,1),Z=function(){for(var $=0,aa=Y.length,ba=Array(aa),ca=0;ca<aa;ca++)ba[ca]=Y[ca]===z?arguments[$++]:Y[ca];for(;$<arguments.length;)ba.push(arguments[$++]);return K(X,Z,this,this,ba)};return Z},z.bindAll=function(X){var Y,$,Z=arguments.length;if(1>=Z)throw new Error('bindAll must be passed function names');for(Y=1;Y<Z;Y++)$=arguments[Y],X[$]=z.bind(X[$],X);return X},z.memoize=function(X,Y){var Z=function($){var aa=Z.cache,ba=''+(Y?Y.apply(this,arguments):$);return z.has(aa,ba)||(aa[ba]=X.apply(this,arguments)),aa[ba]};return Z.cache={},Z},z.delay=function(X,Y){var Z=r.call(arguments,2);return setTimeout(function(){return X.apply(null,Z)},Y)},z.defer=z.partial(z.delay,z,1),z.throttle=function(X,Y,Z){var $,aa,ba,ca=null,da=0;Z||(Z={});var ea=function(){da=!1===Z.leading?0:z.now(),ca=null,ba=X.apply($,aa),ca||($=aa=null)};return function(){var fa=z.now();da||!1!==Z.leading||(da=fa);var ga=Y-(fa-da);return $=this,aa=arguments,0>=ga||ga>Y?(ca&&(clearTimeout(ca),ca=null),da=fa,ba=X.apply($,aa),!ca&&($=aa=null)):!ca&&!1!==Z.trailing&&(ca=setTimeout(ea,ga)),ba}},z.debounce=function(X,Y,Z){var $,aa,ba,ca,da,ea=function(){var fa=z.now()-ca;fa<Y&&0<=fa?$=setTimeout(ea,Y-fa):($=null,!Z&&(da=X.apply(ba,aa),!$&&(ba=aa=null)))};return function(){ba=this,aa=arguments,ca=z.now();var fa=Z&&!$;return $||($=setTimeout(ea,Y)),fa&&(da=X.apply(ba,aa),ba=aa=null),da}},z.wrap=function(X,Y){return z.partial(Y,X)},z.negate=function(X){return function(){return!X.apply(this,arguments)}},z.compose=function(){var X=arguments,Y=X.length-1;return function(){for(var Z=Y,$=X[Y].apply(this,arguments);Z--;)$=X[Z].call(this,$);return $}},z.after=function(X,Y){return function(){if(1>--X)return Y.apply(this,arguments)}},z.before=function(X,Y){var Z;return function(){return 0<--X&&(Z=Y.apply(this,arguments)),1>=X&&(Y=null),Z}},z.once=z.partial(z.before,2);var L=!{toString:null}.propertyIsEnumerable('toString'),M=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];z.keys=function(X){if(!z.isObject(X))return[];if(v)return v(X);var Y=[];for(var Z in X)z.has(X,Z)&&Y.push(Z);return L&&g(X,Y),Y},z.allKeys=function(X){if(!z.isObject(X))return[];var Y=[];for(var Z in X)Y.push(Z);return L&&g(X,Y),Y},z.values=function(X){for(var Y=z.keys(X),Z=Y.length,$=Array(Z),aa=0;aa<Z;aa++)$[aa]=X[Y[aa]];return $},z.mapObject=function(X,Y,Z){Y=B(Y,Z);for(var ca,$=z.keys(X),aa=$.length,ba={},da=0;da<aa;da++)ca=$[da],ba[ca]=Y(X[ca],ca,X);return ba},z.pairs=function(X){for(var Y=z.keys(X),Z=Y.length,$=Array(Z),aa=0;aa<Z;aa++)$[aa]=[Y[aa],X[Y[aa]]];return $},z.invert=function(X){for(var Y={},Z=z.keys(X),$=0,aa=Z.length;$<aa;$++)Y[X[Z[$]]]=Z[$];return Y},z.functions=z.methods=function(X){var Y=[];for(var Z in X)z.isFunction(X[Z])&&Y.push(Z);return Y.sort()},z.extend=C(z.allKeys),z.extendOwn=z.assign=C(z.keys),z.findKey=function(X,Y,Z){Y=B(Y,Z);for(var aa,$=z.keys(X),ba=0,ca=$.length;ba<ca;ba++)if(aa=$[ba],Y(X[aa],aa,X))return aa},z.pick=function(X,Y,Z){var ba,ca,$={},aa=X;if(null==aa)return $;z.isFunction(Y)?(ca=z.allKeys(aa),ba=A(Y,Z)):(ca=J(arguments,!1,!1,1),ba=function(ha,ia,ja){return ia in ja},aa=Object(aa));for(var da=0,ea=ca.length;da<ea;da++){var fa=ca[da],ga=aa[fa];ba(ga,fa,aa)&&($[fa]=ga)}return $},z.omit=function(X,Y,Z){if(z.isFunction(Y))Y=z.negate(Y);else{var $=z.map(J(arguments,!1,!1,1),String);Y=function(aa,ba){return!z.contains($,ba)}}return z.pick(X,Y,Z)},z.defaults=C(z.allKeys,!0),z.create=function(X,Y){var Z=D(X);return Y&&z.extendOwn(Z,Y),Z},z.clone=function(X){return z.isObject(X)?z.isArray(X)?X.slice():z.extend({},X):X},z.tap=function(X,Y){return Y(X),X},z.isMatch=function(X,Y){var Z=z.keys(Y),$=Z.length;if(null==X)return!$;for(var ca,aa=Object(X),ba=0;ba<$;ba++)if(ca=Z[ba],Y[ca]!==aa[ca]||!(ca in aa))return!1;return!0};var N=function(X,Y,Z,$){if(X===Y)return 0!==X||1/X===1/Y;if(null==X||null==Y)return X===Y;X instanceof z&&(X=X._wrapped),Y instanceof z&&(Y=Y._wrapped);var aa=s.call(X);if(aa!==s.call(Y))return!1;switch(aa){case'[object RegExp]':case'[object String]':return''+X===''+Y;case'[object Number]':return+X===+X?0===+X?1/+X===1/Y:+X===+Y:+Y!==+Y;case'[object Date]':case'[object Boolean]':return+X===+Y;}var ba='[object Array]'===aa;if(!ba){if('object'!=typeof X||'object'!=typeof Y)return!1;var ca=X.constructor,da=Y.constructor;if(ca!==da&&!(z.isFunction(ca)&&ca instanceof ca&&z.isFunction(da)&&da instanceof da)&&'constructor'in X&&'constructor'in Y)return!1}Z=Z||[],$=$||[];for(var ea=Z.length;ea--;)if(Z[ea]===X)return $[ea]===Y;if(Z.push(X),$.push(Y),ba){if(ea=X.length,ea!==Y.length)return!1;for(;ea--;)if(!N(X[ea],Y[ea],Z,$))return!1}else{var ga,fa=z.keys(X);if(ea=fa.length,z.keys(Y).length!==ea)return!1;for(;ea--;)if(ga=fa[ea],!(z.has(Y,ga)&&N(X[ga],Y[ga],Z,$)))return!1}return Z.pop(),$.pop(),!0};z.isEqual=function(X,Y){return N(X,Y)},z.isEmpty=function(X){return!(null!=X)||(H(X)&&(z.isArray(X)||z.isString(X)||z.isArguments(X))?0===X.length:0===z.keys(X).length)},z.isElement=function(X){return!!(X&&1===X.nodeType)},z.isArray=u||function(X){return'[object Array]'===s.call(X)},z.isObject=function(X){var Y=typeof X;return'function'===Y||'object'===Y&&!!X},z.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(X){z['is'+X]=function(Y){return s.call(Y)==='[object '+X+']'}}),z.isArguments(arguments)||(z.isArguments=function(X){return z.has(X,'callee')}),'function'!=typeof /./&&'object'!=typeof Int8Array&&(z.isFunction=function(X){return'function'==typeof X||!1}),z.isFinite=function(X){return isFinite(X)&&!isNaN(parseFloat(X))},z.isNaN=function(X){return z.isNumber(X)&&X!==+X},z.isBoolean=function(X){return!0===X||!1===X||'[object Boolean]'===s.call(X)},z.isNull=function(X){return null===X},z.isUndefined=function(X){return void 0===X},z.has=function(X,Y){return null!=X&&t.call(X,Y)},z.noConflict=function(){return h._=k,this},z.identity=function(X){return X},z.constant=function(X){return function(){return X}},z.noop=function(){},z.property=E,z.propertyOf=function(X){return null==X?function(){}:function(Y){return X[Y]}},z.matcher=z.matches=function(X){return X=z.extendOwn({},X),function(Y){return z.isMatch(Y,X)}},z.times=function(X,Y,Z){var $=Array(Math.max(0,X));Y=A(Y,Z,1);for(var aa=0;aa<X;aa++)$[aa]=Y(aa);return $},z.random=function(X,Y){return null==Y&&(Y=X,X=0),X+Math.floor(Math.random()*(Y-X+1))},z.now=Date.now||function(){return new Date().getTime()};var O={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#x27;',"`":'&#x60;'},P=z.invert(O),Q=function(X){var Y=function(ba){return X[ba]},Z='(?:'+z.keys(X).join('|')+')',$=RegExp(Z),aa=RegExp(Z,'g');return function(ba){return ba=null==ba?'':''+ba,$.test(ba)?ba.replace(aa,Y):ba}};z.escape=Q(O),z.unescape=Q(P),z.result=function(X,Y,Z){var $=null==X?void 0:X[Y];return void 0===$&&($=Z),z.isFunction($)?$.call(X):$};var R=0;z.uniqueId=function(X){var Y=++R+'';return X?X+Y:Y},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,T={"'":'\'',"\\":'\\',"\r":'r',"\n":'n',"\u2028":'u2028',"\u2029":'u2029'},U=/\\|'|\r|\n|\u2028|\u2029/g,V=function(X){return'\\'+T[X]};z.template=function(X,Y,Z){!Y&&Z&&(Y=Z),Y=z.defaults({},Y,z.templateSettings);var $=RegExp([(Y.escape||S).source,(Y.interpolate||S).source,(Y.evaluate||S).source].join('|')+'|$','g'),aa=0,ba='__p+=\'';X.replace($,function(fa,ga,ha,ia,ja){return ba+=X.slice(aa,ja).replace(U,V),aa=ja+fa.length,ga?ba+='\'+\n((__t=('+ga+'))==null?\'\':_.escape(__t))+\n\'':ha?ba+='\'+\n((__t=('+ha+'))==null?\'\':__t)+\n\'':ia&&(ba+='\';\n'+ia+'\n__p+=\''),fa}),ba+='\';\n',Y.variable||(ba='with(obj||{}){\n'+ba+'}\n'),ba='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+ba+'return __p;\n';try{var ca=new Function(Y.variable||'obj','_',ba)}catch(fa){throw fa.source=ba,fa}var da=function(fa){return ca.call(this,fa,z)},ea=Y.variable||'obj';return da.source='function('+ea+'){\n'+ba+'}',da},z.chain=function(X){var Y=z(X);return Y._chain=!0,Y};var W=function(X,Y){return X._chain?z(Y).chain():Y};z.mixin=function(X){z.each(z.functions(X),function(Y){var Z=z[Y]=X[Y];z.prototype[Y]=function(){var $=[this._wrapped];return q.apply($,arguments),W(this,Z.apply(z,$))}})},z.mixin(z),z.each(['pop','push','reverse','shift','sort','splice','unshift'],function(X){var Y=m[X];z.prototype[X]=function(){var Z=this._wrapped;return Y.apply(Z,arguments),('shift'===X||'splice'===X)&&0===Z.length&&delete Z[0],W(this,Z)}}),z.each(['concat','join','slice'],function(X){var Y=m[X];z.prototype[X]=function(){return W(this,Y.apply(this._wrapped,arguments))}}),z.prototype.value=function(){return this._wrapped},z.prototype.valueOf=z.prototype.toJSON=z.prototype.value,z.prototype.toString=function(){return''+this._wrapped},'function'===typeof define&&define.amd&&define('underscore',[],function(){return z})}).call(this);</script><dom-module id="pbd-head-action" assetpath="src/pbd-head-action/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}paper-button{margin-left:10px;}</style><ros-action-client id="headAction" server="[[_computeServer(params.robot)]]" action-type="control_msgs/FollowJointTrajectoryAction" ros="[[ros]]"></ros-action-client><div class="layout vertical"><paper-input type="number" step="1" min="-160" max="160" label="Pan angle (degrees, positive value looks left)" value="{{panDegrees}}" on-change="_save"></paper-input><paper-input type="number" step="1" min="-30" max="60" label="Tilt angle (degrees, positive value looks down)" value="{{tiltDegrees}}" on-change="_save"></paper-input><paper-button class="normal" on-tap="_moveHead">Move now</paper-button></div></template><script>Polymer({is:'pbd-head-action',properties:{action:{notify:!0,type:Object,observer:'_actionChanged'},panDegrees:{type:Number,value:0},params:Object,tiltDegrees:{type:Number,value:0},ros:Object},observers:['_panChanged(action.joint_trajectory.points.0.positions.0)','_tiltChanged(action.joint_trajectory.points.0.positions.1)'],_actionChanged:function(a){var c=a.type,d=a.actuator_group;if('move to joint goal'===c&&'head'===d){a.joint_trajectory||this.set('action.joint_trajectory',{points:[{positions:[0,0]}]}),a.joint_trajectory.points||this.set('action.joint_trajectory.points',[{positions:[0,0]}]),a.joint_trajectory.points[0]||this.set('action.joint_trajectory.points.0',{positions:[0,0]});var e=this.action.joint_trajectory.points[0].positions[0];e||0===e||this.set('action.joint_trajectory.points.0.positions.0',0);var f=this.action.joint_trajectory.points[0].positions[1];f||0===f||(2<=this.action.joint_trajectory.points[0].positions.length?this.set('action.joint_trajectory.points.0.positions.1',0):this.push('action.joint_trajectory.points.0.positions',0));var g=['head_pan_joint','head_tilt_joint'];_.isEqual(this.action.joint_trajectory.joint_names,g)||this.set('action.joint_trajectory.joint_names',g)}},_degToRad(a){return a*Math.PI/180},_radToDeg(a){return 180*a/Math.PI},_clamp(a,b,c){return Math.min(Math.max(a,b),c)},_save:function(){var b=this._clamp(this._degToRad(this.panDegrees),-2.8,2.8),c=this._clamp(this._degToRad(this.tiltDegrees),-0.52,1.22173);this.action.joint_trajectory||this.set('action.joint_trajectory',{points:[]});var d=['head_pan_joint','head_tilt_joint'],e={positions:[b,c],time_from_start:{secs:2,nsecs:0}};_.isEqual(this.action.joint_trajectory.joint_names,d)||this.set('action.joint_trajectory.joint_names',d),0!==this.action.joint_trajectory.points.length&&_.isEqual(this.action.joint_trajectory.points[0],e)||this.set('action.joint_trajectory.points.0',e)},_moveHead:function(){var a={trajectory:this.action.joint_trajectory};this.$.headAction.send(a)},_panChanged:function(a){if('head'===this.action.actuator_group){if(void 0===a)return void this.set('action.joint_trajectory.points.0.positions.0',0);var b=this._radToDeg(a);this.panDegrees!==b&&(this.panDegrees=b)}},_tiltChanged(a){if('head'===this.action.actuator_group){if(void 0===a)return this.set('action.joint_trajectory.points.0.positions.1',0),void(this.tiltDegrees=0);var b=this._radToDeg(a);this.tiltDegrees!==b&&(this.tiltDegrees=b)}},_computeServer(a){return'pr2'===a?'/head_traj_controller/follow_joint_trajectory':'fetch'===a?'/head_controller/follow_joint_trajectory':''}});</script></dom-module><dom-module id="pbd-joint-angle-action" assetpath="src/pbd-joint-angle-action/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}paper-dropdown-menu{max-width:150px;}.read{margin-left:10px;}paper-input{max-width:250px;}</style><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><div class="layout horizontal center"><paper-dropdown-menu label="Arm to move" hidden$="[[!params.hasTwoArms]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-actuator-group" selected="{{action.actuator_group}}"><paper-item data-actuator-group="left arm" on-tap="_updateActuatorGroup">Left arm</paper-item><paper-item data-actuator-group="right arm" on-tap="_updateActuatorGroup">Right arm</paper-item></paper-listbox></paper-dropdown-menu><paper-button class="read normal" on-tap="_updateJointValues">Read joint values</paper-button></div><div><paper-input type="number" step="0.5" label="Movement duration (seconds)" value="{{_timeFromStart}}" on-change="_updateTimeFromStart"></paper-input><template id="positionList" is="dom-repeat" items="[[jointValues]]" as="kv"><paper-input type="number" step="0.01" label="[[kv.name]]" value="[[kv.value]]" on-change="_updateJoint"></paper-input></template></div></template><script>Polymer({is:'pbd-joint-angle-action',properties:{action:{notify:!0,type:Object},index:Number,stepIndex:Number,params:Object,programId:String,jointValues:{type:Array,value:function(){return[]}},ros:Object},observers:['_actionChanged(action)','_renderTimeFromStart(action.joint_trajectory.points.0.time_from_start)','_computeJointValues(action.joint_trajectory.joint_names, action.joint_trajectory.points.0.positions)'],_computeJointValues:function(a,b){if(this.splice('jointValues',0,this.jointValues.length),a&&b)for(var c=0;c<a.length;++c)this.push('jointValues',{name:a[c],value:b[c]})},_actionChanged:function(a){var b=a.type,c=a.actuator_group;if('move to joint goal'===b&&('arm'===c||'left arm'===c||'right arm'===c)){var d=this;this.action.joint_trajectory||this.set('action.joint_trajectory',{points:[]}),0===this.action.joint_trajectory.points.length&&this.debounce('get_joint_angles',function(){d._updateJointValues()},100)}},_updateActuatorGroup:function(a){var b=a.target.dataset.actuatorGroup;this.set('action.actuator_group',b),this._updateJointValues()},_getTimeFromStartObject:function(){var a={secs:5,nsecs:0};if(this.action.joint_trajectory&&this.action.joint_trajectory.points&&this.action.joint_trajectory.points[0]&&this.action.joint_trajectory.points[0].time_from_start){var b=this.action.joint_trajectory.points[0].time_from_start;return b.secs||b.nsecs?b:a}return a},_updateJointValues:function(){var a={type:'get joint values',program_info:{db_id:this.programId},step_num:this.stepIndex,action_num:this.index,action:this.action};this.$.eventPub.publish(a)},_updateJoint:function(a){var b=this.$.positionList.indexForElement(a.target),c=parseFloat(a.target.value);isNaN(c)||this.set('action.joint_trajectory.points.0.positions.'+b,c)},_renderTimeFromStart:function(a){if(a){var b=a.secs+a.nsecs/1e9;this._timeFromStart=b}},_updateTimeFromStart:function(){0>this._timeFromStart&&(this._timeFromStart=1);var a=parseFloat(this._timeFromStart),b=Math.floor(a),c=parseInt(Math.round(1e9*(a-b)));this.set('action.joint_trajectory.points.0.time_from_start.secs',b),this.set('action.joint_trajectory.points.0.time_from_start.nsecs',c)}});</script></dom-module><dom-module id="pbd-action" assetpath="src/pbd-action/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}.paper-material{background-color:#fff;padding:10px;margin-top:10px;}h4{margin:0px 0px;}paper-icon-button{color:var(--paper-grey-500);}</style><div class="paper-material"><div class="layout horizontal center"><h4>[[_actionDescription]]</h4><div class="flex"></div><paper-icon-button icon="delete" on-tap="_delete"></paper-icon-button><paper-icon-button icon="expand-less" hidden$="[[!_isCollapseOpen]]" on-tap="toggleCollapse"></paper-icon-button><paper-icon-button icon="expand-more" hidden$="[[_isCollapseOpen]]" on-tap="toggleCollapse"></paper-icon-button></div><iron-collapse id="collapse" opened="[[_isCollapseOpen]]"><paper-dropdown-menu label="Action type"><paper-listbox slot="dropdown-content" attr-for-selected="data-type" selected="{{_displayActionType}}"><paper-item data-type="open gripper">Open gripper</paper-item><paper-item data-type="close gripper">Close gripper</paper-item><paper-item data-type="move to cartesian goal">Move to gripper pose</paper-item><paper-item data-type="move to joint goal">Move to joint angles</paper-item><paper-item data-type="move head">Move head</paper-item><paper-item data-type="detect tabletop objects">Detect tabletop objects</paper-item></paper-listbox></paper-dropdown-menu><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'open gripper')]]"><pbd-gripper-action id="gripperAction" action="{{action}}" params="[[params]]" ros="[[ros]]"></pbd-gripper-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'close gripper')]]"><pbd-gripper-action id="gripperAction" action="{{action}}" params="[[params]]" ros="[[ros]]"></pbd-gripper-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'move to cartesian goal')]]"><pbd-arm-cart-action action="{{action}}" params="[[params]]" program-id="[[programId]]" step-index="[[stepNum]]" index="[[index]]" landmarks="[[landmarks]]" ros="[[ros]]"></pbd-arm-cart-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'move to joint goal')]]"><pbd-joint-angle-action action="{{action}}" program-id="[[programId]]" step-index="[[stepNum]]" index="[[index]]" params="[[params]]" ros="[[ros]]"></pbd-joint-angle-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'move head')]]"><pbd-head-action action="{{action}}" params="[[params]]" ros="[[ros]]"></pbd-head-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'detect tabletop objects')]]"><pbd-detect-surface-objects-action action="{{action}}" program-id="[[programId]]" step-num="[[stepNum]]" ros="[[ros]]"></pbd-detect-surface-objects-action></template><template is="dom-if" restamp="" if="[[_displayActionTypeIs(_displayActionType, 'find custom landmark')]]">CustomLandmarks options</template></iron-collapse></div></template><script>Polymer({is:'pbd-action',properties:{action:{notify:!0,type:Object},params:Object,landmarks:Array,stepNum:Number,index:Number,programId:String,ros:Object,_isCollapseOpen:{type:Boolean,value:!0}},observers:['_computeActionDescription(action.*, index)','_actionTypeChanged(action.type)','_displayActionTypeChanged(_displayActionType)'],toggleCollapse:function(){this._isCollapseOpen=!this._isCollapseOpen},_computeActionDescription(a,b){if(this._actionDescription='Action '+(b+1),'move to cartesian goal'===this.action.type)this._actionDescription='Move arm',('arm'===this.action.actuator_group||'left arm'===this.action.actuator_group||'right arm'===this.action.actuator_group)&&(this._actionDescription='Move '+this.action.actuator_group);else if('move to joint goal'===this.action.type)this._actionDescription='Move joints','arm'===this.action.actuator_group||'left arm'===this.action.actuator_group||'right arm'===this.action.actuator_group?this._actionDescription='Move '+this.action.actuator_group:'head'===this.action.actuator_group&&(this._actionDescription='Move head');else if('actuate gripper'===this.action.type){var c='Actuate',d='gripper';c=0<this.action.gripper_command.position?'Open':'Close',('gripper'===this.action.actuator_group||'left gripper'===this.action.actuator_group||'right gripper'===this.action.actuator_group)&&(d=this.action.actuator_group),this._actionDescription=c+' '+d}else'detect tabletop objects'===this.action.type?this._actionDescription='Detect tabletop objects':'find custom landmark'===this.action.type&&(this._actionDescription='Find custom landmark')},_delete:function(){this.fire('delete',{index:this.index})},_actionTypeChanged:function(a){'actuate gripper'===a?0<this.action.gripper_command.position?this._displayActionType='open gripper':this._displayActionType='close gripper':'move to joint goal'===a?'head'===this.action.actuator_group?this._displayActionType='move head':this._displayActionType='move to joint goal':this._displayActionType!==a&&(this._displayActionType=a)},_displayActionTypeChanged:function(a){'open gripper'===a?(this.set('action.type','actuate gripper'),this.set('action.gripper_command.position',0.1),this.set('action.gripper_command.max_effort',100)):'close gripper'===a?(this.set('action.type','actuate gripper'),this.set('action.gripper_command.position',0),!this.action.gripper_command.max_effort&&this.set('action.gripper_command.max_effort',75)):'move head'===a?(this.set('action.type','move to joint goal'),this.set('action.actuator_group','head')):this.action.type!==a&&this.set('action.type',a)},_displayActionTypeIs:function(a,b){return a===b}});</script></dom-module><dom-module id="pbd-action-picker" assetpath="src/pbd-action-picker/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;width:100%;position:relative;}.paper-material{padding:5px;}h3{margin:0px;}paper-button{margin-top:5px;}.group + .group{margin-top:10px;}.half{width:50%;}#cancel{height:22px;}</style><ros-topic auto="" id="topic" last-message="{{_armState}}" topic="rapid_pbd/arm_controller_state" ros="[[ros]]" msg-type="rapid_pbd_msgs/ArmControllerState"></ros-topic><ros-service id="freeze" last-message="{{_armState}}" name="rapid_pbd/freeze_arm" ros="[[ros]]" service-type="rapid_pbd_msgs/FreezeArm"></ros-service><ros-service id="relax" last-message="{{_armState}}" name="rapid_pbd/relax_arm" ros="[[ros]]" service-type="rapid_pbd_msgs/RelaxArm"></ros-service><ros-action-client id="gripperAction" server="/gripper_controller/gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><ros-action-client id="leftGripperAction" server="/rapid_pbd/l_gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><ros-action-client id="rightGripperAction" server="/rapid_pbd/r_gripper_action" action-type="control_msgs/GripperCommandAction" ros="[[ros]]"></ros-action-client><div class="paper-material"><div class="layout horizontal center"><h3>Temporary actions</h3><div class="flex"></div><paper-button id="cancel" on-tap="cancel" class="clear">Cancel</paper-button></div><template is="dom-if" if="[[params.hasTwoArms]]"><div class="group layout horizontal"><div class="half"><paper-button hidden$="[[!_isLeftArmFrozen]]" class="normal" on-tap="_relaxArm" data-actuator-group="left arm">Relax left arm</paper-button><paper-button hidden$="[[_isLeftArmFrozen]]" class="normal" on-tap="_freezeArm" data-actuator-group="left arm">Freeze left arm</paper-button></div><div class="half"><paper-button hidden$="[[!_isRightArmFrozen]]" class="normal" on-tap="_relaxArm" data-actuator-group="right arm">Relax right arm</paper-button><paper-button hidden$="[[_isRightArmFrozen]]" class="normal" on-tap="_freezeArm" data-actuator-group="right arm">Freeze right arm</paper-button></div></div></template><template is="dom-if" if="[[!params.hasTwoArms]]"><div class="group layout horizontal"><paper-button hidden$="[[!_isArmFrozen]]" class="normal" on-tap="_relaxArm" data-actuator-group="arm">Relax arm</paper-button><paper-button hidden$="[[_isArmFrozen]]" class="normal" on-tap="_freezeArm" data-actuator-group="arm">Freeze arm</paper-button></div></template><div class="group"><h3>Perception</h3><paper-button class="normal" on-tap="selectMoveHead">Move head</paper-button><paper-button class="normal" on-tap="selectDetectTabletopObjects">Detect tabletop objects</paper-button></div><template is="dom-if" if="[[params.hasTwoArms]]"><div class="group layout horizontal"><div class="half"><h3>Left arm</h3><paper-button class="normal" on-tap="selectLeftGripperPose">Save gripper pose</paper-button><br><paper-button class="normal" on-tap="selectLeftOpenGripper">Open gripper</paper-button><br><paper-button class="normal" on-tap="selectLeftCloseGripper">Close gripper</paper-button></div><div class="half"><h3>Right arm</h3><paper-button class="normal" on-tap="selectRightGripperPose">Save gripper pose</paper-button><br><paper-button class="normal" on-tap="selectRightOpenGripper">Open gripper</paper-button><br><paper-button class="normal" on-tap="selectRightCloseGripper">Close gripper</paper-button></div></div></template><template is="dom-if" if="[[!params.hasTwoArms]]"><div class="group" hidden$="[[params.hasTwoArms]]"><h3>Arm</h3><div><paper-button class="normal" on-tap="selectGripperPose">Save gripper pose</paper-button><br><paper-button class="normal" on-tap="selectOpenGripper">Open gripper</paper-button><br><paper-button class="normal" on-tap="selectCloseGripper">Close gripper</paper-button></div></div></template></div></template><script>Polymer({is:'pbd-action-picker',properties:{ros:Object,_armState:Object,_isArmFrozen:{type:Boolean,computed:'_computeIsArmFrozen(_armState)'},_isLeftArmFrozen:{type:Boolean,computed:'_computeIsLeftArmFrozen(_armState)'},_isRightArmFrozen:{type:Boolean,computed:'_computeIsRightArmFrozen(_armState)'}},cancel:function(){this.fire('iron-deselect')},selectMoveHead:function(){this.fire('iron-select',{type:'move to joint goal',actuator_group:'head'})},selectDetectTabletopObjects:function(){this.fire('iron-select',{type:'detect tabletop objects'})},selectFindCustomLandmark:function(){this.fire('iron-select',{type:'find custom landmark'})},selectGripperPose:function(){this._selectGripperPose('arm')},selectJointAngles:function(){this._selectJointAngles('arm')},selectOpenGripper:function(){this._selectActuateGripper('gripper','open')},selectCloseGripper:function(){this._selectActuateGripper('gripper','close')},selectLeftGripperPose:function(){this._selectGripperPose('left arm')},selectLeftJointAngles:function(){this._selectJointAngles('left arm')},selectLeftOpenGripper:function(){this._selectActuateGripper('left gripper','open')},selectLeftCloseGripper:function(){this._selectActuateGripper('left gripper','close')},selectRightGripperPose:function(){this._selectGripperPose('right arm')},selectRightJointAngles:function(){this._selectJointAngles('right arm')},selectRightOpenGripper:function(){this._selectActuateGripper('right gripper','open')},selectRightCloseGripper:function(){this._selectActuateGripper('right gripper','close')},_selectGripperPose:function(a){this.fire('iron-select',{type:'move to cartesian goal',actuator_group:a})},_selectJointAngles:function(a){this.fire('iron-select',{type:'move to joint goal',actuator_group:a})},_selectActuateGripper:function(a,b){var c={position:0.1,max_effort:100};'close'===b&&(c.position=0,c.max_effort=75);var e=null;'gripper'===a?e=this.$.gripperAction:'left gripper'===a?e=this.$.leftGripperAction:'right gripper'===a&&(e=this.$.rightGripperAction),e.send({command:c});this.fire('iron-select',{type:'actuate gripper',actuator_group:a,gripper_command:c})},_computeIsArmFrozen:function(a){return!a||'frozen'===a.arm_controller},_computeIsLeftArmFrozen:function(a){return!a||'frozen'===a.l_arm_controller},_computeIsRightArmFrozen:function(a){return!a||'frozen'===a.r_arm_controller},_freezeArm:function(a){var b=a.target.dataset.actuatorGroup;this.$.freeze.call({actuator_group:b})},_relaxArm:function(a){var b=a.target.dataset.actuatorGroup;this.$.relax.call({actuator_group:b})}});</script></dom-module><dom-module id="pbd-step" assetpath="src/pbd-step/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;}.title{border-top:1px solid var(--paper-grey-300);padding-top:10px;margin-bottom:10px;}.title paper-button{height:30px;}h3{margin:auto 0px;display:inline-block;}</style><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><div class="center horizontal layout title"><h3>Step [[_stepNum(index)]]</h3><span class="flex"></span><paper-button class="add important" on-tap="_togglePicker">+ Add parallel action</paper-button><paper-button class="delete" on-tap="_maybeDeleteStep">Delete</paper-button></div><iron-collapse id="picker"><pbd-action-picker class="dropdown-content" params="[[params]]" ros="[[ros]]" on-iron-select="_addAction" on-iron-deselect="closeActionPicker"></pbd-action-picker></iron-collapse><div hidden$="[[hasActions(step.actions)]]">No actions</div><template is="dom-repeat" items="{{step.actions}}" as="action" index-as="stepIndex"><pbd-action action="{{action}}" params="[[params]]" program-id="[[programId]]" step-num="[[index]]" index="[[stepIndex]]" landmarks="[[landmarks]]" on-delete="_handleDeleteAction" ros="[[ros]]"></pbd-action></template><paper-dialog id="deleteDialog" modal=""><h2>Delete step [[_stepNum(index)]]?</h2><div class="deleteButtons"><paper-button dialog-dismiss="" class="clear">Cancel</paper-button><paper-button dialog-confirm="" on-tap="deleteStep" class="delete">Delete</paper-button></div></paper-dialog></template><script>Polymer({is:'pbd-step',properties:{index:Number,landmarks:{type:Array,value:function(){return[]}},params:Object,program:Object,programId:String,step:{notify:!0,type:Object},ros:Object},observers:['_computeLandmarks(program, index)'],_computeLandmarks(a,b){var c=[];if(a&&(b||0===b))for(var d=b-1;0<=d;--d){for(var h,e=a.steps[d].landmarks,f=[],g=0;g<e.length;++g)h=e[g],'surface box'===h.type&&f.push(h);if(0<f.length){c=f;break}}var j=[{type:'tf frame',name:'base_link'},{type:'tf frame',name:'torso_lift_link'}];j=j.concat(c),this.set('landmarks',j)},hasActions:function(a){return a&&0<a.length},deleteStep:function(){this.fire('delete',{index:this.index})},_addAction:function(a){var b=a.detail,c={type:'add action',program_info:{db_id:this.programId},step_num:this.index,action:b};this.$.eventPub.publish(c),this.$.picker.opened=!1},_maybeDeleteStep:function(){this.$.deleteDialog.open()},_handleDeleteAction:function(a){var b=a.detail.index,c={type:'delete action',program_info:{db_id:this.programId},step_num:this.index,action_num:b};this.$.eventPub.publish(c),a.stopPropagation()},_stepNum:function(a){return parseInt(a)+1},_togglePicker:function(){this.$.picker.toggle()},openActionPicker:function(){this.$.picker.opened=!0},closeActionPicker:function(){this.$.picker.opened=!1}});</script></dom-module><dom-module id="pbd-program" assetpath="src/pbd-program/"><template><style include="shared-styles"></style><style is="custom-style" include="iron-flex iron-flex-alignment"></style><style>:host{display:block;height:100%;}a{color:#000;text-decoration:none;}.add{height:25px;padding:5px 5px;line-height:14px;margin-bottom:5px;}paper-button.back{height:40px;}paper-button.back:hover{background-color:transparent;}.step{background-color:var(--paper-grey-300);padding:5px 5px;line-height:14px;margin-bottom:5px;min-width:25px;}.steps > span{margin-right:5px;}.step.iron-selected{background-color:var(--paper-grey-400);}.step:hover{background-color:var(--paper-grey-400);}.runstop{color:#fff;margin-left:10px;height:40px;}.run{background-color:var(--paper-green-500);}.stop{background-color:var(--paper-red-500);}.stepDiv{min-width:350px;margin-bottom:10px;overflow-y:auto;padding-left:2px;padding-right:2px;padding-bottom:2px;}#rviz{display:block;height:500px;}@media (min-width: 768px){#layout{height:100%;}.content{@apply (--layout-horizontal);@apply (--layout-flex);}.stepDiv{width:350px;max-height:100%;margin-bottom:0px;margin-right:10px;}#rviz{height:100%;width:350px;@apply (--layout-flex);}}</style><app-route route="{{route}}" pattern="/:id" data="{{routeData}}"></app-route><ros-topic id="programSub" on-message="_handleProgram" msg-type="rapid_pbd_msgs/Program" topic="rapid_pbd/program/{{routeData.id}}" ros="[[ros]]"></ros-topic><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><ros-action-client id="programAction" ros="[[ros]]" server="/rapid_pbd/execute_program_action" action-type="rapid_pbd_msgs/ExecuteProgramAction" on-feedback="_handleFeedback" on-result="_handleResult"></ros-action-client><ros-topic auto="" last-message="{{isRunning}}" msg-type="std_msgs/Bool" topic="rapid_pbd/is_running" ros="[[ros]]"></ros-topic><div id="layout" class="layout vertical"><div class="layout horizontal center"><a href="#/" class="self-end"><paper-button class="back clear"><iron-icon icon="arrow-back"></iron-icon>Back</paper-button></a><paper-input class="flex" id="programName" label="Program name" value="[[program.name]]" on-blur="save"></paper-input><paper-button class="runstop run" hidden$="[[isRunning.data]]" raised="" on-tap="run"><iron-icon icon="av:play-arrow"></iron-icon>Run</paper-button><paper-button class="runstop stop" hidden$="[[!isRunning.data]]" raised="" on-tap="stop"><iron-icon icon="av:stop"></iron-icon>Stop</paper-button></div><div class="layout horizontal center"><span>Steps:&nbsp;</span> <span hidden$="[[_hasSteps(program.steps)]]">None</span><iron-selector attr-for-selected="name" selected="{{currentStepNum}}"><template is="dom-repeat" id="stepList" items="[[program.steps]]"><paper-button class="step" name="[[index]]" on-tap="selectStep">{{_stepNum(index)}}</paper-button></template></iron-selector><paper-button class="add important" on-tap="addStep">+ Add Step</paper-button></div><div class="content"><array-selector id="selector" items="{{program.steps}}" selected="{{currentStep}}"></array-selector><div class="stepDiv" hidden$="[[!_hasSteps(program.steps)]]"><div class="stepDivInner"><pbd-step id="step" index="[[currentStepNum]]" params="[[params]]" program-id="[[routeData.id]]" program="[[program]]" step="{{currentStep}}" ros="[[ros]]" on-delete="_deleteStep"></pbd-step></div></div><ros-rviz id="rviz" global-options="{{globalOptions}}" ros="[[ros]]"></ros-rviz></div></div><paper-dialog id="errorDialog" modal=""><h2>Error running the program</h2><p>[[error]]</p><div class="buttons"><paper-button dialog-confirm="" class="clear">OK</paper-button></div></paper-dialog></template><script>Polymer({is:'pbd-program',properties:{currentStepNum:{type:Number,value:0},params:Object,program:{type:Object,observer:'_programChanged'},ros:Object,route:Object,isRunning:{type:Object,value:function(){return{data:!1}}}},observers:['load(routeData.id)','_programUpdated(program.*)','_stepChanged(ros, routeData.id, currentStepNum)','_currentStepNumChanged(program, currentStepNum)','_isRunningChanged(isRunning.data)'],load:function(a){if(a){this.$.programSub.subscribe(),this.currentStepNum=0;this.$.rviz?this.$.rviz.loadConfig({globalOptions:{fixedFrame:'/base_link',background:'#113344'},displays:[{isShown:!0,name:'Grid',type:'grid',options:{cellSize:1,color:'#cccccc',numCells:20}},{isShown:!0,name:'Program robot model',type:'markerArray',options:{topic:'/rapid_pbd/robot/'+a}},{isShown:!0,name:'Scene',type:'pointCloud2',options:{size:0.01,topic:'/rapid_pbd/scene/'+a}},{isShown:!0,name:'Surface segmentation',type:'markerArray',options:{topic:'/rapid_pbd/surface_segmentation/'+a}},{isShown:!1,name:'Current robot model',type:'urdf',options:{param:'robot_description',tfPrefix:''}},{isShown:!1,name:'Current surface segmentation',type:'markerArray',options:{topic:'/rapid_pbd/runtime_segmentation'}}],sidebarOpened:!1}):console.log('rviz not ready')}},save:function(){this.program.name=this.$.programName.value;var a={type:'update program',program_info:{db_id:this.routeData.id,name:this.program.name},program:this.program};console.debug('Saving',this.program),this.$.eventPub.publish(a)},run:function(){var a={program:this.program};this.$.programAction.send(a)},stop:function(){this.$.programAction.cancel()},_programUpdated:function(a){if(a.base&&'program'!==a.path){if(a.path.endsWith('.length'))return;var b=this;this.debounce('save',function(){b.save()},100)}},addStep:function(){var a={type:'add step',program_info:{db_id:this.routeData.id}};this.$.eventPub.publish(a),this.currentStepNum=this.program.steps.length,this.$.step.openActionPicker()},selectStep:function(a){this.$.stepList.itemForElement(a.target);this.currentStepNum=parseInt(a.target.name)},_deleteStep:function(a){var b={type:'delete step',program_info:{db_id:this.routeData.id},step_num:this.currentStepNum};this.$.eventPub.publish(b),this.currentStepNum=Math.max(this.currentStepNum-1,0),a.stopPropagation()},_programChanged:function(a){!a||0<a.steps.length&&this.$.selector.select(a.steps[0])},_hasSteps:function(a){return a&&0<a.length},_currentStepNumChanged:function(a,b){a&&a.steps&&this.$.selector.select(a.steps[b])},_stepChanged(a,b,c){if(a&&b&&(c||0===c)){this.$.eventPub.publish({type:'view step',program_info:{db_id:b},step_num:c})}},_stepNum:function(a){return parseInt(a)+1},_handleFeedback:function(a){this.currentStepNum=a.detail.step_number},_handleResult:function(a){var b=a.detail.error;b&&(this.error=a.detail.error,this.$.errorDialog.open())},_handleProgram:function(a){var b=a.detail;return this.program?void(!_.isEqual(this.program,b)&&this.set('program',b)):void this.set('program',b)},_isRunningChanged:function(a){if(a){this._depthCloud||(this._depthCloud=new ROS3D.DepthCloud({url:'http://'+window.location.hostname+':9998/streams/depthcloud_encoded.webm',f:525,pointSize:1})),this._depthCloud.startStream();var b='';'pr2'===this.params.robot?b='/head_mount_kinect_rgb_optical_frame':'fetch'===this.params.robot?b='/head_camera_rgb_optical_frame':console.error('Unknown robot type',this.params.robot),this._depthNode=new ROS3D.SceneNode({frameID:b,tfClient:this.$.rviz.tfClient,object:this._depthCloud}),this._depthNode.scale.x=0.5,this._depthNode.scale.y=0.5,this._depthNode.scale.z=0.5,this.$.rviz._viewer.scene.add(this._depthNode),this.$.rviz.set('displays.1.isShown',!1),this.$.rviz.set('displays.2.isShown',!1),this.$.rviz.set('displays.3.isShown',!1),this.$.rviz.set('displays.4.isShown',!0),this.$.rviz.set('displays.5.isShown',!0)}else this._depthCloud,this._depthNode&&(this.$.rviz._viewer.scene.remove(this._depthNode),this._depthNode=null),this.$.rviz.set('displays.1.isShown',!0),this.$.rviz.set('displays.2.isShown',!0),this.$.rviz.set('displays.3.isShown',!0),this.$.rviz.set('displays.4.isShown',!1),this.$.rviz.set('displays.5.isShown',!1)}});</script></dom-module><dom-module id="pbd-program-list" assetpath="src/pbd-program-list/"><template><style include="shared-styles"></style><style>:host{display:block;}.paper-material{margin-top:10px;}table{border-spacing:0;width:100%;}td, th{padding:10px;text-align:left;}td{border-top:1px solid rgba(0, 0, 0, var(--light-divider-opacity));}.deleteButtons{text-align:right;}a{color:#000;text-decoration:none;}</style><ros-topic auto="" last-message="{{programList}}" msg-type="rapid_pbd_msgs/ProgramInfoList" topic="rapid_pbd/program_list" ros="[[ros]]"></ros-topic><ros-topic auto="" id="eventPub" msg-type="rapid_pbd_msgs/EditorEvent" topic="rapid_pbd/editor_events" ros="[[ros]]"></ros-topic><paper-button id="createButton" class="important" raised="" on-tap="_handleCreate">+ Create new program</paper-button><div class="paper-material"><table><tbody><tr><th>Name</th><th>Actions</th></tr><template is="dom-if" if="[[!programList.programs.length]]"><tr><td colspan="2">No programs have been created yet.</td></tr></template><template is="dom-repeat" items="[[programList.programs]]" as="program"><tr><td>{{program.name}}</td><td><a href="#/program/{{program.db_id}}"><paper-button class="clear">Open</paper-button></a><paper-button class="delete" data-db-id="{{program.db_id}}" on-tap="_maybeDelete">Delete</paper-button></td></tr></template></tbody></table><paper-dialog id="deleteDialog" modal=""><h2>Delete program?</h2><div class="deleteButtons"><paper-button class="clear" dialog-dismiss="">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_handleDelete" class="delete">Delete</paper-button></div></paper-dialog></div></template><script>Polymer({is:'pbd-program-list',properties:{ros:Object,route:Object,programList:{type:Object,value:function(){return{programs:[]}}}},_maybeDelete:function(a){var b=a.model.get('program.db_id');this._idToDelete=b,this.$.deleteDialog.open()},_handleDelete:function(){this.$.deleteDialog.close();var b={type:'delete program',program_info:{db_id:this._idToDelete}};this.$.eventPub.publish(b)},_handleCreate:function(){var b=new Date,c='Untitled program '+b.toLocaleString();this.$.eventPub.publish({type:'create program',program_info:{name:c}})}});</script></dom-module><dom-module id="pbd-app" assetpath="src/pbd-app/"><template><style include="shared-styles"></style><style>:host{display:block;@apply (--paper-font-common-base);height:100%;}paper-dialog paper-button:hover{background-color:var(--paper-grey-300);}#buttons{text-align:right;}</style><app-location route="{{route}}" use-hash-as-path=""></app-location><app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{routeTail}}"></app-route><ros-websocket auto="" url="{{url}}" id="websocket" on-connection="_handleConnection" on-error="_handleClose" on-close="_handleClose" ros="{{ros}}"></ros-websocket><ros-topic auto="" on-message="_handleRosout" msg-type="rosgraph_msgs/Log" topic="rosout" ros="[[ros]]"></ros-topic><ros-param id="param" name="rapid_pbd/robot" string-val="{{_robot}}" ros="[[ros]]"></ros-param><paper-dialog modal="" id="dialog"><h2>Disconnected from server</h2><p>Please check that the robot's websocket server is running and try again.</p><paper-input id="websocketUrl" label="Websocket URL" value="{{url}}"></paper-input><div id="buttons"><paper-button dialog-confirm="" on-tap="reconnect">Reconnect</paper-button></div></paper-dialog><template is="dom-if" if="[[!_shouldShowProgram(routeData.page)]]"><pbd-program-list data-page="" ros="[[ros]]" route="{{route}}"></pbd-program-list></template><template is="dom-if" if="[[_shouldShowProgram(routeData.page)]]"><pbd-program data-page="program" params="[[params]]" ros="[[ros]]" route="{{routeTail}}"></pbd-program></template></template><script>Polymer({is:'pbd-app',properties:{routeData:{type:Object,value:function(){return{page:''}}},url:{type:String,value:function(){var a=window.location.hostname,b='ws:';return'https:'===window.location.protocol&&(b='wss:'),b+'//'+a+':9090'}},params:{type:Object,value:function(){return{}}},_robot:{type:String}},observers:['_robotChanged(_robot)'],reconnect:function(){var a=this.$.websocketUrl.value;this.$.websocket.connect(a)},_handleConnection:function(){this.$.dialog.close()},_handleClose:function(){this.$.dialog.open()},_handleRosout:function(a){var b=a.detail;-1===b.name.search('rapid_pbd')||(1==b.level||2==b.level?console.info(b.msg):4==b.level?console.warn(b.msg):(8==b.level||16==b.level)&&console.error(b.msg))},_shouldShowProgram:function(a){return'program'===a},_robotChanged:function(a){'pr2'===a?(this.set('params.robot',a),this.set('params.hasTwoArms',!0)):'fetch'===a?(this.set('params.robot',a),this.set('params.hasTwoArms',!1)):console.error('Unknown robot type:',a)}});</script></dom-module><style>html{background-color:#fafafa;height:100%;}body{height:100%;box-sizing:border-box;margin:0;padding:8px;}</style></div><pbd-app></pbd-app></body></html>