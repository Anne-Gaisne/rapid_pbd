<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/ros-param/ros-param.html">
<link rel="import" href="../../bower_components/ros-topic/ros-topic.html">
<link rel="import" href="../../bower_components/ros-websocket/ros-websocket.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../shared-styles.html">
<link rel="import" href="pbd-home.html">

<dom-module id="pbd-new-actionv2">
    <template>
        <style include="shared-styles"></style>
        <style>
            #content {
                padding: 2%;
            }
            #form {
                border: 1px solid;
                box-sizing: border-box;
                padding: 2%;
            }
            #content paper-button {
                background: rgba(190, 241, 230, 0.603);                
            }
            .styled-select {
                background: url(http://i62.tinypic.com/15xvbd5.png) no-repeat 96% 0;
                height: 29px;
                overflow: hidden;
                width: 240px;
            }
            .styled-select select {
                background: transparent;
                border: none;
                font-size: 14px;
                height: 29px;
                padding: 5px; /* If you add too much padding here, the options won't show in IE */
                width: 268px;
            }
            .styled-select.slate {
                background: url(http://i62.tinypic.com/2e3ybe1.jpg) no-repeat right center;
                height: 34px;
                width: 240px;
            }
            .styled-select.slate select {
                border: 1px solid #ccc;
                font-size: 16px;
                height: 34px;
                width: 268px;
            }
        </style>
        <body class="fullbleed layout vertical">
            <paper-header-panel class="flex">     
                <paper-toolbar slot="header">
                    <paper-button slot="top">Home</paper-button>
                    <paper-button slot="top">Actions menu</paper-button>
                    <paper-button slot="top">Problems menu</paper-button>
                    <paper-button slot="top">Help</paper-button>
                </paper-toolbar>

                <div id="content">
                    <h1 align="center">Create an Action</h1>

                    <div id="form">
                        <div id=""></div>  
                        <p> 
                            Enter a name for the action : 
                            <iron-input bind-value="{{actionName}}">
                                <input is="iron-input">
                            </iron-input>
                        </p>

                        <paper-button raised>Redetect world state</paper-button>

                        <p>The world types have been detected as shown on the right :</p>

                        <fieldset>
                            <legend>Objects detected</legend>
                            Instance name    -    Instance type <br>
                            <template is="dom-repeat" items="[[listObj]]" as="nbObj">
                                <!-- div uniquement pour le style du select -->
                                <div class="styled-select slate">
                                <select id="nomObj-[[nbObj]]">
                                    <option value="obj1">obj1</option>
                                    <option value="obj2">obj2</option>
                                </select>
                                </div>
                                <div class="styled-select slate">
                                <select id="typeObj-[[nbObj]]">
                                    <option value="Cylinder">Cylinder</option>
                                    <option value="Cube">Cube</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                                </div>                          
                            </template>
                        </fieldset>

                    </div>
                </div>
            </paper-header-panel>            
        </body>                  
    </template>
    <script>
        Polymer({
            is: 'pbd-new-actionv2',

            properties: {
                actionName: {
                    type: String,
                    value: ''
                },
                nbObj: {
                    type: Number,
                    value: 1
                },
                nbPrecond: {
                    type:Number,
                    value: 1
                },

                // a remplacer si possible mais comment ?
                // tableau d'entier [1,2,3] allant jusqu'a nbPrecond, utilis√© pour dom-repeat qui veut un array et non un number
                listObj: {
                    type: Array,
                    value: [1]
                },
                listPrecond: {                
                    type: Array,
                    value: [1]
                },
            },

            newPrecond: function() {
                this.nbPrecond++;
                this.push('listPrecond',this.nbPrecond);
            },
            newObj: function() {
                this.nbObj++;
                this.push('listObj',this.nbObj);
            },
        });
    </script>
</dom-module>